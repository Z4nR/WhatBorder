var V="comm",W="rule",X="decl",y="@import",rr="@namespace",er="@keyframes",ar="@layer",Z=Math.abs,B=String.fromCharCode;function _(r){return r.trim()}function Y(r,e,c){return r.replace(e,c)}function cr(r,e,c){return r.indexOf(e,c)}function S(r,e){return r.charCodeAt(e)|0}function T(r,e,c){return r.slice(e,c)}function l(r){return r.length}function nr(r){return r.length}function P(r,e){return e.push(r),r}var K=1,x=1,$=0,v=0,i=0,L="";function G(r,e,c,n,s,d,O,o){return{value:r,root:e,parent:c,type:n,props:s,children:d,line:K,column:x,length:O,return:"",siblings:o}}function ir(){return i}function tr(){return i=v>0?S(L,--v):0,x--,i===10&&(x=1,K--),i}function h(){return i=v<$?S(L,v++):0,x++,i===10&&(x=1,K++),i}function M(){return S(L,v)}function D(){return v}function U(r,e){return T(L,r,e)}function I(r){switch(r){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function sr(r){return K=x=1,$=l(L=r),v=0,[]}function ur(r){return L="",r}function j(r){return _(U(v-1,q(r===91?r+2:r===40?r+1:r)))}function fr(r){for(;(i=M())&&i<33;)h();return I(r)>2||I(i)>3?"":" "}function or(r,e){for(;--e&&h()&&!(i<48||i>102||i>57&&i<65||i>70&&i<97););return U(r,D()+(e<6&&M()==32&&h()==32))}function q(r){for(;h();)switch(i){case r:return v;case 34:case 39:r!==34&&r!==39&&q(i);break;case 40:r===41&&q(r);break;case 92:h();break}return v}function vr(r,e){for(;h()&&r+i!==57;)if(r+i===84&&M()===47)break;return"/*"+U(e,v-1)+"*"+B(r===47?r:h())}function hr(r){for(;!I(M());)h();return U(r,v)}function kr(r){return ur(F("",null,null,null,[""],r=sr(r),0,[0],r))}function F(r,e,c,n,s,d,O,o,E){for(var m=0,b=0,u=O,N=0,p=0,w=0,f=1,z=1,g=1,t=0,A="",R=s,C=d,k=n,a=A;z;)switch(w=t,t=h()){case 40:if(w!=108&&S(a,u-1)==58){cr(a+=Y(j(t),"&","&\f"),"&\f",Z(m?o[m-1]:0))!=-1&&(g=-1);break}case 34:case 39:case 91:a+=j(t);break;case 9:case 10:case 13:case 32:a+=fr(w);break;case 92:a+=or(D()-1,7);continue;case 47:switch(M()){case 42:case 47:P(br(vr(h(),D()),e,c,E),E),(I(w||1)==5||I(M()||1)==5)&&l(a)&&T(a,-1,void 0)!==" "&&(a+=" ");break;default:a+="/"}break;case 123*f:o[m++]=l(a)*g;case 125*f:case 59:case 0:switch(t){case 0:case 125:z=0;case 59+b:g==-1&&(a=Y(a,/\f/g,"")),p>0&&(l(a)-u||f===0&&w===47)&&P(p>32?J(a+";",n,c,u-1,E):J(Y(a," ","")+";",n,c,u-2,E),E);break;case 59:a+=";";default:if(P(k=H(a,e,c,m,b,s,o,A,R=[],C=[],u,d),d),t===123)if(b===0)F(a,e,k,k,R,d,u,o,C);else{switch(N){case 99:if(S(a,3)===110)break;case 108:if(S(a,2)===97)break;default:b=0;case 100:case 109:case 115:}b?F(r,k,k,n&&P(H(r,k,k,0,0,s,o,A,s,R=[],u,C),C),s,C,u,o,n?R:C):F(a,k,k,k,[""],C,0,o,C)}}m=b=p=0,f=g=1,A=a="",u=O;break;case 58:u=1+l(a),p=w;default:if(f<1){if(t==123)--f;else if(t==125&&f++==0&&tr()==125)continue}switch(a+=B(t),t*f){case 38:g=b>0?1:(a+="\f",-1);break;case 44:o[m++]=(l(a)-1)*g,g=1;break;case 64:M()===45&&(a+=j(h())),N=M(),b=u=l(A=a+=hr(D())),t++;break;case 45:w===45&&l(a)==2&&(f=0)}}return d}function H(r,e,c,n,s,d,O,o,E,m,b,u){for(var N=s-1,p=s===0?d:[""],w=nr(p),f=0,z=0,g=0;f<n;++f)for(var t=0,A=T(r,N+1,N=Z(z=O[f])),R=r;t<w;++t)(R=_(z>0?p[t]+" "+A:Y(A,/&\f/g,p[t])))&&(E[g++]=R);return G(r,e,c,s===0?W:o,E,m,b,u)}function br(r,e,c,n){return G(r,e,c,V,B(ir()),T(r,2,-2),0,n)}function J(r,e,c,n,s){return G(r,e,c,X,T(r,0,n),T(r,n+1,-1),n,s)}function Q(r,e){for(var c="",n=0;n<r.length;n++)c+=e(r[n],n,r,e)||"";return c}function lr(r,e,c,n){switch(r.type){case ar:if(r.children.length)break;case y:case rr:case X:return r.return=r.return||r.value;case V:return"";case er:return r.return=r.value+"{"+Q(r.children,n)+"}";case W:if(!l(r.value=r.props.join(",")))return""}return l(c=Q(r.children,n))?r.return=r.value+"{"+c+"}":""}export{lr as a,kr as c,Q as s};
