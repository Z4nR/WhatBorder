import{c as R,e as B,k as se,g as J,b as D,d as Z}from"./@babel-DAuA_VVL.js";import{c as U}from"./classnames-D0qp76y0.js";import{u as de,i as ee,e as ve,B as fe}from"./rc-util-BCTlEnPv.js";import{r as a}from"./react-DEe3I7kj.js";import{C as he}from"./rc-motion-BhsrND7Q.js";var Q=function(e,s){if(!e)return null;var n={left:e.offsetLeft,right:e.parentElement.clientWidth-e.clientWidth-e.offsetLeft,width:e.clientWidth,top:e.offsetTop,bottom:e.parentElement.clientHeight-e.clientHeight-e.offsetTop,height:e.clientHeight};return s?{left:0,right:0,width:0,top:n.top,bottom:n.bottom,height:n.height}:{left:n.left,right:n.right,width:n.width,top:0,bottom:0,height:0}},f=function(e){return e!==void 0?"".concat(e,"px"):void 0};function me(t){var e=t.prefixCls,s=t.containerRef,n=t.value,g=t.getValueIndex,u=t.motionName,M=t.onMotionStart,N=t.onMotionEnd,h=t.direction,x=t.vertical,c=x===void 0?!1:x,T=a.useRef(null),P=a.useState(n),p=R(P,2),v=p[0],V=p[1],A=function(y){var b,C=g(y),S=(b=s.current)===null||b===void 0?void 0:b.querySelectorAll(".".concat(e,"-item"))[C];return(S==null?void 0:S.offsetParent)&&S},_=a.useState(null),I=R(_,2),o=I[0],$=I[1],j=a.useState(null),m=R(j,2),r=m[0],k=m[1];de(function(){if(v!==n){var i=A(v),y=A(n),b=Q(i,c),C=Q(y,c);V(n),$(b),k(C),i&&y?M():N()}},[n]);var w=a.useMemo(function(){if(c){var i;return f((i=o==null?void 0:o.top)!==null&&i!==void 0?i:0)}return f(h==="rtl"?-(o==null?void 0:o.right):o==null?void 0:o.left)},[c,h,o]),E=a.useMemo(function(){if(c){var i;return f((i=r==null?void 0:r.top)!==null&&i!==void 0?i:0)}return f(h==="rtl"?-(r==null?void 0:r.right):r==null?void 0:r.left)},[c,h,r]),L=function(){return c?{transform:"translateY(var(--thumb-start-top))",height:"var(--thumb-start-height)"}:{transform:"translateX(var(--thumb-start-left))",width:"var(--thumb-start-width)"}},F=function(){return c?{transform:"translateY(var(--thumb-active-top))",height:"var(--thumb-active-height)"}:{transform:"translateX(var(--thumb-active-left))",width:"var(--thumb-active-width)"}},W=function(){$(null),k(null),N()};return!o||!r?null:a.createElement(he,{visible:!0,motionName:u,motionAppear:!0,onAppearStart:L,onAppearActive:F,onVisibleChanged:W},function(i,y){var b=i.className,C=i.style,S=B(B({},C),{},{"--thumb-start-left":w,"--thumb-start-width":f(o==null?void 0:o.width),"--thumb-active-left":E,"--thumb-active-width":f(r==null?void 0:r.width),"--thumb-start-top":w,"--thumb-start-height":f(o==null?void 0:o.height),"--thumb-active-top":E,"--thumb-active-height":f(r==null?void 0:r.height)}),X={ref:ee(T,y),style:S,className:U("".concat(e,"-thumb"),b)};return a.createElement("div",X)})}var be=["prefixCls","direction","vertical","options","disabled","defaultValue","value","name","onChange","className","motionName"];function Se(t){if(typeof t.title<"u")return t.title;if(Z(t.label)!=="object"){var e;return(e=t.label)===null||e===void 0?void 0:e.toString()}}function ge(t){return t.map(function(e){if(Z(e)==="object"&&e!==null){var s=Se(e);return B(B({},e),{},{title:s})}return{label:e==null?void 0:e.toString(),title:e==null?void 0:e.toString(),value:e}})}var we=function(e){var s=e.prefixCls,n=e.className,g=e.disabled,u=e.checked,M=e.label,N=e.title,h=e.value,x=e.name,c=e.onChange,T=e.onFocus,P=e.onBlur,p=e.onKeyDown,v=e.onKeyUp,V=e.onMouseDown,A=function(I){g||c(I,h)};return a.createElement("label",{className:U(n,D({},"".concat(s,"-item-disabled"),g)),onMouseDown:V},a.createElement("input",{name:x,className:"".concat(s,"-item-input"),type:"radio",disabled:g,checked:u,onChange:A,onFocus:T,onBlur:P,onKeyDown:p,onKeyUp:v}),a.createElement("div",{className:"".concat(s,"-item-label"),title:N,"aria-selected":u},M))},ye=a.forwardRef(function(t,e){var s,n,g=t.prefixCls,u=g===void 0?"rc-segmented":g,M=t.direction,N=t.vertical,h=t.options,x=h===void 0?[]:h,c=t.disabled,T=t.defaultValue,P=t.value,p=t.name,v=t.onChange,V=t.className,A=V===void 0?"":V,_=t.motionName,I=_===void 0?"thumb-motion":_,o=se(t,be),$=a.useRef(null),j=a.useMemo(function(){return ee($,e)},[$,e]),m=a.useMemo(function(){return ge(x)},[x]),r=ve((s=m[0])===null||s===void 0?void 0:s.value,{value:P,defaultValue:T}),k=R(r,2),w=k[0],E=k[1],L=a.useState(!1),F=R(L,2),W=F[0],i=F[1],y=function(d,K){E(K),v==null||v(K)},b=fe(o,["children"]),C=a.useState(!1),S=R(C,2),X=S[0],O=S[1],te=a.useState(!1),Y=R(te,2),ae=Y[0],q=Y[1],ne=function(){q(!0)},ie=function(){q(!1)},oe=function(){O(!1)},re=function(d){d.key==="Tab"&&O(!0)},z=function(d){var K=m.findIndex(function(ce){return ce.value===w}),G=m.length,ue=(K+d+G)%G,H=m[ue];H&&(E(H.value),v==null||v(H.value))},le=function(d){switch(d.key){case"ArrowLeft":case"ArrowUp":z(-1);break;case"ArrowRight":case"ArrowDown":z(1);break}};return a.createElement("div",J({role:"radiogroup","aria-label":"segmented control",tabIndex:c?void 0:0},b,{className:U(u,(n={},D(n,"".concat(u,"-rtl"),M==="rtl"),D(n,"".concat(u,"-disabled"),c),D(n,"".concat(u,"-vertical"),N),n),A),ref:j}),a.createElement("div",{className:"".concat(u,"-group")},a.createElement(me,{vertical:N,prefixCls:u,value:w,containerRef:$,motionName:"".concat(u,"-").concat(I),direction:M,getValueIndex:function(d){return m.findIndex(function(K){return K.value===d})},onMotionStart:function(){i(!0)},onMotionEnd:function(){i(!1)}}),m.map(function(l){var d;return a.createElement(we,J({},l,{name:p,key:l.value,prefixCls:u,className:U(l.className,"".concat(u,"-item"),(d={},D(d,"".concat(u,"-item-selected"),l.value===w&&!W),D(d,"".concat(u,"-item-focused"),ae&&X&&l.value===w),d)),checked:l.value===w,onChange:y,onFocus:ne,onBlur:ie,onKeyDown:le,onKeyUp:re,onMouseDown:oe,disabled:!!c||!!l.disabled}))})))}),pe=ye;export{pe as T};
