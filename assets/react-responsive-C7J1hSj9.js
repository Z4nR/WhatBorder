import{r as c}from"./react-DEe3I7kj.js";import{m as p}from"./matchmediaquery-CFR3Nc42.js";import{h as l}from"./hyphenate-style-name-HOLnhz8K.js";import{s as d}from"./shallow-equal-BQUY1Bas.js";import{P as t}from"./prop-types-BQUlPbeI.js";const r=t.oneOfType([t.string,t.number]),f={all:t.bool,grid:t.bool,aural:t.bool,braille:t.bool,handheld:t.bool,print:t.bool,projection:t.bool,screen:t.bool,tty:t.bool,tv:t.bool,embossed:t.bool},b={orientation:t.oneOf(["portrait","landscape"]),scan:t.oneOf(["progressive","interlace"]),aspectRatio:t.string,deviceAspectRatio:t.string,height:r,deviceHeight:r,width:r,deviceWidth:r,color:t.bool,colorIndex:t.bool,monochrome:t.bool,resolution:r,type:Object.keys(f)},{type:Q,...y}=b,g={minAspectRatio:t.string,maxAspectRatio:t.string,minDeviceAspectRatio:t.string,maxDeviceAspectRatio:t.string,minHeight:r,maxHeight:r,minDeviceHeight:r,maxDeviceHeight:r,minWidth:r,maxWidth:r,minDeviceWidth:r,maxDeviceWidth:r,minColor:t.number,maxColor:t.number,minColorIndex:t.number,maxColorIndex:t.number,minMonochrome:t.number,maxMonochrome:t.number,minResolution:r,maxResolution:r,...y},x={...f,...g};var M={all:x};const v=e=>`not ${e}`,E=(e,o)=>{const n=l(e);return typeof o=="number"&&(o=`${o}px`),o===!0?n:o===!1?v(n):`(${n}: ${o})`},D=e=>e.join(" and "),C=e=>{const o=[];return Object.keys(M.all).forEach(n=>{const s=e[n];s!=null&&o.push(E(n,s))}),D(o)},R=c.createContext(void 0),q=e=>e.query||C(e),m=e=>e?Object.keys(e).reduce((n,s)=>(n[l(s)]=e[s],n),{}):void 0,h=()=>{const e=c.useRef(!1);return c.useEffect(()=>{e.current=!0},[]),e.current},O=e=>{const o=c.useContext(R),n=()=>m(e)||m(o),[s,i]=c.useState(n);return c.useEffect(()=>{const a=n();d(s,a)||i(a)},[e,o]),s},w=e=>{const o=()=>q(e),[n,s]=c.useState(o);return c.useEffect(()=>{const i=o();n!==i&&s(i)},[e]),n},S=(e,o)=>{const n=()=>p(e,o||{},!!o),[s,i]=c.useState(n),a=h();return c.useEffect(()=>{if(a){const u=n();return i(u),()=>{u&&u.dispose()}}},[e,o]),s},j=e=>{const[o,n]=c.useState(e.matches);return c.useEffect(()=>{const s=i=>{n(i.matches)};return e.addListener(s),n(e.matches),()=>{e.removeListener(s)}},[e]),o},$=(e,o,n)=>{const s=O(o),i=w(e);if(!i)throw new Error("Invalid or missing MediaQuery!");const a=S(i,s),u=j(a);return h(),c.useEffect(()=>{},[u]),c.useEffect(()=>()=>{a&&a.dispose()},[]),u};export{$ as u};
