import{r as t,a as En}from"./react-DEe3I7kj.js";import{K as y,w as dt,Q as vt,i as mt,v as gn,b as gt,n as pt,h as ht,u as bt,e as xn,q as St,B as wt,c as Ct,A as yt}from"./rc-util-BCTlEnPv.js";import{c as He}from"./classnames-D0qp76y0.js";import{F as It}from"./rc-overflow-CMENd3Rk.js";import"./react-dom-DtE_-WSV.js";import"./rc-resize-observer-C-DzLP7k.js";import"./rc-motion-BhsrND7Q.js";import{d as pn,c as ee,k as Qe,e as B,b as Z,g as ze,u as Et,f as Re}from"./@babel-DAuA_VVL.js";import{T as Rt}from"./@rc-component-BqtN6ESW.js";import{L as xt}from"./rc-virtual-list-DKEud5z_.js";var hn=function(e){var o=e.className,a=e.customizeIcon,r=e.customizeIconProps,i=e.children,u=e.onMouseDown,c=e.onClick,s=typeof a=="function"?a(r):a;return t.createElement("span",{className:o,onMouseDown:function(f){f.preventDefault(),u==null||u(f)},style:{userSelect:"none",WebkitUserSelect:"none"},unselectable:"on",onClick:c,"aria-hidden":!0},s!==void 0?s:t.createElement("span",{className:He(o.split(/\s+/).map(function(m){return"".concat(m,"-icon")}))},i))},Dt=function(e,o,a,r,i){var u=arguments.length>5&&arguments[5]!==void 0?arguments[5]:!1,c=arguments.length>6?arguments[6]:void 0,s=arguments.length>7?arguments[7]:void 0,m=En.useMemo(function(){if(pn(r)==="object")return r.clearIcon;if(i)return i},[r,i]),f=En.useMemo(function(){return!!(!u&&r&&(a.length||c)&&!(s==="combobox"&&c===""))},[r,u,a.length,c,s]);return{allowClear:f,clearIcon:En.createElement(hn,{className:"".concat(e,"-clear"),onMouseDown:o,customizeIcon:m},"×")}},Wn=t.createContext(null);function Ot(){return t.useContext(Wn)}function Mt(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:10,e=t.useState(!1),o=ee(e,2),a=o[0],r=o[1],i=t.useRef(null),u=function(){window.clearTimeout(i.current)};t.useEffect(function(){return u},[]);var c=function(m,f){u(),i.current=window.setTimeout(function(){r(m),f&&f()},n)};return[a,c,u]}function Un(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:250,e=t.useRef(null),o=t.useRef(null);t.useEffect(function(){return function(){window.clearTimeout(o.current)}},[]);function a(r){(r||e.current===null)&&(e.current=r),window.clearTimeout(o.current),o.current=window.setTimeout(function(){e.current=null},n)}return[function(){return e.current},a]}function Pt(n,e,o,a){var r=t.useRef(null);r.current={open:e,triggerOpen:o,customizedTrigger:a},t.useEffect(function(){function i(u){var c;if(!((c=r.current)!==null&&c!==void 0&&c.customizedTrigger)){var s=u.target;s.shadowRoot&&u.composed&&(s=u.composedPath()[0]||s),r.current.open&&n().filter(function(m){return m}).every(function(m){return!m.contains(s)&&m!==s})&&r.current.triggerOpen(!1)}}return window.addEventListener("mousedown",i),function(){return window.removeEventListener("mousedown",i)}},[])}function Nt(n){return n&&![y.ESC,y.SHIFT,y.BACKSPACE,y.TAB,y.WIN_KEY,y.ALT,y.META,y.WIN_KEY_RIGHT,y.CTRL,y.SEMICOLON,y.EQUALS,y.CAPS_LOCK,y.CONTEXT_MENU,y.F1,y.F2,y.F3,y.F4,y.F5,y.F6,y.F7,y.F8,y.F9,y.F10,y.F11,y.F12].includes(n)}var Tt=["prefixCls","id","inputElement","autoFocus","autoComplete","editable","activeDescendantId","value","open","attrs"],Vt=function(e,o){var a=e.prefixCls,r=e.id,i=e.inputElement,u=e.autoFocus,c=e.autoComplete,s=e.editable,m=e.activeDescendantId,f=e.value,h=e.open,P=e.attrs,l=Qe(e,Tt),C=i||t.createElement("input",null),S=C,I=S.ref,N=S.props;return dt(!("maxLength"in C.props)),C=t.cloneElement(C,B(B(B({type:"search"},vt(l,N)),{},{id:r,ref:mt(o,I),autoComplete:c||"off",autoFocus:u,className:He("".concat(a,"-selection-search-input"),N==null?void 0:N.className),role:"combobox","aria-expanded":h||!1,"aria-haspopup":"listbox","aria-owns":"".concat(r,"_list"),"aria-autocomplete":"list","aria-controls":"".concat(r,"_list"),"aria-activedescendant":h?m:void 0},P),{},{value:s?f:"",readOnly:!s,unselectable:s?null:"on",style:B(B({},N.style),{},{opacity:s?null:0})})),C},Hn=t.forwardRef(Vt);function jn(n){return Array.isArray(n)?n:n!==void 0?[n]:[]}var _t=typeof window<"u"&&window.document&&window.document.documentElement,At=_t;function Lt(n){return n!=null}function Ft(n){return!n&&n!==0}function Fn(n){return["string","number"].includes(pn(n))}function Gn(n){var e=void 0;return n&&(Fn(n.title)?e=n.title.toString():Fn(n.label)&&(e=n.label.toString())),e}function kt(n,e){At?t.useLayoutEffect(n,e):t.useEffect(n,e)}function Kt(n){var e;return(e=n.key)!==null&&e!==void 0?e:n.value}var kn=function(e){e.preventDefault(),e.stopPropagation()},Bt=function(e){var o=e.id,a=e.prefixCls,r=e.values,i=e.open,u=e.searchValue,c=e.autoClearSearchValue,s=e.inputRef,m=e.placeholder,f=e.disabled,h=e.mode,P=e.showSearch,l=e.autoFocus,C=e.autoComplete,S=e.activeDescendantId,I=e.tabIndex,N=e.removeIcon,oe=e.maxTagCount,U=e.maxTagTextLength,T=e.maxTagPlaceholder,ne=T===void 0?function(A){return"+ ".concat(A.length," ...")}:T,te=e.tagRender,le=e.onToggleOpen,de=e.onRemove,H=e.onInputChange,ce=e.onInputPaste,G=e.onInputKeyDown,k=e.onInputMouseDown,q=e.onInputCompositionStart,Y=e.onInputCompositionEnd,$=e.onInputBlur,ue=t.useRef(null),X=t.useState(0),se=ee(X,2),z=se[0],V=se[1],D=t.useState(!1),ie=ee(D,2),ye=ie[0],he=ie[1],j="".concat(a,"-selection"),Ne=i||h==="multiple"&&c===!1||h==="tags"?u:"",J=h==="tags"||h==="multiple"&&c===!1||P&&(i||ye);kt(function(){V(ue.current.scrollWidth)},[Ne]);var ke=function(p,O,L,W,F){return t.createElement("span",{title:Gn(p),className:He("".concat(j,"-item"),Z({},"".concat(j,"-item-disabled"),L))},t.createElement("span",{className:"".concat(j,"-item-content")},O),W&&t.createElement(hn,{className:"".concat(j,"-item-remove"),onMouseDown:kn,onClick:F,customizeIcon:N},"×"))},De=function(p,O,L,W,F,me){var xe=function(Ve){kn(Ve),le(!i)};return t.createElement("span",{onMouseDown:xe},te({label:O,value:p,disabled:L,closable:W,onClose:F,isMaxTag:!!me}))},ve=function(p){var O=p.disabled,L=p.label,W=p.value,F=!f&&!O,me=L;if(typeof U=="number"&&(typeof L=="string"||typeof L=="number")){var xe=String(me);xe.length>U&&(me="".concat(xe.slice(0,U),"..."))}var Te=function(Q){Q&&Q.stopPropagation(),de(p)};return typeof te=="function"?De(W,me,O,F,Te):ke(p,me,O,F,Te)},E=function(p){if(!r.length)return null;var O=typeof ne=="function"?ne(p):ne;return typeof te=="function"?De(void 0,O,!1,!1,void 0,!0):ke({title:O},O,!1)},d=t.createElement("div",{className:"".concat(j,"-search"),style:{width:z},onFocus:function(){he(!0)},onBlur:function(){he(!1)}},t.createElement(Hn,{ref:s,open:i,prefixCls:a,id:o,inputElement:null,disabled:f,autoFocus:l,autoComplete:C,editable:J,activeDescendantId:S,value:Ne,onKeyDown:G,onMouseDown:k,onChange:H,onPaste:ce,onCompositionStart:q,onCompositionEnd:Y,onBlur:$,tabIndex:I,attrs:gn(e,!0)}),t.createElement("span",{ref:ue,className:"".concat(j,"-search-mirror"),"aria-hidden":!0},Ne," ")),x=t.createElement(It,{prefixCls:"".concat(j,"-overflow"),data:r,renderItem:ve,renderRest:E,suffix:d,itemKey:Kt,maxCount:oe});return t.createElement("span",{className:"".concat(j,"-wrap")},x,!r.length&&!Ne&&t.createElement("span",{className:"".concat(j,"-placeholder")},m))},$t=function(e){var o=e.inputElement,a=e.prefixCls,r=e.id,i=e.inputRef,u=e.disabled,c=e.autoFocus,s=e.autoComplete,m=e.activeDescendantId,f=e.mode,h=e.open,P=e.values,l=e.placeholder,C=e.tabIndex,S=e.showSearch,I=e.searchValue,N=e.activeValue,oe=e.maxLength,U=e.onInputKeyDown,T=e.onInputMouseDown,ne=e.onInputChange,te=e.onInputPaste,le=e.onInputCompositionStart,de=e.onInputCompositionEnd,H=e.onInputBlur,ce=e.title,G=t.useState(!1),k=ee(G,2),q=k[0],Y=k[1],$=f==="combobox",ue=$||S,X=P[0],se=I||"";$&&N&&!q&&(se=N),t.useEffect(function(){$&&Y(!1)},[$,N]);var z=f!=="combobox"&&!h&&!S?!1:!!se,V=ce===void 0?Gn(X):ce,D=t.useMemo(function(){return X?null:t.createElement("span",{className:"".concat(a,"-selection-placeholder"),style:z?{visibility:"hidden"}:void 0},l)},[X,z,l,a]);return t.createElement("span",{className:"".concat(a,"-selection-wrap")},t.createElement("span",{className:"".concat(a,"-selection-search")},t.createElement(Hn,{ref:i,prefixCls:a,id:r,open:h,inputElement:o,disabled:u,autoFocus:c,autoComplete:s,editable:ue,activeDescendantId:m,value:se,onKeyDown:U,onMouseDown:T,onChange:function(ye){Y(!0),ne(ye)},onPaste:te,onCompositionStart:le,onCompositionEnd:de,onBlur:H,tabIndex:C,attrs:gn(e,!0),maxLength:$?oe:void 0})),!$&&X?t.createElement("span",{className:"".concat(a,"-selection-item"),title:V,style:z?{visibility:"hidden"}:void 0},X.label):null,D)},zt=function(e,o){var a=t.useRef(null),r=t.useRef(!1),i=e.prefixCls,u=e.open,c=e.mode,s=e.showSearch,m=e.tokenWithEnter,f=e.disabled,h=e.prefix,P=e.autoClearSearchValue,l=e.onSearch,C=e.onSearchSubmit,S=e.onToggleOpen,I=e.onInputKeyDown,N=e.onInputBlur,oe=e.domRef;t.useImperativeHandle(o,function(){return{focus:function(V){a.current.focus(V)},blur:function(){a.current.blur()}}});var U=Un(0),T=ee(U,2),ne=T[0],te=T[1],le=function(V){var D=V.which,ie=a.current instanceof HTMLTextAreaElement;!ie&&u&&(D===y.UP||D===y.DOWN)&&V.preventDefault(),I&&I(V),D===y.ENTER&&c==="tags"&&!r.current&&!u&&(C==null||C(V.target.value)),!(ie&&!u&&~[y.UP,y.DOWN,y.LEFT,y.RIGHT].indexOf(D))&&Nt(D)&&S(!0)},de=function(){te(!0)},H=t.useRef(null),ce=function(V){l(V,!0,r.current)!==!1&&S(!0)},G=function(){r.current=!0},k=function(V){r.current=!1,c!=="combobox"&&ce(V.target.value)},q=function(V){var D=V.target.value;if(m&&H.current&&/[\r\n]/.test(H.current)){var ie=H.current.replace(/[\r\n]+$/,"").replace(/\r\n/g," ").replace(/[\r\n]/g," ");D=D.replace(ie,H.current)}H.current=null,ce(D)},Y=function(V){var D=V.clipboardData,ie=D==null?void 0:D.getData("text");H.current=ie||""},$=function(V){var D=V.target;if(D!==a.current){var ie=document.body.style.msTouchAction!==void 0;ie?setTimeout(function(){a.current.focus()}):a.current.focus()}},ue=function(V){var D=ne();V.target!==a.current&&!D&&!(c==="combobox"&&f)&&V.preventDefault(),(c!=="combobox"&&(!s||!D)||!u)&&(u&&P!==!1&&l("",!0,!1),S())},X={inputRef:a,onInputKeyDown:le,onInputMouseDown:de,onInputChange:q,onInputPaste:Y,onInputCompositionStart:G,onInputCompositionEnd:k,onInputBlur:N},se=c==="multiple"||c==="tags"?t.createElement(Bt,ze({},e,X)):t.createElement($t,ze({},e,X));return t.createElement("div",{ref:oe,className:"".concat(i,"-selector"),onClick:$,onMouseDown:ue},h&&t.createElement("div",{className:"".concat(i,"-prefix")},h),se)},Wt=t.forwardRef(zt),Ut=["prefixCls","disabled","visible","children","popupElement","animation","transitionName","dropdownStyle","dropdownClassName","direction","placement","builtinPlacements","dropdownMatchSelectWidth","dropdownRender","dropdownAlign","getPopupContainer","empty","getTriggerDOMNode","onPopupVisibleChange","onPopupMouseEnter"],Ht=function(e){var o=e===!0?0:1;return{bottomLeft:{points:["tl","bl"],offset:[0,4],overflow:{adjustX:o,adjustY:1},htmlRegion:"scroll"},bottomRight:{points:["tr","br"],offset:[0,4],overflow:{adjustX:o,adjustY:1},htmlRegion:"scroll"},topLeft:{points:["bl","tl"],offset:[0,-4],overflow:{adjustX:o,adjustY:1},htmlRegion:"scroll"},topRight:{points:["br","tr"],offset:[0,-4],overflow:{adjustX:o,adjustY:1},htmlRegion:"scroll"}}},jt=function(e,o){var a=e.prefixCls;e.disabled;var r=e.visible,i=e.children,u=e.popupElement,c=e.animation,s=e.transitionName,m=e.dropdownStyle,f=e.dropdownClassName,h=e.direction,P=h===void 0?"ltr":h,l=e.placement,C=e.builtinPlacements,S=e.dropdownMatchSelectWidth,I=e.dropdownRender,N=e.dropdownAlign,oe=e.getPopupContainer,U=e.empty,T=e.getTriggerDOMNode,ne=e.onPopupVisibleChange,te=e.onPopupMouseEnter,le=Qe(e,Ut),de="".concat(a,"-dropdown"),H=u;I&&(H=I(u));var ce=t.useMemo(function(){return C||Ht(S)},[C,S]),G=c?"".concat(de,"-").concat(c):s,k=typeof S=="number",q=t.useMemo(function(){return k?null:S===!1?"minWidth":"width"},[S,k]),Y=m;k&&(Y=B(B({},Y),{},{width:S}));var $=t.useRef(null);return t.useImperativeHandle(o,function(){return{getPopupElement:function(){var X;return(X=$.current)===null||X===void 0?void 0:X.popupElement}}}),t.createElement(Rt,ze({},le,{showAction:ne?["click"]:[],hideAction:ne?["click"]:[],popupPlacement:l||(P==="rtl"?"bottomRight":"bottomLeft"),builtinPlacements:ce,prefixCls:de,popupTransitionName:G,popup:t.createElement("div",{onMouseEnter:te},H),ref:$,stretch:q,popupAlign:N,popupVisible:r,getPopupContainer:oe,popupClassName:He(f,Z({},"".concat(de,"-empty"),U)),popupStyle:Y,getTriggerDOMNode:T,onPopupVisibleChange:ne}),i)},Gt=t.forwardRef(jt);function Kn(n,e){var o=n.key,a;return"value"in n&&(a=n.value),o??(a!==void 0?a:"rc-index-key-".concat(e))}function Dn(n){return typeof n<"u"&&!Number.isNaN(n)}function Yn(n,e){var o=n||{},a=o.label,r=o.value,i=o.options,u=o.groupLabel,c=a||(e?"children":"label");return{label:c,value:r||"value",options:i||"options",groupLabel:u||c}}function Yt(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=e.fieldNames,a=e.childrenAsData,r=[],i=Yn(o,!1),u=i.label,c=i.value,s=i.options,m=i.groupLabel;function f(h,P){Array.isArray(h)&&h.forEach(function(l){if(P||!(s in l)){var C=l[c];r.push({key:Kn(l,r.length),groupOption:P,data:l,label:l[u],value:C})}else{var S=l[m];S===void 0&&a&&(S=l.label),r.push({key:Kn(l,r.length),group:!0,data:l,label:S}),f(l[s],!0)}})}return f(n,!1),r}function On(n){var e=B({},n);return"props"in e||Object.defineProperty(e,"props",{get:function(){return gt(!1,"Return type is option instead of Option instance. Please read value directly instead of reading from `props`."),e}}),e}var Xt=function(e,o,a){if(!o||!o.length)return null;var r=!1,i=function c(s,m){var f=Et(m),h=f[0],P=f.slice(1);if(!h)return[s];var l=s.split(h);return r=r||l.length>1,l.reduce(function(C,S){return[].concat(Re(C),Re(c(S,P)))},[]).filter(Boolean)},u=i(e,o);return r?typeof a<"u"?u.slice(0,a):u:null},Pn=t.createContext(null);function Qt(n){var e=n.visible,o=n.values;if(!e)return null;var a=50;return t.createElement("span",{"aria-live":"polite",style:{width:0,height:0,position:"absolute",overflow:"hidden",opacity:0}},"".concat(o.slice(0,a).map(function(r){var i=r.label,u=r.value;return["number","string"].includes(pn(i))?i:u}).join(", ")),o.length>a?", ...":null)}var qt=["id","prefixCls","className","showSearch","tagRender","direction","omitDomProps","displayValues","onDisplayValuesChange","emptyOptions","notFoundContent","onClear","mode","disabled","loading","getInputElement","getRawInputElement","open","defaultOpen","onDropdownVisibleChange","activeValue","onActiveValueChange","activeDescendantId","searchValue","autoClearSearchValue","onSearch","onSearchSplit","tokenSeparators","allowClear","prefix","suffixIcon","clearIcon","OptionList","animation","transitionName","dropdownStyle","dropdownClassName","dropdownMatchSelectWidth","dropdownRender","dropdownAlign","placement","builtinPlacements","getPopupContainer","showAction","onFocus","onBlur","onKeyUp","onKeyDown","onMouseDown"],Jt=["value","onChange","removeIcon","placeholder","autoFocus","maxTagCount","maxTagTextLength","maxTagPlaceholder","choiceTransitionName","onInputKeyDown","onPopupScroll","tabIndex"],Mn=function(e){return e==="tags"||e==="multiple"},Zt=t.forwardRef(function(n,e){var o,a=n.id,r=n.prefixCls,i=n.className,u=n.showSearch,c=n.tagRender,s=n.direction,m=n.omitDomProps,f=n.displayValues,h=n.onDisplayValuesChange,P=n.emptyOptions,l=n.notFoundContent,C=l===void 0?"Not Found":l,S=n.onClear,I=n.mode,N=n.disabled,oe=n.loading,U=n.getInputElement,T=n.getRawInputElement,ne=n.open,te=n.defaultOpen,le=n.onDropdownVisibleChange,de=n.activeValue,H=n.onActiveValueChange,ce=n.activeDescendantId,G=n.searchValue,k=n.autoClearSearchValue,q=n.onSearch,Y=n.onSearchSplit,$=n.tokenSeparators,ue=n.allowClear,X=n.prefix,se=n.suffixIcon,z=n.clearIcon,V=n.OptionList,D=n.animation,ie=n.transitionName,ye=n.dropdownStyle,he=n.dropdownClassName,j=n.dropdownMatchSelectWidth,Ne=n.dropdownRender,J=n.dropdownAlign,ke=n.placement,De=n.builtinPlacements,ve=n.getPopupContainer,E=n.showAction,d=E===void 0?[]:E,x=n.onFocus,A=n.onBlur,p=n.onKeyUp,O=n.onKeyDown,L=n.onMouseDown,W=Qe(n,qt),F=Mn(I),me=(u!==void 0?u:F)||I==="combobox",xe=B({},W);Jt.forEach(function(M){delete xe[M]}),m==null||m.forEach(function(M){delete xe[M]});var Te=t.useState(!1),Ve=ee(Te,2),Q=Ve[0],qe=Ve[1];t.useEffect(function(){qe(pt())},[]);var je=t.useRef(null),ge=t.useRef(null),be=t.useRef(null),Se=t.useRef(null),Ie=t.useRef(null),Oe=t.useRef(!1),tn=Mt(),_e=ee(tn,3),Ae=_e[0],Me=_e[1],bn=_e[2];t.useImperativeHandle(e,function(){var M,R;return{focus:(M=Se.current)===null||M===void 0?void 0:M.focus,blur:(R=Se.current)===null||R===void 0?void 0:R.blur,scrollTo:function(Ce){var re;return(re=Ie.current)===null||re===void 0?void 0:re.scrollTo(Ce)},nativeElement:je.current||ge.current}});var Pe=t.useMemo(function(){var M;if(I!=="combobox")return G;var R=(M=f[0])===null||M===void 0?void 0:M.value;return typeof R=="string"||typeof R=="number"?String(R):""},[G,I,f]),un=I==="combobox"&&typeof U=="function"&&U()||null,Ee=typeof T=="function"&&T(),Sn=ht(ge,Ee==null||(o=Ee.props)===null||o===void 0?void 0:o.ref),ln=t.useState(!1),cn=ee(ln,2),wn=cn[0],sn=cn[1];bt(function(){sn(!0)},[]);var fn=xn(!1,{defaultValue:te,value:ne}),Ge=ee(fn,2),an=Ge[0],rn=Ge[1],ae=wn?an:!1,dn=!C&&P;(N||dn&&ae&&I==="combobox")&&(ae=!1);var Je=dn?!1:ae,v=t.useCallback(function(M){var R=M!==void 0?M:!ae;N||(rn(R),ae!==R&&(le==null||le(R)))},[N,ae,rn,le]),w=t.useMemo(function(){return($||[]).some(function(M){return[`
`,`\r
`].includes(M)})},[$]),g=t.useContext(Pn)||{},b=g.maxCount,_=g.rawValues,K=function(R,we,Ce){if(!(F&&Dn(b)&&(_==null?void 0:_.size)>=b)){var re=!0,pe=R;H==null||H(null);var $e=Xt(R,$,Dn(b)?b-_.size:void 0),Fe=Ce?null:$e;return I!=="combobox"&&Fe&&(pe="",Y==null||Y(Fe),v(!1),re=!1),q&&Pe!==pe&&q(pe,{source:we?"typing":"effect"}),re}},Ke=function(R){!R||!R.trim()||q(R,{source:"submit"})};t.useEffect(function(){!ae&&!F&&I!=="combobox"&&K("",!1,!1)},[ae]),t.useEffect(function(){an&&N&&rn(!1),N&&!Oe.current&&Me(!1)},[N]);var Le=Un(),We=ee(Le,2),fe=We[0],Ue=We[1],Ze=t.useRef(!1),Cn=function(R){var we=fe(),Ce=R.key,re=Ce==="Enter";if(re&&(I!=="combobox"&&R.preventDefault(),ae||v(!0)),Ue(!!Pe),Ce==="Backspace"&&!we&&F&&!Pe&&f.length){for(var pe=Re(f),$e=null,Fe=pe.length-1;Fe>=0;Fe-=1){var Ye=pe[Fe];if(!Ye.disabled){pe.splice(Fe,1),$e=Ye;break}}$e&&h(pe,{type:"remove",values:[$e]})}for(var nn=arguments.length,Xe=new Array(nn>1?nn-1:0),vn=1;vn<nn;vn++)Xe[vn-1]=arguments[vn];if(ae&&(!re||!Ze.current)){var mn;re&&(Ze.current=!0),(mn=Ie.current)===null||mn===void 0||mn.onKeyDown.apply(mn,[R].concat(Xe))}O==null||O.apply(void 0,[R].concat(Xe))},Nn=function(R){for(var we=arguments.length,Ce=new Array(we>1?we-1:0),re=1;re<we;re++)Ce[re-1]=arguments[re];if(ae){var pe;(pe=Ie.current)===null||pe===void 0||pe.onKeyUp.apply(pe,[R].concat(Ce))}R.key==="Enter"&&(Ze.current=!1),p==null||p.apply(void 0,[R].concat(Ce))},on=function(R){var we=f.filter(function(Ce){return Ce!==R});h(we,{type:"remove",values:[R]})},Be=function(){Ze.current=!1},yn=t.useRef(!1),Zn=function(){Me(!0),N||(x&&!yn.current&&x.apply(void 0,arguments),d.includes("focus")&&v(!0)),yn.current=!0},et=function(){Oe.current=!0,Me(!1,function(){yn.current=!1,Oe.current=!1,v(!1)}),!N&&(Pe&&(I==="tags"?q(Pe,{source:"submit"}):I==="multiple"&&q("",{source:"blur"})),A&&A.apply(void 0,arguments))},en=[];t.useEffect(function(){return function(){en.forEach(function(M){return clearTimeout(M)}),en.splice(0,en.length)}},[]);var nt=function(R){var we,Ce=R.target,re=(we=be.current)===null||we===void 0?void 0:we.getPopupElement();if(re&&re.contains(Ce)){var pe=setTimeout(function(){var nn=en.indexOf(pe);if(nn!==-1&&en.splice(nn,1),bn(),!Q&&!re.contains(document.activeElement)){var Xe;(Xe=Se.current)===null||Xe===void 0||Xe.focus()}});en.push(pe)}for(var $e=arguments.length,Fe=new Array($e>1?$e-1:0),Ye=1;Ye<$e;Ye++)Fe[Ye-1]=arguments[Ye];L==null||L.apply(void 0,[R].concat(Fe))},tt=t.useState({}),at=ee(tt,2),rt=at[1];function ot(){rt({})}var Tn;Ee&&(Tn=function(R){v(R)}),Pt(function(){var M;return[je.current,(M=be.current)===null||M===void 0?void 0:M.getPopupElement()]},Je,v,!!Ee);var ut=t.useMemo(function(){return B(B({},n),{},{notFoundContent:C,open:ae,triggerOpen:Je,id:a,showSearch:me,multiple:F,toggleOpen:v})},[n,C,Je,ae,a,me,F,v]),Vn=!!se||oe,_n;Vn&&(_n=t.createElement(hn,{className:He("".concat(r,"-arrow"),Z({},"".concat(r,"-arrow-loading"),oe)),customizeIcon:se,customizeIconProps:{loading:oe,searchValue:Pe,open:ae,focused:Ae,showSearch:me}}));var it=function(){var R;S==null||S(),(R=Se.current)===null||R===void 0||R.focus(),h([],{type:"clear",values:f}),K("",!1,!1)},An=Dt(r,it,f,ue,z,N,Pe,I),lt=An.allowClear,ct=An.clearIcon,st=t.createElement(V,{ref:Ie}),ft=He(r,i,Z(Z(Z(Z(Z(Z(Z(Z(Z(Z({},"".concat(r,"-focused"),Ae),"".concat(r,"-multiple"),F),"".concat(r,"-single"),!F),"".concat(r,"-allow-clear"),ue),"".concat(r,"-show-arrow"),Vn),"".concat(r,"-disabled"),N),"".concat(r,"-loading"),oe),"".concat(r,"-open"),ae),"".concat(r,"-customize-input"),un),"".concat(r,"-show-search"),me)),Ln=t.createElement(Gt,{ref:be,disabled:N,prefixCls:r,visible:Je,popupElement:st,animation:D,transitionName:ie,dropdownStyle:ye,dropdownClassName:he,direction:s,dropdownMatchSelectWidth:j,dropdownRender:Ne,dropdownAlign:J,placement:ke,builtinPlacements:De,getPopupContainer:ve,empty:P,getTriggerDOMNode:function(R){return ge.current||R},onPopupVisibleChange:Tn,onPopupMouseEnter:ot},Ee?t.cloneElement(Ee,{ref:Sn}):t.createElement(Wt,ze({},n,{domRef:ge,prefixCls:r,inputElement:un,ref:Se,id:a,prefix:X,showSearch:me,autoClearSearchValue:k,mode:I,activeDescendantId:ce,tagRender:c,values:f,open:ae,onToggleOpen:v,activeValue:de,searchValue:Pe,onSearch:K,onSearchSubmit:Ke,onRemove:on,tokenWithEnter:w,onInputBlur:Be}))),In;return Ee?In=Ln:In=t.createElement("div",ze({className:ft},xe,{ref:je,onMouseDown:nt,onKeyDown:Cn,onKeyUp:Nn,onFocus:Zn,onBlur:et}),t.createElement(Qt,{visible:Ae&&!ae,values:f}),Ln,_n,lt&&ct),t.createElement(Wn.Provider,{value:ut},In)}),Xn=function(){return null};Xn.isSelectOptGroup=!0;var Qn=function(){return null};Qn.isSelectOption=!0;function ea(){return/(mac\sos|macintosh)/i.test(navigator.appVersion)}var na=["disabled","title","children","style","className"];function Bn(n){return typeof n=="string"||typeof n=="number"}var ta=function(e,o){var a=Ot(),r=a.prefixCls,i=a.id,u=a.open,c=a.multiple,s=a.mode,m=a.searchValue,f=a.toggleOpen,h=a.notFoundContent,P=a.onPopupScroll,l=t.useContext(Pn),C=l.maxCount,S=l.flattenOptions,I=l.onActiveValue,N=l.defaultActiveFirstOption,oe=l.onSelect,U=l.menuItemSelectedIcon,T=l.rawValues,ne=l.fieldNames,te=l.virtual,le=l.direction,de=l.listHeight,H=l.listItemHeight,ce=l.optionRender,G="".concat(r,"-item"),k=St(function(){return S},[u,S],function(E,d){return d[0]&&E[1]!==d[1]}),q=t.useRef(null),Y=t.useMemo(function(){return c&&Dn(C)&&(T==null?void 0:T.size)>=C},[c,C,T==null?void 0:T.size]),$=function(d){d.preventDefault()},ue=function(d){var x;(x=q.current)===null||x===void 0||x.scrollTo(typeof d=="number"?{index:d}:d)},X=t.useCallback(function(E){return s==="combobox"?!1:T.has(E)},[s,Re(T).toString(),T.size]),se=function(d){for(var x=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1,A=k.length,p=0;p<A;p+=1){var O=(d+p*x+A)%A,L=k[O]||{},W=L.group,F=L.data;if(!W&&!(F!=null&&F.disabled)&&(X(F.value)||!Y))return O}return-1},z=t.useState(function(){return se(0)}),V=ee(z,2),D=V[0],ie=V[1],ye=function(d){var x=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;ie(d);var A={source:x?"keyboard":"mouse"},p=k[d];if(!p){I(null,-1,A);return}I(p.value,d,A)};t.useEffect(function(){ye(N!==!1?se(0):-1)},[k.length,m]);var he=t.useCallback(function(E){return s==="combobox"?String(E).toLowerCase()===m.toLowerCase():T.has(E)},[s,m,Re(T).toString(),T.size]);t.useEffect(function(){var E=setTimeout(function(){if(!c&&u&&T.size===1){var x=Array.from(T)[0],A=k.findIndex(function(p){var O=p.data;return m?String(O.value).startsWith(m):O.value===x});A!==-1&&(ye(A),ue(A))}});if(u){var d;(d=q.current)===null||d===void 0||d.scrollTo(void 0)}return function(){return clearTimeout(E)}},[u,m]);var j=function(d){d!==void 0&&oe(d,{selected:!T.has(d)}),c||f(!1)};if(t.useImperativeHandle(o,function(){return{onKeyDown:function(d){var x=d.which,A=d.ctrlKey;switch(x){case y.N:case y.P:case y.UP:case y.DOWN:{var p=0;if(x===y.UP?p=-1:x===y.DOWN?p=1:ea()&&A&&(x===y.N?p=1:x===y.P&&(p=-1)),p!==0){var O=se(D+p,p);ue(O),ye(O,!0)}break}case y.TAB:case y.ENTER:{var L,W=k[D];W&&!(W!=null&&(L=W.data)!==null&&L!==void 0&&L.disabled)&&!Y?j(W.value):j(void 0),u&&d.preventDefault();break}case y.ESC:f(!1),u&&d.stopPropagation()}},onKeyUp:function(){},scrollTo:function(d){ue(d)}}}),k.length===0)return t.createElement("div",{role:"listbox",id:"".concat(i,"_list"),className:"".concat(G,"-empty"),onMouseDown:$},h);var Ne=Object.keys(ne).map(function(E){return ne[E]}),J=function(d){return d.label};function ke(E,d){var x=E.group;return{role:x?"presentation":"option",id:"".concat(i,"_list_").concat(d)}}var De=function(d){var x=k[d];if(!x)return null;var A=x.data||{},p=A.value,O=x.group,L=gn(A,!0),W=J(x);return x?t.createElement("div",ze({"aria-label":typeof W=="string"&&!O?W:null},L,{key:d},ke(x,d),{"aria-selected":he(p)}),p):null},ve={role:"listbox",id:"".concat(i,"_list")};return t.createElement(t.Fragment,null,te&&t.createElement("div",ze({},ve,{style:{height:0,width:0,overflow:"hidden"}}),De(D-1),De(D),De(D+1)),t.createElement(xt,{itemKey:"key",ref:q,data:k,height:de,itemHeight:H,fullHeight:!1,onMouseDown:$,onScroll:P,virtual:te,direction:le,innerProps:te?null:ve},function(E,d){var x=E.group,A=E.groupOption,p=E.data,O=E.label,L=E.value,W=p.key;if(x){var F,me=(F=p.title)!==null&&F!==void 0?F:Bn(O)?O.toString():void 0;return t.createElement("div",{className:He(G,"".concat(G,"-group"),p.className),title:me},O!==void 0?O:W)}var xe=p.disabled,Te=p.title;p.children;var Ve=p.style,Q=p.className,qe=Qe(p,na),je=wt(qe,Ne),ge=X(L),be=xe||!ge&&Y,Se="".concat(G,"-option"),Ie=He(G,Se,Q,Z(Z(Z(Z({},"".concat(Se,"-grouped"),A),"".concat(Se,"-active"),D===d&&!be),"".concat(Se,"-disabled"),be),"".concat(Se,"-selected"),ge)),Oe=J(E),tn=!U||typeof U=="function"||ge,_e=typeof Oe=="number"?Oe:Oe||L,Ae=Bn(_e)?_e.toString():void 0;return Te!==void 0&&(Ae=Te),t.createElement("div",ze({},gn(je),te?{}:ke(E,d),{"aria-selected":he(L),className:Ie,title:Ae,onMouseMove:function(){D===d||be||ye(d)},onClick:function(){be||j(L)},style:Ve}),t.createElement("div",{className:"".concat(Se,"-content")},typeof ce=="function"?ce(E,{index:d}):_e),t.isValidElement(U)||ge,tn&&t.createElement(hn,{className:"".concat(G,"-option-state"),customizeIcon:U,customizeIconProps:{value:L,disabled:be,isSelected:ge}},ge?"✓":null))}))},aa=t.forwardRef(ta);const ra=function(n,e){var o=t.useRef({values:new Map,options:new Map}),a=t.useMemo(function(){var i=o.current,u=i.values,c=i.options,s=n.map(function(h){if(h.label===void 0){var P;return B(B({},h),{},{label:(P=u.get(h.value))===null||P===void 0?void 0:P.label})}return h}),m=new Map,f=new Map;return s.forEach(function(h){m.set(h.value,h),f.set(h.value,e.get(h.value)||c.get(h.value))}),o.current.values=m,o.current.options=f,s},[n,e]),r=t.useCallback(function(i){return e.get(i)||o.current.options.get(i)},[e]);return[a,r]};function Rn(n,e){return jn(n).join("").toUpperCase().includes(e)}const oa=function(n,e,o,a,r){return t.useMemo(function(){if(!o||a===!1)return n;var i=e.options,u=e.label,c=e.value,s=[],m=typeof a=="function",f=o.toUpperCase(),h=m?a:function(l,C){return r?Rn(C[r],f):C[i]?Rn(C[u!=="children"?u:"label"],f):Rn(C[c],f)},P=m?function(l){return On(l)}:function(l){return l};return n.forEach(function(l){if(l[i]){var C=h(o,P(l));if(C)s.push(l);else{var S=l[i].filter(function(I){return h(o,P(I))});S.length&&s.push(B(B({},l),{},Z({},i,S)))}return}h(o,P(l))&&s.push(l)}),s},[n,a,r,o,e])};var $n=0,ua=Ct();function ia(){var n;return ua?(n=$n,$n+=1):n="TEST_OR_SSR",n}function la(n){var e=t.useState(),o=ee(e,2),a=o[0],r=o[1];return t.useEffect(function(){r("rc_select_".concat(ia()))},[]),n||a}var ca=["children","value"],sa=["children"];function fa(n){var e=n,o=e.key,a=e.props,r=a.children,i=a.value,u=Qe(a,ca);return B({key:o,value:i!==void 0?i:o,children:r},u)}function qn(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return yt(n).map(function(o,a){if(!t.isValidElement(o)||!o.type)return null;var r=o,i=r.type.isSelectOptGroup,u=r.key,c=r.props,s=c.children,m=Qe(c,sa);return e||!i?fa(o):B(B({key:"__RC_SELECT_GRP__".concat(u===null?a:u,"__"),label:u},m),{},{options:qn(s)})}).filter(function(o){return o})}var da=function(e,o,a,r,i){return t.useMemo(function(){var u=e,c=!e;c&&(u=qn(o));var s=new Map,m=new Map,f=function(l,C,S){S&&typeof S=="string"&&l.set(C[S],C)},h=function P(l){for(var C=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,S=0;S<l.length;S+=1){var I=l[S];!I[a.options]||C?(s.set(I[a.value],I),f(m,I,a.label),f(m,I,r),f(m,I,i)):P(I[a.options],!0)}};return h(u),{options:u,valueOptions:s,labelOptions:m}},[e,o,a,r,i])};function zn(n){var e=t.useRef();e.current=n;var o=t.useCallback(function(){return e.current.apply(e,arguments)},[]);return o}var va=["id","mode","prefixCls","backfill","fieldNames","inputValue","searchValue","onSearch","autoClearSearchValue","onSelect","onDeselect","dropdownMatchSelectWidth","filterOption","filterSort","optionFilterProp","optionLabelProp","options","optionRender","children","defaultActiveFirstOption","menuItemSelectedIcon","virtual","direction","listHeight","listItemHeight","labelRender","value","defaultValue","labelInValue","onChange","maxCount"],ma=["inputValue"];function ga(n){return!n||pn(n)!=="object"}var pa=t.forwardRef(function(n,e){var o=n.id,a=n.mode,r=n.prefixCls,i=r===void 0?"rc-select":r,u=n.backfill,c=n.fieldNames,s=n.inputValue,m=n.searchValue,f=n.onSearch,h=n.autoClearSearchValue,P=h===void 0?!0:h,l=n.onSelect,C=n.onDeselect,S=n.dropdownMatchSelectWidth,I=S===void 0?!0:S,N=n.filterOption,oe=n.filterSort,U=n.optionFilterProp,T=n.optionLabelProp,ne=n.options,te=n.optionRender,le=n.children,de=n.defaultActiveFirstOption,H=n.menuItemSelectedIcon,ce=n.virtual,G=n.direction,k=n.listHeight,q=k===void 0?200:k,Y=n.listItemHeight,$=Y===void 0?20:Y,ue=n.labelRender,X=n.value,se=n.defaultValue,z=n.labelInValue,V=n.onChange,D=n.maxCount,ie=Qe(n,va),ye=la(o),he=Mn(a),j=!!(!ne&&le),Ne=t.useMemo(function(){return N===void 0&&a==="combobox"?!1:N},[N,a]),J=t.useMemo(function(){return Yn(c,j)},[JSON.stringify(c),j]),ke=xn("",{value:m!==void 0?m:s,postState:function(w){return w||""}}),De=ee(ke,2),ve=De[0],E=De[1],d=da(ne,le,J,U,T),x=d.valueOptions,A=d.labelOptions,p=d.options,O=t.useCallback(function(v){var w=jn(v);return w.map(function(g){var b,_,K,Ke,Le;if(ga(g))b=g;else{var We;K=g.key,_=g.label,b=(We=g.value)!==null&&We!==void 0?We:K}var fe=x.get(b);if(fe){var Ue;_===void 0&&(_=fe==null?void 0:fe[T||J.label]),K===void 0&&(K=(Ue=fe==null?void 0:fe.key)!==null&&Ue!==void 0?Ue:b),Ke=fe==null?void 0:fe.disabled,Le=fe==null?void 0:fe.title}return{label:_,value:b,key:K,disabled:Ke,title:Le}})},[J,T,x]),L=xn(se,{value:X}),W=ee(L,2),F=W[0],me=W[1],xe=t.useMemo(function(){var v,w=he&&F===null?[]:F,g=O(w);return a==="combobox"&&Ft((v=g[0])===null||v===void 0?void 0:v.value)?[]:g},[F,O,a,he]),Te=ra(xe,x),Ve=ee(Te,2),Q=Ve[0],qe=Ve[1],je=t.useMemo(function(){if(!a&&Q.length===1){var v=Q[0];if(v.value===null&&(v.label===null||v.label===void 0))return[]}return Q.map(function(w){var g;return B(B({},w),{},{label:(g=typeof ue=="function"?ue(w):w.label)!==null&&g!==void 0?g:w.value})})},[a,Q,ue]),ge=t.useMemo(function(){return new Set(Q.map(function(v){return v.value}))},[Q]);t.useEffect(function(){if(a==="combobox"){var v,w=(v=Q[0])===null||v===void 0?void 0:v.value;E(Lt(w)?String(w):"")}},[Q]);var be=zn(function(v,w){var g=w??v;return Z(Z({},J.value,v),J.label,g)}),Se=t.useMemo(function(){if(a!=="tags")return p;var v=Re(p),w=function(b){return x.has(b)};return Re(Q).sort(function(g,b){return g.value<b.value?-1:1}).forEach(function(g){var b=g.value;w(b)||v.push(be(b,g.label))}),v},[be,p,x,Q,a]),Ie=oa(Se,J,ve,Ne,U),Oe=t.useMemo(function(){return a!=="tags"||!ve||Ie.some(function(v){return v[U||"value"]===ve})||Ie.some(function(v){return v[J.value]===ve})?Ie:[be(ve)].concat(Re(Ie))},[be,U,a,Ie,ve,J]),tn=function v(w){var g=Re(w).sort(function(b,_){return oe(b,_,{searchValue:ve})});return g.map(function(b){return Array.isArray(b.options)?B(B({},b),{},{options:b.options.length>0?v(b.options):b.options}):b})},_e=t.useMemo(function(){return oe?tn(Oe):Oe},[Oe,oe,ve]),Ae=t.useMemo(function(){return Yt(_e,{fieldNames:J,childrenAsData:j})},[_e,J,j]),Me=function(w){var g=O(w);if(me(g),V&&(g.length!==Q.length||g.some(function(K,Ke){var Le;return((Le=Q[Ke])===null||Le===void 0?void 0:Le.value)!==(K==null?void 0:K.value)}))){var b=z?g:g.map(function(K){return K.value}),_=g.map(function(K){return On(qe(K.value))});V(he?b:b[0],he?_:_[0])}},bn=t.useState(null),Pe=ee(bn,2),un=Pe[0],Ee=Pe[1],Sn=t.useState(0),ln=ee(Sn,2),cn=ln[0],wn=ln[1],sn=de!==void 0?de:a!=="combobox",fn=t.useCallback(function(v,w){var g=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},b=g.source,_=b===void 0?"keyboard":b;wn(w),u&&a==="combobox"&&v!==null&&_==="keyboard"&&Ee(String(v))},[u,a]),Ge=function(w,g,b){var _=function(){var on,Be=qe(w);return[z?{label:Be==null?void 0:Be[J.label],value:w,key:(on=Be==null?void 0:Be.key)!==null&&on!==void 0?on:w}:w,On(Be)]};if(g&&l){var K=_(),Ke=ee(K,2),Le=Ke[0],We=Ke[1];l(Le,We)}else if(!g&&C&&b!=="clear"){var fe=_(),Ue=ee(fe,2),Ze=Ue[0],Cn=Ue[1];C(Ze,Cn)}},an=zn(function(v,w){var g,b=he?w.selected:!0;b?g=he?[].concat(Re(Q),[v]):[v]:g=Q.filter(function(_){return _.value!==v}),Me(g),Ge(v,b),a==="combobox"?Ee(""):(!Mn||P)&&(E(""),Ee(""))}),rn=function(w,g){Me(w);var b=g.type,_=g.values;(b==="remove"||b==="clear")&&_.forEach(function(K){Ge(K.value,!1,b)})},ae=function(w,g){if(E(w),Ee(null),g.source==="submit"){var b=(w||"").trim();if(b){var _=Array.from(new Set([].concat(Re(ge),[b])));Me(_),Ge(b,!0),E("")}return}g.source!=="blur"&&(a==="combobox"&&Me(w),f==null||f(w))},dn=function(w){var g=w;a!=="tags"&&(g=w.map(function(_){var K=A.get(_);return K==null?void 0:K.value}).filter(function(_){return _!==void 0}));var b=Array.from(new Set([].concat(Re(ge),Re(g))));Me(b),b.forEach(function(_){Ge(_,!0)})},Je=t.useMemo(function(){var v=ce!==!1&&I!==!1;return B(B({},d),{},{flattenOptions:Ae,onActiveValue:fn,defaultActiveFirstOption:sn,onSelect:an,menuItemSelectedIcon:H,rawValues:ge,fieldNames:J,virtual:v,direction:G,listHeight:q,listItemHeight:$,childrenAsData:j,maxCount:D,optionRender:te})},[D,d,Ae,fn,sn,an,H,ge,J,ce,I,G,q,$,j,te]);return t.createElement(Pn.Provider,{value:Je},t.createElement(Zt,ze({},ie,{id:ye,prefixCls:i,ref:e,omitDomProps:ma,mode:a,displayValues:je,onDisplayValuesChange:rn,direction:G,searchValue:ve,onSearch:ae,autoClearSearchValue:P,onSearchSplit:dn,dropdownMatchSelectWidth:I,OptionList:aa,emptyOptions:!Ae.length,activeValue:un,activeDescendantId:"".concat(ye,"_list_").concat(cn)})))}),Jn=pa;Jn.Option=Qn;Jn.OptGroup=Xn;export{Qn as O,Jn as T,Xn as a};
