import{d as je,e as G,f as ce,k as Ae,b as k,c as ne,g as ue,v as rt,h as ct,i as ut,a as ft,j as O,_ as vt}from"./@babel-DAuA_VVL.js";import{c as Y}from"./classnames-D0qp76y0.js";import{b as ae,B as gt,A as ht,v as ot,u as Le,K as Ne}from"./rc-util-BCTlEnPv.js";import{r as b,a as M}from"./react-DEe3I7kj.js";import{L as yt}from"./rc-virtual-list-DKEud5z_.js";import{C as pt}from"./rc-motion-BhsrND7Q.js";function W(a,t){return a[t]}var Kt=["children"];function it(a,t){return"".concat(a,"-").concat(t)}function mt(a){return a&&a.type&&a.type.isTreeNode}function Te(a,t){return a??t}function Re(a){var t=a||{},v=t.title,e=t._title,i=t.key,u=t.children,p=v||"title";return{title:p,_title:e||[p],key:i||"key",children:u||"children"}}function kt(a){function t(v){var e=ht(v);return e.map(function(i){if(!mt(i))return ae(!i,"Tree/TreeNode can only accept TreeNode as children."),null;var u=i.key,p=i.props,n=p.children,o=Ae(p,Kt),r=G({key:u},o),s=t(n);return s.length&&(r.children=s),r}).filter(function(i){return i})}return t(a)}function Fe(a,t,v){var e=Re(v),i=e._title,u=e.key,p=e.children,n=new Set(t===!0?[]:t),o=[];function r(s){var c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;return s.map(function(f,g){for(var h=it(c?c.pos:"0",g),m=Te(f[u],h),l,y=0;y<i.length;y+=1){var N=i[y];if(f[N]!==void 0){l=f[N];break}}var K=Object.assign(gt(f,[].concat(ce(i),[u,p])),{title:l,key:m,parent:c,pos:h,children:null,data:f,isStart:[].concat(ce(c?c.isStart:[]),[g===0]),isEnd:[].concat(ce(c?c.isEnd:[]),[g===s.length-1])});return o.push(K),t===!0||n.has(m)?K.children=r(f[p]||[],K):K.children=[],K})}return r(a),o}function Nt(a,t,v){var e={};je(v)==="object"?e=v:e={externalGetKey:v},e=e||{};var i=e,u=i.childrenPropName,p=i.externalGetKey,n=i.fieldNames,o=Re(n),r=o.key,s=o.children,c=u||s,f;p?typeof p=="string"?f=function(m){return m[p]}:typeof p=="function"&&(f=function(m){return p(m)}):f=function(m,l){return Te(m[r],l)};function g(h,m,l,y){var N=h?h[c]:a,K=h?it(l.pos,m):"0",E=h?[].concat(ce(y),[h]):[];if(h){var C=f(h,K),D={node:h,index:m,pos:K,key:C,parentPos:l.node?l.pos:null,level:l.level+1,nodes:E};t(D)}N&&N.forEach(function(S,P){g(S,P,{node:h,pos:K,level:l?l.level+1:-1},E)})}g(null)}function Ct(a){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},v=t.initWrapper,e=t.processEntity,i=t.onProcessFinished,u=t.externalGetKey,p=t.childrenPropName,n=t.fieldNames,o=arguments.length>2?arguments[2]:void 0,r=u||o,s={},c={},f={posEntities:s,keyEntities:c};return v&&(f=v(f)||f),Nt(a,function(g){var h=g.node,m=g.index,l=g.pos,y=g.key,N=g.parentPos,K=g.level,E=g.nodes,C={node:h,nodes:E,index:m,key:y,pos:l,level:K},D=Te(y,l);s[l]=C,c[D]=C,C.parent=s[N],C.parent&&(C.parent.children=C.parent.children||[],C.parent.children.push(C)),e&&e(C,f)},{externalGetKey:r,childrenPropName:p,fieldNames:n}),i&&i(f),f}function Pe(a,t){var v=t.expandedKeys,e=t.selectedKeys,i=t.loadedKeys,u=t.loadingKeys,p=t.checkedKeys,n=t.halfCheckedKeys,o=t.dragOverNodeKey,r=t.dropPosition,s=t.keyEntities,c=W(s,a),f={eventKey:a,expanded:v.indexOf(a)!==-1,selected:e.indexOf(a)!==-1,loaded:i.indexOf(a)!==-1,loading:u.indexOf(a)!==-1,checked:p.indexOf(a)!==-1,halfChecked:n.indexOf(a)!==-1,pos:String(c?c.pos:""),dragOver:o===a&&r===0,dragOverGapTop:o===a&&r===-1,dragOverGapBottom:o===a&&r===1};return f}function F(a){var t=a.data,v=a.expanded,e=a.selected,i=a.checked,u=a.loaded,p=a.loading,n=a.halfChecked,o=a.dragOver,r=a.dragOverGapTop,s=a.dragOverGapBottom,c=a.pos,f=a.active,g=a.eventKey,h=G(G({},t),{},{expanded:v,selected:e,checked:i,loaded:u,loading:p,halfChecked:n,dragOver:o,dragOverGapTop:r,dragOverGapBottom:s,pos:c,active:f,key:g});return"props"in h||Object.defineProperty(h,"props",{get:function(){return ae(!1,"Second param return from event is node data instead of TreeNode instance. Please read value directly instead of reading from `props`."),a}}),h}function dt(a,t){var v=new Set;return a.forEach(function(e){t.has(e)||v.add(e)}),v}function xt(a){var t=a||{},v=t.disabled,e=t.disableCheckbox,i=t.checkable;return!!(v||e)||i===!1}function Et(a,t,v,e){for(var i=new Set(a),u=new Set,p=0;p<=v;p+=1){var n=t.get(p)||new Set;n.forEach(function(c){var f=c.key,g=c.node,h=c.children,m=h===void 0?[]:h;i.has(f)&&!e(g)&&m.filter(function(l){return!e(l.node)}).forEach(function(l){i.add(l.key)})})}for(var o=new Set,r=v;r>=0;r-=1){var s=t.get(r)||new Set;s.forEach(function(c){var f=c.parent,g=c.node;if(!(e(g)||!c.parent||o.has(c.parent.key))){if(e(c.parent.node)){o.add(f.key);return}var h=!0,m=!1;(f.children||[]).filter(function(l){return!e(l.node)}).forEach(function(l){var y=l.key,N=i.has(y);h&&!N&&(h=!1),!m&&(N||u.has(y))&&(m=!0)}),h&&i.add(f.key),m&&u.add(f.key),o.add(f.key)}})}return{checkedKeys:Array.from(i),halfCheckedKeys:Array.from(dt(u,i))}}function bt(a,t,v,e,i){for(var u=new Set(a),p=new Set(t),n=0;n<=e;n+=1){var o=v.get(n)||new Set;o.forEach(function(f){var g=f.key,h=f.node,m=f.children,l=m===void 0?[]:m;!u.has(g)&&!p.has(g)&&!i(h)&&l.filter(function(y){return!i(y.node)}).forEach(function(y){u.delete(y.key)})})}p=new Set;for(var r=new Set,s=e;s>=0;s-=1){var c=v.get(s)||new Set;c.forEach(function(f){var g=f.parent,h=f.node;if(!(i(h)||!f.parent||r.has(f.parent.key))){if(i(f.parent.node)){r.add(g.key);return}var m=!0,l=!1;(g.children||[]).filter(function(y){return!i(y.node)}).forEach(function(y){var N=y.key,K=u.has(N);m&&!K&&(m=!1),!l&&(K||p.has(N))&&(l=!0)}),m||u.delete(g.key),l&&p.add(g.key),r.add(g.key)}})}return{checkedKeys:Array.from(u),halfCheckedKeys:Array.from(dt(p,u))}}function Ue(a,t,v,e){var i=[],u;e?u=e:u=xt;var p=new Set(a.filter(function(s){var c=!!W(v,s);return c||i.push(s),c})),n=new Map,o=0;Object.keys(v).forEach(function(s){var c=v[s],f=c.level,g=n.get(f);g||(g=new Set,n.set(f,g)),g.add(c),o=Math.max(o,f)}),ae(!i.length,"Tree missing follow keys: ".concat(i.slice(0,100).map(function(s){return"'".concat(s,"'")}).join(", ")));var r;return t===!0?r=Et(p,n,o,u):r=bt(p,t.halfCheckedKeys,n,o,u),r}var He=b.createContext(null),Dt=b.createContext({}),St=function(t){for(var v=t.prefixCls,e=t.level,i=t.isStart,u=t.isEnd,p="".concat(v,"-indent-unit"),n=[],o=0;o<e;o+=1)n.push(b.createElement("span",{key:o,className:Y(p,k(k({},"".concat(p,"-start"),i[o]),"".concat(p,"-end"),u[o]))}));return b.createElement("span",{"aria-hidden":"true",className:"".concat(v,"-indent")},n)};const Ot=b.memo(St);var Pt=["eventKey","className","style","dragOver","dragOverGapTop","dragOverGapBottom","isLeaf","isStart","isEnd","expanded","selected","checked","halfChecked","loading","domRef","active","data","onMouseMove","selectable"],Ye="open",ze="close",Tt="---",_e=function(t){var v,e,i,u=t.eventKey,p=t.className,n=t.style,o=t.dragOver,r=t.dragOverGapTop,s=t.dragOverGapBottom,c=t.isLeaf,f=t.isStart,g=t.isEnd,h=t.expanded,m=t.selected,l=t.checked,y=t.halfChecked,N=t.loading,K=t.domRef,E=t.active,C=t.data,D=t.onMouseMove,S=t.selectable,P=Ae(t,Pt),d=M.useContext(He),T=M.useContext(Dt),L=M.useRef(null),A=M.useState(!1),I=ne(A,2),_=I[0],B=I[1],$=!!(d.disabled||t.disabled||(v=T.nodeDisabled)!==null&&v!==void 0&&v.call(T,C)),U=M.useMemo(function(){return!d.checkable||t.checkable===!1?!1:d.checkable},[d.checkable,t.checkable]),ve=function(x){$||d.onNodeSelect(x,F(t))},ge=function(x){$||!U||t.disableCheckbox||d.onNodeCheck(x,F(t),!l)},Ce=M.useMemo(function(){return typeof S=="boolean"?S:d.selectable},[S,d.selectable]),he=function(x){d.onNodeClick(x,F(t)),Ce?ve(x):ge(x)},re=function(x){d.onNodeDoubleClick(x,F(t))},H=function(x){d.onNodeMouseEnter(x,F(t))},oe=function(x){d.onNodeMouseLeave(x,F(t))},ye=function(x){d.onNodeContextMenu(x,F(t))},j=M.useMemo(function(){return!!(d.draggable&&(!d.draggable.nodeDraggable||d.draggable.nodeDraggable(C)))},[d.draggable,C]),xe=function(x){x.stopPropagation(),B(!0),d.onNodeDragStart(x,t);try{x.dataTransfer.setData("text/plain","")}catch{}},J=function(x){x.preventDefault(),x.stopPropagation(),d.onNodeDragEnter(x,t)},Ee=function(x){x.preventDefault(),x.stopPropagation(),d.onNodeDragOver(x,t)},pe=function(x){x.stopPropagation(),d.onNodeDragLeave(x,t)},Q=function(x){x.stopPropagation(),B(!1),d.onNodeDragEnd(x,t)},ie=function(x){x.preventDefault(),x.stopPropagation(),B(!1),d.onNodeDrop(x,t)},$e=function(x){N||d.onNodeExpand(x,F(t))},Ke=M.useMemo(function(){var w=W(d.keyEntities,u)||{},x=w.children;return!!(x||[]).length},[d.keyEntities,u]),Z=M.useMemo(function(){return c===!1?!1:c||!d.loadData&&!Ke||d.loadData&&t.loaded&&!Ke},[c,d.loadData,Ke,t.loaded]);M.useEffect(function(){N||typeof d.loadData=="function"&&h&&!Z&&!t.loaded&&d.onNodeLoad(F(t))},[N,d.loadData,d.onNodeLoad,h,Z,t]);var be=M.useMemo(function(){var w;return(w=d.draggable)!==null&&w!==void 0&&w.icon?M.createElement("span",{className:"".concat(d.prefixCls,"-draggable-icon")},d.draggable.icon):null},[d.draggable]),De=function(x){var V=t.switcherIcon||d.switcherIcon;return typeof V=="function"?V(G(G({},t),{},{isLeaf:x})):V},Se=function(){if(Z){var x=De(!0);return x!==!1?M.createElement("span",{className:Y("".concat(d.prefixCls,"-switcher"),"".concat(d.prefixCls,"-switcher-noop"))},x):null}var V=De(!1);return V!==!1?M.createElement("span",{onClick:$e,className:Y("".concat(d.prefixCls,"-switcher"),"".concat(d.prefixCls,"-switcher_").concat(h?Ye:ze))},V):null},Ie=M.useMemo(function(){if(!U)return null;var w=typeof U!="boolean"?U:null;return M.createElement("span",{className:Y("".concat(d.prefixCls,"-checkbox"),k(k(k({},"".concat(d.prefixCls,"-checkbox-checked"),l),"".concat(d.prefixCls,"-checkbox-indeterminate"),!l&&y),"".concat(d.prefixCls,"-checkbox-disabled"),$||t.disableCheckbox)),onClick:ge,role:"checkbox","aria-checked":y?"mixed":l,"aria-disabled":$||t.disableCheckbox,"aria-label":"Select ".concat(typeof t.title=="string"?t.title:"tree node")},w)},[U,l,y,$,t.disableCheckbox,t.title]),de=M.useMemo(function(){return Z?null:h?Ye:ze},[Z,h]),R=M.useMemo(function(){return M.createElement("span",{className:Y("".concat(d.prefixCls,"-iconEle"),"".concat(d.prefixCls,"-icon__").concat(de||"docu"),k({},"".concat(d.prefixCls,"-icon_loading"),N))})},[d.prefixCls,de,N]),q=M.useMemo(function(){var w=!!d.draggable,x=!t.disabled&&w&&d.dragOverNodeKey===u;return x?d.dropIndicatorRender({dropPosition:d.dropPosition,dropLevelOffset:d.dropLevelOffset,indent:d.indent,prefixCls:d.prefixCls,direction:d.direction}):null},[d.dropPosition,d.dropLevelOffset,d.indent,d.prefixCls,d.direction,d.draggable,d.dragOverNodeKey,d.dropIndicatorRender]),z=M.useMemo(function(){var w=t.title,x=w===void 0?Tt:w,V="".concat(d.prefixCls,"-node-content-wrapper"),Be;if(d.showIcon){var we=t.icon||d.icon;Be=we?M.createElement("span",{className:Y("".concat(d.prefixCls,"-iconEle"),"".concat(d.prefixCls,"-icon__customize"))},typeof we=="function"?we(t):we):R}else d.loadData&&N&&(Be=R);var Me;return typeof x=="function"?Me=x(C):d.titleRender?Me=d.titleRender(C):Me=x,M.createElement("span",{ref:L,title:typeof x=="string"?x:"",className:Y(V,"".concat(V,"-").concat(de||"normal"),k({},"".concat(d.prefixCls,"-node-selected"),!$&&(m||_))),onMouseEnter:H,onMouseLeave:oe,onContextMenu:ye,onClick:he,onDoubleClick:re},Be,M.createElement("span",{className:"".concat(d.prefixCls,"-title")},Me),q)},[d.prefixCls,d.showIcon,t,d.icon,R,d.titleRender,C,de,H,oe,ye,he,re]),me=ot(P,{aria:!0,data:!0}),le=W(d.keyEntities,u)||{},Oe=le.level,ke=g[g.length-1],ee=!$&&j,se=d.draggingNodeKey===u,Ve=S!==void 0?{"aria-selected":!!S}:void 0;return M.createElement("div",ue({ref:K,role:"treeitem","aria-expanded":c?void 0:h,className:Y(p,"".concat(d.prefixCls,"-treenode"),(i={},k(k(k(k(k(k(k(k(k(k(i,"".concat(d.prefixCls,"-treenode-disabled"),$),"".concat(d.prefixCls,"-treenode-switcher-").concat(h?"open":"close"),!c),"".concat(d.prefixCls,"-treenode-checkbox-checked"),l),"".concat(d.prefixCls,"-treenode-checkbox-indeterminate"),y),"".concat(d.prefixCls,"-treenode-selected"),m),"".concat(d.prefixCls,"-treenode-loading"),N),"".concat(d.prefixCls,"-treenode-active"),E),"".concat(d.prefixCls,"-treenode-leaf-last"),ke),"".concat(d.prefixCls,"-treenode-draggable"),j),"dragging",se),k(k(k(k(k(k(k(i,"drop-target",d.dropTargetKey===u),"drop-container",d.dropContainerKey===u),"drag-over",!$&&o),"drag-over-gap-top",!$&&r),"drag-over-gap-bottom",!$&&s),"filter-node",(e=d.filterTreeNode)===null||e===void 0?void 0:e.call(d,F(t))),"".concat(d.prefixCls,"-treenode-leaf"),Z))),style:n,draggable:ee,onDragStart:ee?xe:void 0,onDragEnter:j?J:void 0,onDragOver:j?Ee:void 0,onDragLeave:j?pe:void 0,onDrop:j?ie:void 0,onDragEnd:j?Q:void 0,onMouseMove:D},Ve,me),M.createElement(Ot,{prefixCls:d.prefixCls,level:Oe,isStart:f,isEnd:g}),be,Se(),Ie,z)};_e.isTreeNode=1;function X(a,t){if(!a)return[];var v=a.slice(),e=v.indexOf(t);return e>=0&&v.splice(e,1),v}function te(a,t){var v=(a||[]).slice();return v.indexOf(t)===-1&&v.push(t),v}function qe(a){return a.split("-")}function wt(a,t){var v=[],e=W(t,a);function i(){var u=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];u.forEach(function(p){var n=p.key,o=p.children;v.push(n),i(o)})}return i(e.children),v}function Mt(a){if(a.parent){var t=qe(a.pos);return Number(t[t.length-1])===a.parent.children.length-1}return!1}function Lt(a){var t=qe(a.pos);return Number(t[t.length-1])===0}function Xe(a,t,v,e,i,u,p,n,o,r){var s,c=a.clientX,f=a.clientY,g=a.target.getBoundingClientRect(),h=g.top,m=g.height,l=(r==="rtl"?-1:1)*(((i==null?void 0:i.x)||0)-c),y=(l-12)/e,N=o.filter(function($){var U;return(U=n[$])===null||U===void 0||(U=U.children)===null||U===void 0?void 0:U.length}),K=W(n,v.eventKey);if(f<h+m/2){var E=p.findIndex(function($){return $.key===K.key}),C=E<=0?0:E-1,D=p[C].key;K=W(n,D)}var S=K.key,P=K,d=K.key,T=0,L=0;if(!N.includes(S))for(var A=0;A<y&&Mt(K);A+=1)K=K.parent,L+=1;var I=t.data,_=K.node,B=!0;return Lt(K)&&K.level===0&&f<h+m/2&&u({dragNode:I,dropNode:_,dropPosition:-1})&&K.key===v.eventKey?T=-1:(P.children||[]).length&&N.includes(d)?u({dragNode:I,dropNode:_,dropPosition:0})?T=0:B=!1:L===0?y>-1.5?u({dragNode:I,dropNode:_,dropPosition:1})?T=1:B=!1:u({dragNode:I,dropNode:_,dropPosition:0})?T=0:u({dragNode:I,dropNode:_,dropPosition:1})?T=1:B=!1:u({dragNode:I,dropNode:_,dropPosition:1})?T=1:B=!1,{dropPosition:T,dropLevelOffset:L,dropTargetKey:K.key,dropTargetPos:K.pos,dragOverNodeKey:d,dropContainerKey:T===0?null:((s=K.parent)===null||s===void 0?void 0:s.key)||null,dropAllowed:B}}function Je(a,t){if(a){var v=t.multiple;return v?a.slice():a.length?[a[0]]:a}}function Ge(a){if(!a)return null;var t;if(Array.isArray(a))t={checkedKeys:a,halfCheckedKeys:void 0};else if(je(a)==="object")t={checkedKeys:a.checked||void 0,halfCheckedKeys:a.halfChecked||void 0};else return ae(!1,"`checkedKeys` is not an array or an object"),null;return t}function Qe(a,t){var v=new Set;function e(i){if(!v.has(i)){var u=W(t,i);if(u){v.add(i);var p=u.parent,n=u.node;n.disabled||p&&e(p.key)}}}return(a||[]).forEach(function(i){e(i)}),ce(v)}var Rt=function(t){var v=t.dropPosition,e=t.dropLevelOffset,i=t.indent,u={pointerEvents:"none",position:"absolute",right:0,backgroundColor:"red",height:2};switch(v){case-1:u.top=0,u.left=-e*i;break;case 1:u.bottom=0,u.left=-e*i;break;case 0:u.bottom=0,u.left=i;break}return M.createElement("div",{style:u})};function _t(a,t){var v=b.useState(!1),e=ne(v,2),i=e[0],u=e[1];Le(function(){if(i)return a(),function(){t()}},[i]),Le(function(){return u(!0),function(){u(!1)}},[])}var At=["className","style","motion","motionNodes","motionType","onMotionStart","onMotionEnd","active","treeNodeRequiredProps"],$t=b.forwardRef(function(a,t){var v=a.className,e=a.style,i=a.motion,u=a.motionNodes,p=a.motionType,n=a.onMotionStart,o=a.onMotionEnd,r=a.active,s=a.treeNodeRequiredProps,c=Ae(a,At),f=b.useState(!0),g=ne(f,2),h=g[0],m=g[1],l=b.useContext(He),y=l.prefixCls,N=u&&p!=="hide";Le(function(){u&&N!==h&&m(N)},[u]);var K=function(){u&&n()},E=b.useRef(!1),C=function(){u&&!E.current&&(E.current=!0,o())};_t(K,C);var D=function(P){N===P&&C()};return u?b.createElement(pt,ue({ref:t,visible:h},i,{motionAppear:p==="show",onVisibleChanged:D}),function(S,P){var d=S.className,T=S.style;return b.createElement("div",{ref:P,className:Y("".concat(y,"-treenode-motion"),d),style:T},u.map(function(L){var A=Object.assign({},(rt(L.data),L.data)),I=L.title,_=L.key,B=L.isStart,$=L.isEnd;delete A.children;var U=Pe(_,s);return b.createElement(_e,ue({},A,U,{title:I,active:r,data:L.data,key:_,isStart:B,isEnd:$}))}))}):b.createElement(_e,ue({domRef:t,className:v,style:e},c,{active:r}))});function It(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],v=a.length,e=t.length;if(Math.abs(v-e)!==1)return{add:!1,key:null};function i(u,p){var n=new Map;u.forEach(function(r){n.set(r,!0)});var o=p.filter(function(r){return!n.has(r)});return o.length===1?o[0]:null}return v<e?{add:!0,key:i(a,t)}:{add:!1,key:i(t,a)}}function Ze(a,t,v){var e=a.findIndex(function(n){return n.key===v}),i=a[e+1],u=t.findIndex(function(n){return n.key===v});if(i){var p=t.findIndex(function(n){return n.key===i.key});return t.slice(u+1,p)}return t.slice(u+1)}var Bt=["prefixCls","data","selectable","checkable","expandedKeys","selectedKeys","checkedKeys","loadedKeys","loadingKeys","halfCheckedKeys","keyEntities","disabled","dragging","dragOverNodeKey","dropPosition","motion","height","itemHeight","virtual","scrollWidth","focusable","activeItem","focused","tabIndex","onKeyDown","onFocus","onBlur","onActiveChange","onListChangeStart","onListChangeEnd"],et={width:0,height:0,display:"flex",overflow:"hidden",opacity:0,border:0,padding:0,margin:0},Ft=function(){},fe="RC_TREE_MOTION_".concat(Math.random()),We={key:fe},lt={key:fe,level:0,index:0,pos:"0",node:We,nodes:[We]},tt={parent:null,children:[],pos:lt.pos,data:We,title:null,key:fe,isStart:[],isEnd:[]};function nt(a,t,v,e){return t===!1||!v?a:a.slice(0,Math.ceil(v/e)+1)}function at(a){var t=a.key,v=a.pos;return Te(t,v)}function Ut(a){for(var t=String(a.data.key),v=a;v.parent;)v=v.parent,t="".concat(v.data.key," > ").concat(t);return t}var Gt=b.forwardRef(function(a,t){var v=a.prefixCls,e=a.data;a.selectable,a.checkable;var i=a.expandedKeys,u=a.selectedKeys,p=a.checkedKeys,n=a.loadedKeys,o=a.loadingKeys,r=a.halfCheckedKeys,s=a.keyEntities,c=a.disabled,f=a.dragging,g=a.dragOverNodeKey,h=a.dropPosition,m=a.motion,l=a.height,y=a.itemHeight,N=a.virtual,K=a.scrollWidth,E=a.focusable,C=a.activeItem,D=a.focused,S=a.tabIndex,P=a.onKeyDown,d=a.onFocus,T=a.onBlur,L=a.onActiveChange,A=a.onListChangeStart,I=a.onListChangeEnd,_=Ae(a,Bt),B=b.useRef(null),$=b.useRef(null);b.useImperativeHandle(t,function(){return{scrollTo:function(q){B.current.scrollTo(q)},getIndentWidth:function(){return $.current.offsetWidth}}});var U=b.useState(i),ve=ne(U,2),ge=ve[0],Ce=ve[1],he=b.useState(e),re=ne(he,2),H=re[0],oe=re[1],ye=b.useState(e),j=ne(ye,2),xe=j[0],J=j[1],Ee=b.useState([]),pe=ne(Ee,2),Q=pe[0],ie=pe[1],$e=b.useState(null),Ke=ne($e,2),Z=Ke[0],be=Ke[1],De=b.useRef(e);De.current=e;function Se(){var R=De.current;oe(R),J(R),ie([]),be(null),I()}Le(function(){Ce(i);var R=It(ge,i);if(R.key!==null)if(R.add){var q=H.findIndex(function(ee){var se=ee.key;return se===R.key}),z=nt(Ze(H,e,R.key),N,l,y),me=H.slice();me.splice(q+1,0,tt),J(me),ie(z),be("show")}else{var le=e.findIndex(function(ee){var se=ee.key;return se===R.key}),Oe=nt(Ze(e,H,R.key),N,l,y),ke=e.slice();ke.splice(le+1,0,tt),J(ke),ie(Oe),be("hide")}else H!==e&&(oe(e),J(e))},[i,e]),b.useEffect(function(){f||Se()},[f]);var Ie=m?xe:e,de={expandedKeys:i,selectedKeys:u,loadedKeys:n,loadingKeys:o,checkedKeys:p,halfCheckedKeys:r,dragOverNodeKey:g,dropPosition:h,keyEntities:s};return b.createElement(b.Fragment,null,D&&C&&b.createElement("span",{style:et,"aria-live":"assertive"},Ut(C)),b.createElement("div",null,b.createElement("input",{style:et,disabled:E===!1||c,tabIndex:E!==!1?S:null,onKeyDown:P,onFocus:d,onBlur:T,value:"",onChange:Ft,"aria-label":"for screen reader"})),b.createElement("div",{className:"".concat(v,"-treenode"),"aria-hidden":!0,style:{position:"absolute",pointerEvents:"none",visibility:"hidden",height:0,overflow:"hidden",border:0,padding:0}},b.createElement("div",{className:"".concat(v,"-indent")},b.createElement("div",{ref:$,className:"".concat(v,"-indent-unit")}))),b.createElement(yt,ue({},_,{data:Ie,itemKey:at,height:l,fullHeight:!1,virtual:N,itemHeight:y,scrollWidth:K,prefixCls:"".concat(v,"-list"),ref:B,role:"tree",onVisibleChange:function(q){q.every(function(z){return at(z)!==fe})&&Se()}}),function(R){var q=R.pos,z=Object.assign({},(rt(R.data),R.data)),me=R.title,le=R.key,Oe=R.isStart,ke=R.isEnd,ee=Te(le,q);delete z.key,delete z.children;var se=Pe(ee,de);return b.createElement($t,ue({},z,se,{title:me,active:!!C&&le===C.key,pos:q,data:R.data,isStart:Oe,isEnd:ke,motion:m,motionNodes:le===fe?Q:null,motionType:Z,onMotionStart:A,onMotionEnd:Se,treeNodeRequiredProps:de,onMouseMove:function(){L(null)}}))}))}),Wt=10,st=function(a){ct(v,a);var t=ut(v);function v(){var e;ft(this,v);for(var i=arguments.length,u=new Array(i),p=0;p<i;p++)u[p]=arguments[p];return e=t.call.apply(t,[this].concat(u)),k(O(e),"destroyed",!1),k(O(e),"delayedDragEnterLogic",void 0),k(O(e),"loadingRetryTimes",{}),k(O(e),"state",{keyEntities:{},indent:null,selectedKeys:[],checkedKeys:[],halfCheckedKeys:[],loadedKeys:[],loadingKeys:[],expandedKeys:[],draggingNodeKey:null,dragChildrenKeys:[],dropTargetKey:null,dropPosition:null,dropContainerKey:null,dropLevelOffset:null,dropTargetPos:null,dropAllowed:!0,dragOverNodeKey:null,treeData:[],flattenNodes:[],focused:!1,activeKey:null,listChanging:!1,prevProps:null,fieldNames:Re()}),k(O(e),"dragStartMousePosition",null),k(O(e),"dragNodeProps",null),k(O(e),"currentMouseOverDroppableNodeKey",null),k(O(e),"listRef",b.createRef()),k(O(e),"onNodeDragStart",function(n,o){var r=e.state,s=r.expandedKeys,c=r.keyEntities,f=e.props.onDragStart,g=o.eventKey;e.dragNodeProps=o,e.dragStartMousePosition={x:n.clientX,y:n.clientY};var h=X(s,g);e.setState({draggingNodeKey:g,dragChildrenKeys:wt(g,c),indent:e.listRef.current.getIndentWidth()}),e.setExpandedKeys(h),window.addEventListener("dragend",e.onWindowDragEnd),f==null||f({event:n,node:F(o)})}),k(O(e),"onNodeDragEnter",function(n,o){var r=e.state,s=r.expandedKeys,c=r.keyEntities,f=r.dragChildrenKeys,g=r.flattenNodes,h=r.indent,m=e.props,l=m.onDragEnter,y=m.onExpand,N=m.allowDrop,K=m.direction,E=o.pos,C=o.eventKey;if(e.currentMouseOverDroppableNodeKey!==C&&(e.currentMouseOverDroppableNodeKey=C),!e.dragNodeProps){e.resetDragState();return}var D=Xe(n,e.dragNodeProps,o,h,e.dragStartMousePosition,N,g,c,s,K),S=D.dropPosition,P=D.dropLevelOffset,d=D.dropTargetKey,T=D.dropContainerKey,L=D.dropTargetPos,A=D.dropAllowed,I=D.dragOverNodeKey;if(f.includes(d)||!A){e.resetDragState();return}if(e.delayedDragEnterLogic||(e.delayedDragEnterLogic={}),Object.keys(e.delayedDragEnterLogic).forEach(function(_){clearTimeout(e.delayedDragEnterLogic[_])}),e.dragNodeProps.eventKey!==o.eventKey&&(n.persist(),e.delayedDragEnterLogic[E]=window.setTimeout(function(){if(e.state.draggingNodeKey!==null){var _=ce(s),B=W(c,o.eventKey);B&&(B.children||[]).length&&(_=te(s,o.eventKey)),e.props.hasOwnProperty("expandedKeys")||e.setExpandedKeys(_),y==null||y(_,{node:F(o),expanded:!0,nativeEvent:n.nativeEvent})}},800)),e.dragNodeProps.eventKey===d&&P===0){e.resetDragState();return}e.setState({dragOverNodeKey:I,dropPosition:S,dropLevelOffset:P,dropTargetKey:d,dropContainerKey:T,dropTargetPos:L,dropAllowed:A}),l==null||l({event:n,node:F(o),expandedKeys:s})}),k(O(e),"onNodeDragOver",function(n,o){var r=e.state,s=r.dragChildrenKeys,c=r.flattenNodes,f=r.keyEntities,g=r.expandedKeys,h=r.indent,m=e.props,l=m.onDragOver,y=m.allowDrop,N=m.direction;if(e.dragNodeProps){var K=Xe(n,e.dragNodeProps,o,h,e.dragStartMousePosition,y,c,f,g,N),E=K.dropPosition,C=K.dropLevelOffset,D=K.dropTargetKey,S=K.dropContainerKey,P=K.dropTargetPos,d=K.dropAllowed,T=K.dragOverNodeKey;s.includes(D)||!d||(e.dragNodeProps.eventKey===D&&C===0?e.state.dropPosition===null&&e.state.dropLevelOffset===null&&e.state.dropTargetKey===null&&e.state.dropContainerKey===null&&e.state.dropTargetPos===null&&e.state.dropAllowed===!1&&e.state.dragOverNodeKey===null||e.resetDragState():E===e.state.dropPosition&&C===e.state.dropLevelOffset&&D===e.state.dropTargetKey&&S===e.state.dropContainerKey&&P===e.state.dropTargetPos&&d===e.state.dropAllowed&&T===e.state.dragOverNodeKey||e.setState({dropPosition:E,dropLevelOffset:C,dropTargetKey:D,dropContainerKey:S,dropTargetPos:P,dropAllowed:d,dragOverNodeKey:T}),l==null||l({event:n,node:F(o)}))}}),k(O(e),"onNodeDragLeave",function(n,o){e.currentMouseOverDroppableNodeKey===o.eventKey&&!n.currentTarget.contains(n.relatedTarget)&&(e.resetDragState(),e.currentMouseOverDroppableNodeKey=null);var r=e.props.onDragLeave;r==null||r({event:n,node:F(o)})}),k(O(e),"onWindowDragEnd",function(n){e.onNodeDragEnd(n,null,!0),window.removeEventListener("dragend",e.onWindowDragEnd)}),k(O(e),"onNodeDragEnd",function(n,o){var r=e.props.onDragEnd;e.setState({dragOverNodeKey:null}),e.cleanDragState(),r==null||r({event:n,node:F(o)}),e.dragNodeProps=null,window.removeEventListener("dragend",e.onWindowDragEnd)}),k(O(e),"onNodeDrop",function(n,o){var r,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,c=e.state,f=c.dragChildrenKeys,g=c.dropPosition,h=c.dropTargetKey,m=c.dropTargetPos,l=c.dropAllowed;if(l){var y=e.props.onDrop;if(e.setState({dragOverNodeKey:null}),e.cleanDragState(),h!==null){var N=G(G({},Pe(h,e.getTreeNodeRequiredProps())),{},{active:((r=e.getActiveItem())===null||r===void 0?void 0:r.key)===h,data:W(e.state.keyEntities,h).node}),K=f.includes(h);ae(!K,"Can not drop to dragNode's children node. This is a bug of rc-tree. Please report an issue.");var E=qe(m),C={event:n,node:F(N),dragNode:e.dragNodeProps?F(e.dragNodeProps):null,dragNodesKeys:[e.dragNodeProps.eventKey].concat(f),dropToGap:g!==0,dropPosition:g+Number(E[E.length-1])};s||y==null||y(C),e.dragNodeProps=null}}}),k(O(e),"cleanDragState",function(){var n=e.state.draggingNodeKey;n!==null&&e.setState({draggingNodeKey:null,dropPosition:null,dropContainerKey:null,dropTargetKey:null,dropLevelOffset:null,dropAllowed:!0,dragOverNodeKey:null}),e.dragStartMousePosition=null,e.currentMouseOverDroppableNodeKey=null}),k(O(e),"triggerExpandActionExpand",function(n,o){var r=e.state,s=r.expandedKeys,c=r.flattenNodes,f=o.expanded,g=o.key,h=o.isLeaf;if(!(h||n.shiftKey||n.metaKey||n.ctrlKey)){var m=c.filter(function(y){return y.key===g})[0],l=F(G(G({},Pe(g,e.getTreeNodeRequiredProps())),{},{data:m.data}));e.setExpandedKeys(f?X(s,g):te(s,g)),e.onNodeExpand(n,l)}}),k(O(e),"onNodeClick",function(n,o){var r=e.props,s=r.onClick,c=r.expandAction;c==="click"&&e.triggerExpandActionExpand(n,o),s==null||s(n,o)}),k(O(e),"onNodeDoubleClick",function(n,o){var r=e.props,s=r.onDoubleClick,c=r.expandAction;c==="doubleClick"&&e.triggerExpandActionExpand(n,o),s==null||s(n,o)}),k(O(e),"onNodeSelect",function(n,o){var r=e.state.selectedKeys,s=e.state,c=s.keyEntities,f=s.fieldNames,g=e.props,h=g.onSelect,m=g.multiple,l=o.selected,y=o[f.key],N=!l;N?m?r=te(r,y):r=[y]:r=X(r,y);var K=r.map(function(E){var C=W(c,E);return C?C.node:null}).filter(Boolean);e.setUncontrolledState({selectedKeys:r}),h==null||h(r,{event:"select",selected:N,node:o,selectedNodes:K,nativeEvent:n.nativeEvent})}),k(O(e),"onNodeCheck",function(n,o,r){var s=e.state,c=s.keyEntities,f=s.checkedKeys,g=s.halfCheckedKeys,h=e.props,m=h.checkStrictly,l=h.onCheck,y=o.key,N,K={event:"check",node:o,checked:r,nativeEvent:n.nativeEvent};if(m){var E=r?te(f,y):X(f,y),C=X(g,y);N={checked:E,halfChecked:C},K.checkedNodes=E.map(function(L){return W(c,L)}).filter(Boolean).map(function(L){return L.node}),e.setUncontrolledState({checkedKeys:E})}else{var D=Ue([].concat(ce(f),[y]),!0,c),S=D.checkedKeys,P=D.halfCheckedKeys;if(!r){var d=new Set(S);d.delete(y);var T=Ue(Array.from(d),{halfCheckedKeys:P},c);S=T.checkedKeys,P=T.halfCheckedKeys}N=S,K.checkedNodes=[],K.checkedNodesPositions=[],K.halfCheckedKeys=P,S.forEach(function(L){var A=W(c,L);if(A){var I=A.node,_=A.pos;K.checkedNodes.push(I),K.checkedNodesPositions.push({node:I,pos:_})}}),e.setUncontrolledState({checkedKeys:S},!1,{halfCheckedKeys:P})}l==null||l(N,K)}),k(O(e),"onNodeLoad",function(n){var o,r=n.key,s=e.state.keyEntities,c=W(s,r);if(!(c!=null&&(o=c.children)!==null&&o!==void 0&&o.length)){var f=new Promise(function(g,h){e.setState(function(m){var l=m.loadedKeys,y=l===void 0?[]:l,N=m.loadingKeys,K=N===void 0?[]:N,E=e.props,C=E.loadData,D=E.onLoad;if(!C||y.includes(r)||K.includes(r))return null;var S=C(n);return S.then(function(){var P=e.state.loadedKeys,d=te(P,r);D==null||D(d,{event:"load",node:n}),e.setUncontrolledState({loadedKeys:d}),e.setState(function(T){return{loadingKeys:X(T.loadingKeys,r)}}),g()}).catch(function(P){if(e.setState(function(T){return{loadingKeys:X(T.loadingKeys,r)}}),e.loadingRetryTimes[r]=(e.loadingRetryTimes[r]||0)+1,e.loadingRetryTimes[r]>=Wt){var d=e.state.loadedKeys;ae(!1,"Retry for `loadData` many times but still failed. No more retry."),e.setUncontrolledState({loadedKeys:te(d,r)}),g()}h(P)}),{loadingKeys:te(K,r)}})});return f.catch(function(){}),f}}),k(O(e),"onNodeMouseEnter",function(n,o){var r=e.props.onMouseEnter;r==null||r({event:n,node:o})}),k(O(e),"onNodeMouseLeave",function(n,o){var r=e.props.onMouseLeave;r==null||r({event:n,node:o})}),k(O(e),"onNodeContextMenu",function(n,o){var r=e.props.onRightClick;r&&(n.preventDefault(),r({event:n,node:o}))}),k(O(e),"onFocus",function(){var n=e.props.onFocus;e.setState({focused:!0});for(var o=arguments.length,r=new Array(o),s=0;s<o;s++)r[s]=arguments[s];n==null||n.apply(void 0,r)}),k(O(e),"onBlur",function(){var n=e.props.onBlur;e.setState({focused:!1}),e.onActiveChange(null);for(var o=arguments.length,r=new Array(o),s=0;s<o;s++)r[s]=arguments[s];n==null||n.apply(void 0,r)}),k(O(e),"getTreeNodeRequiredProps",function(){var n=e.state,o=n.expandedKeys,r=n.selectedKeys,s=n.loadedKeys,c=n.loadingKeys,f=n.checkedKeys,g=n.halfCheckedKeys,h=n.dragOverNodeKey,m=n.dropPosition,l=n.keyEntities;return{expandedKeys:o||[],selectedKeys:r||[],loadedKeys:s||[],loadingKeys:c||[],checkedKeys:f||[],halfCheckedKeys:g||[],dragOverNodeKey:h,dropPosition:m,keyEntities:l}}),k(O(e),"setExpandedKeys",function(n){var o=e.state,r=o.treeData,s=o.fieldNames,c=Fe(r,n,s);e.setUncontrolledState({expandedKeys:n,flattenNodes:c},!0)}),k(O(e),"onNodeExpand",function(n,o){var r=e.state.expandedKeys,s=e.state,c=s.listChanging,f=s.fieldNames,g=e.props,h=g.onExpand,m=g.loadData,l=o.expanded,y=o[f.key];if(!c){var N=r.includes(y),K=!l;if(ae(l&&N||!l&&!N,"Expand state not sync with index check"),r=K?te(r,y):X(r,y),e.setExpandedKeys(r),h==null||h(r,{node:o,expanded:K,nativeEvent:n.nativeEvent}),K&&m){var E=e.onNodeLoad(o);E&&E.then(function(){var C=Fe(e.state.treeData,r,f);e.setUncontrolledState({flattenNodes:C})}).catch(function(){var C=e.state.expandedKeys,D=X(C,y);e.setExpandedKeys(D)})}}}),k(O(e),"onListChangeStart",function(){e.setUncontrolledState({listChanging:!0})}),k(O(e),"onListChangeEnd",function(){setTimeout(function(){e.setUncontrolledState({listChanging:!1})})}),k(O(e),"onActiveChange",function(n){var o=e.state.activeKey,r=e.props,s=r.onActiveChange,c=r.itemScrollOffset,f=c===void 0?0:c;o!==n&&(e.setState({activeKey:n}),n!==null&&e.scrollTo({key:n,offset:f}),s==null||s(n))}),k(O(e),"getActiveItem",function(){var n=e.state,o=n.activeKey,r=n.flattenNodes;return o===null?null:r.find(function(s){var c=s.key;return c===o})||null}),k(O(e),"offsetActiveKey",function(n){var o=e.state,r=o.flattenNodes,s=o.activeKey,c=r.findIndex(function(h){var m=h.key;return m===s});c===-1&&n<0&&(c=r.length),c=(c+n+r.length)%r.length;var f=r[c];if(f){var g=f.key;e.onActiveChange(g)}else e.onActiveChange(null)}),k(O(e),"onKeyDown",function(n){var o=e.state,r=o.activeKey,s=o.expandedKeys,c=o.checkedKeys,f=o.fieldNames,g=e.props,h=g.onKeyDown,m=g.checkable,l=g.selectable;switch(n.which){case Ne.UP:{e.offsetActiveKey(-1),n.preventDefault();break}case Ne.DOWN:{e.offsetActiveKey(1),n.preventDefault();break}}var y=e.getActiveItem();if(y&&y.data){var N=e.getTreeNodeRequiredProps(),K=y.data.isLeaf===!1||!!(y.data[f.children]||[]).length,E=F(G(G({},Pe(r,N)),{},{data:y.data,active:!0}));switch(n.which){case Ne.LEFT:{K&&s.includes(r)?e.onNodeExpand({},E):y.parent&&e.onActiveChange(y.parent.key),n.preventDefault();break}case Ne.RIGHT:{K&&!s.includes(r)?e.onNodeExpand({},E):y.children&&y.children.length&&e.onActiveChange(y.children[0].key),n.preventDefault();break}case Ne.ENTER:case Ne.SPACE:{m&&!E.disabled&&E.checkable!==!1&&!E.disableCheckbox?e.onNodeCheck({},E,!c.includes(r)):!m&&l&&!E.disabled&&E.selectable!==!1&&e.onNodeSelect({},E);break}}}h==null||h(n)}),k(O(e),"setUncontrolledState",function(n){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null;if(!e.destroyed){var s=!1,c=!0,f={};Object.keys(n).forEach(function(g){if(e.props.hasOwnProperty(g)){c=!1;return}s=!0,f[g]=n[g]}),s&&(!o||c)&&e.setState(G(G({},f),r))}}),k(O(e),"scrollTo",function(n){e.listRef.current.scrollTo(n)}),e}return vt(v,[{key:"componentDidMount",value:function(){this.destroyed=!1,this.onUpdated()}},{key:"componentDidUpdate",value:function(){this.onUpdated()}},{key:"onUpdated",value:function(){var i=this.props,u=i.activeKey,p=i.itemScrollOffset,n=p===void 0?0:p;u!==void 0&&u!==this.state.activeKey&&(this.setState({activeKey:u}),u!==null&&this.scrollTo({key:u,offset:n}))}},{key:"componentWillUnmount",value:function(){window.removeEventListener("dragend",this.onWindowDragEnd),this.destroyed=!0}},{key:"resetDragState",value:function(){this.setState({dragOverNodeKey:null,dropPosition:null,dropLevelOffset:null,dropTargetKey:null,dropContainerKey:null,dropTargetPos:null,dropAllowed:!1})}},{key:"render",value:function(){var i=this.state,u=i.focused,p=i.flattenNodes,n=i.keyEntities,o=i.draggingNodeKey,r=i.activeKey,s=i.dropLevelOffset,c=i.dropContainerKey,f=i.dropTargetKey,g=i.dropPosition,h=i.dragOverNodeKey,m=i.indent,l=this.props,y=l.prefixCls,N=l.className,K=l.style,E=l.showLine,C=l.focusable,D=l.tabIndex,S=D===void 0?0:D,P=l.selectable,d=l.showIcon,T=l.icon,L=l.switcherIcon,A=l.draggable,I=l.checkable,_=l.checkStrictly,B=l.disabled,$=l.motion,U=l.loadData,ve=l.filterTreeNode,ge=l.height,Ce=l.itemHeight,he=l.scrollWidth,re=l.virtual,H=l.titleRender,oe=l.dropIndicatorRender,ye=l.onContextMenu,j=l.onScroll,xe=l.direction,J=l.rootClassName,Ee=l.rootStyle,pe=ot(this.props,{aria:!0,data:!0}),Q;A&&(je(A)==="object"?Q=A:typeof A=="function"?Q={nodeDraggable:A}:Q={});var ie={prefixCls:y,selectable:P,showIcon:d,icon:T,switcherIcon:L,draggable:Q,draggingNodeKey:o,checkable:I,checkStrictly:_,disabled:B,keyEntities:n,dropLevelOffset:s,dropContainerKey:c,dropTargetKey:f,dropPosition:g,dragOverNodeKey:h,indent:m,direction:xe,dropIndicatorRender:oe,loadData:U,filterTreeNode:ve,titleRender:H,onNodeClick:this.onNodeClick,onNodeDoubleClick:this.onNodeDoubleClick,onNodeExpand:this.onNodeExpand,onNodeSelect:this.onNodeSelect,onNodeCheck:this.onNodeCheck,onNodeLoad:this.onNodeLoad,onNodeMouseEnter:this.onNodeMouseEnter,onNodeMouseLeave:this.onNodeMouseLeave,onNodeContextMenu:this.onNodeContextMenu,onNodeDragStart:this.onNodeDragStart,onNodeDragEnter:this.onNodeDragEnter,onNodeDragOver:this.onNodeDragOver,onNodeDragLeave:this.onNodeDragLeave,onNodeDragEnd:this.onNodeDragEnd,onNodeDrop:this.onNodeDrop};return b.createElement(He.Provider,{value:ie},b.createElement("div",{className:Y(y,N,J,k(k(k({},"".concat(y,"-show-line"),E),"".concat(y,"-focused"),u),"".concat(y,"-active-focused"),r!==null)),style:Ee},b.createElement(Gt,ue({ref:this.listRef,prefixCls:y,style:K,data:p,disabled:B,selectable:P,checkable:!!I,motion:$,dragging:o!==null,height:ge,itemHeight:Ce,virtual:re,focusable:C,focused:u,tabIndex:S,activeItem:this.getActiveItem(),onFocus:this.onFocus,onBlur:this.onBlur,onKeyDown:this.onKeyDown,onActiveChange:this.onActiveChange,onListChangeStart:this.onListChangeStart,onListChangeEnd:this.onListChangeEnd,onContextMenu:ye,onScroll:j,scrollWidth:he},this.getTreeNodeRequiredProps(),pe))))}}],[{key:"getDerivedStateFromProps",value:function(i,u){var p=u.prevProps,n={prevProps:i};function o(S){return!p&&i.hasOwnProperty(S)||p&&p[S]!==i[S]}var r,s=u.fieldNames;if(o("fieldNames")&&(s=Re(i.fieldNames),n.fieldNames=s),o("treeData")?r=i.treeData:o("children")&&(ae(!1,"`children` of Tree is deprecated. Please use `treeData` instead."),r=kt(i.children)),r){n.treeData=r;var c=Ct(r,{fieldNames:s});n.keyEntities=G(k({},fe,lt),c.keyEntities)}var f=n.keyEntities||u.keyEntities;if(o("expandedKeys")||p&&o("autoExpandParent"))n.expandedKeys=i.autoExpandParent||!p&&i.defaultExpandParent?Qe(i.expandedKeys,f):i.expandedKeys;else if(!p&&i.defaultExpandAll){var g=G({},f);delete g[fe];var h=[];Object.keys(g).forEach(function(S){var P=g[S];P.children&&P.children.length&&h.push(P.key)}),n.expandedKeys=h}else!p&&i.defaultExpandedKeys&&(n.expandedKeys=i.autoExpandParent||i.defaultExpandParent?Qe(i.defaultExpandedKeys,f):i.defaultExpandedKeys);if(n.expandedKeys||delete n.expandedKeys,r||n.expandedKeys){var m=Fe(r||u.treeData,n.expandedKeys||u.expandedKeys,s);n.flattenNodes=m}if(i.selectable&&(o("selectedKeys")?n.selectedKeys=Je(i.selectedKeys,i):!p&&i.defaultSelectedKeys&&(n.selectedKeys=Je(i.defaultSelectedKeys,i))),i.checkable){var l;if(o("checkedKeys")?l=Ge(i.checkedKeys)||{}:!p&&i.defaultCheckedKeys?l=Ge(i.defaultCheckedKeys)||{}:r&&(l=Ge(i.checkedKeys)||{checkedKeys:u.checkedKeys,halfCheckedKeys:u.halfCheckedKeys}),l){var y=l,N=y.checkedKeys,K=N===void 0?[]:N,E=y.halfCheckedKeys,C=E===void 0?[]:E;if(!i.checkStrictly){var D=Ue(K,!0,f);K=D.checkedKeys,C=D.halfCheckedKeys}n.checkedKeys=K,n.halfCheckedKeys=C}}return o("loadedKeys")&&(n.loadedKeys=i.loadedKeys),n}}]),v}(b.Component);k(st,"defaultProps",{prefixCls:"rc-tree",showLine:!1,showIcon:!0,selectable:!0,multiple:!1,checkable:!1,disabled:!1,checkStrictly:!1,draggable:!1,defaultExpandParent:!0,autoExpandParent:!1,defaultExpandAll:!1,defaultExpandedKeys:[],defaultCheckedKeys:[],defaultSelectedKeys:[],dropIndicatorRender:Rt,allowDrop:function(){return!0},expandAction:!1});k(st,"TreeNode",_e);export{st as T,Ue as a,X as b,Ct as c,te as d,Qe as e,Re as f,kt as g,_e as h};
