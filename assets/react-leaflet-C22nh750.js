import{r,a as L}from"./react-DEe3I7kj.js";import{u as w,b as E,d as y,e as T,f as x,L as I,h as G,i as J,j as N,k as h,w as j,l as z}from"./@react-leaflet-DD_7zoy_.js";import{l as f}from"./leaflet-B_V4Pjd4.js";import"./react-dom-DtE_-WSV.js";function H(){return w().map}function Z(o){const t=H();return r.useEffect(function(){return t.on(o),function(){t.off(o)}},[t,o]),t}const q=E(function({data:t,...e},n){const a=new f.GeoJSON(t,e);return y(a,T(n,{overlayContainer:a}))},function(t,e,n){e.style!==n.style&&(e.style==null?t.resetStyle():t.setStyle(e.style))});function m(){return m=Object.assign||function(o){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(o[n]=e[n])}return o},m.apply(this,arguments)}function R({bounds:o,boundsOptions:t,center:e,children:n,className:a,id:g,placeholder:i,style:c,whenReady:s,zoom:d,...u},O){const[S]=r.useState({className:a,id:g,style:c}),[l,v]=r.useState(null);r.useImperativeHandle(O,()=>(l==null?void 0:l.map)??null,[l]);const b=r.useCallback(C=>{if(C!==null&&l===null){const p=new f.Map(C,u);e!=null&&d!=null?p.setView(e,d):o!=null&&p.fitBounds(o,t),s!=null&&p.whenReady(s),v(x(p))}},[]);r.useEffect(()=>()=>{l==null||l.map.remove()},[l]);const M=l?L.createElement(I,{value:l},n):i??null;return L.createElement("div",m({},S,{ref:b}),M)}const A=r.forwardRef(R),D=G(function({position:t,...e},n){const a=new f.Marker(t,e);return y(a,T(n,{overlayContainer:a}))},function(t,e,n){e.position!==n.position&&t.setLatLng(e.position),e.icon!=null&&e.icon!==n.icon&&t.setIcon(e.icon),e.zIndexOffset!=null&&e.zIndexOffset!==n.zIndexOffset&&t.setZIndexOffset(e.zIndexOffset),e.opacity!=null&&e.opacity!==n.opacity&&t.setOpacity(e.opacity),t.dragging!=null&&e.draggable!==n.draggable&&(e.draggable===!0?t.dragging.enable():t.dragging.disable())}),F=J(function(t){return new f.Control.Scale(t)}),K=N(function({url:t,...e},n){const a=new f.TileLayer(t,j(e,n));return y(a,n)},function(t,e,n){h(t,e,n);const{url:a}=e;a!=null&&a!==n.url&&t.setUrl(a)}),Q=z(function(t,e){const n=new f.Tooltip(t,e.overlayContainer);return y(n,e)},function(t,e,{position:n},a){r.useEffect(function(){const i=e.overlayContainer;if(i==null)return;const{instance:c}=t,s=u=>{u.tooltip===c&&(n!=null&&c.setLatLng(n),c.update(),a(!0))},d=u=>{u.tooltip===c&&a(!1)};return i.on({tooltipopen:s,tooltipclose:d}),i.bindTooltip(c),function(){i.off({tooltipopen:s,tooltipclose:d}),i._map!=null&&i.unbindTooltip()}},[t,e,a,n])});export{q as G,A as M,F as S,K as T,D as a,Q as b,Z as c,H as u};
