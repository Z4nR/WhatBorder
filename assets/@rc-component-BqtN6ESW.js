import{h as nn,i as an,a as Ar,_ as Lr,k as _t,e as P,d as Re,c as F,b as G,g as Oe,f as Ae,j as Vt,s as Nn}from"./@babel-DAuA_VVL.js";import{a as $,r as s}from"./react-DEe3I7kj.js";import{F as on}from"./@ant-design-D2hZJwPl.js";import{c as Se}from"./classnames-D0qp76y0.js";import{d as Me,e as xn,c as at,u as re,f as Mn,a as Rn,r as Bt,s as it,h as un,i as Dn,j as Pn,k as Fn,l as qt,m as qn,g as kt,n as kn,o as An,p as Ln}from"./rc-util-BCTlEnPv.js";import{r as sn}from"./react-dom-DtE_-WSV.js";import{R as cn}from"./rc-resize-observer-C-DzLP7k.js";import{C as ln}from"./rc-motion-BhsrND7Q.js";var Tn=["b"],$n=["v"],Pt=function(e){return Math.round(Number(e||0))},In=function(e){if(e instanceof on)return e;if(e&&Re(e)==="object"&&"h"in e&&"b"in e){var r=e,n=r.b,a=_t(r,Tn);return P(P({},a),{},{v:n})}return typeof e=="string"&&/hsb/.test(e)?e.replace(/hsb/,"hsv"):e},mr=function(t){nn(r,t);var e=an(r);function r(n){return Ar(this,r),e.call(this,In(n))}return Lr(r,[{key:"toHsbString",value:function(){var a=this.toHsb(),i=Pt(a.s*100),o=Pt(a.b*100),u=Pt(a.h),f=a.a,g="hsb(".concat(u,", ").concat(i,"%, ").concat(o,"%)"),m="hsba(".concat(u,", ").concat(i,"%, ").concat(o,"%, ").concat(f.toFixed(f===0?0:2),")");return f===1?g:m}},{key:"toHsb",value:function(){var a=this.toHsv(),i=a.v,o=_t(a,$n);return P(P({},o),{},{b:i,a:this.a})}}]),r}(on),_n="rc-color-picker",dr=function(e){return e instanceof mr?e:new mr(e)},Hn=dr("#1677ff"),fn=function(e){var r=e.offset,n=e.targetRef,a=e.containerRef,i=e.color,o=e.type,u=a.current.getBoundingClientRect(),f=u.width,g=u.height,m=n.current.getBoundingClientRect(),v=m.width,h=m.height,d=v/2,c=h/2,b=(r.x+d)/f,l=1-(r.y+c)/g,N=i.toHsb(),w=b,x=(r.x+d)/f*360;if(o)switch(o){case"hue":return dr(P(P({},N),{},{h:x<=0?0:x}));case"alpha":return dr(P(P({},N),{},{a:w<=0?0:w}))}return dr({h:N.h,s:b<=0?0:b,b:l>=1?1:l,a:N.a})},vn=function(e,r){var n=e.toHsb();switch(r){case"hue":return{x:n.h/360*100,y:50};case"alpha":return{x:e.a*100,y:50};default:return{x:n.s*100,y:(1-n.b)*100}}},pn=function(e){var r=e.color,n=e.prefixCls,a=e.className,i=e.style,o=e.onClick,u="".concat(n,"-color-block");return $.createElement("div",{className:Se(u,a),style:i,onClick:o},$.createElement("div",{className:"".concat(u,"-inner"),style:{background:r}}))};function Vn(t){var e="touches"in t?t.touches[0]:t,r=document.documentElement.scrollLeft||document.body.scrollLeft||window.pageXOffset,n=document.documentElement.scrollTop||document.body.scrollTop||window.pageYOffset;return{pageX:e.pageX-r,pageY:e.pageY-n}}function dn(t){var e=t.targetRef,r=t.containerRef,n=t.direction,a=t.onDragChange,i=t.onDragChangeComplete,o=t.calculate,u=t.color,f=t.disabledDrag,g=s.useState({x:0,y:0}),m=F(g,2),v=m[0],h=m[1],d=s.useRef(null),c=s.useRef(null);s.useEffect(function(){h(o())},[u]),s.useEffect(function(){return function(){document.removeEventListener("mousemove",d.current),document.removeEventListener("mouseup",c.current),document.removeEventListener("touchmove",d.current),document.removeEventListener("touchend",c.current),d.current=null,c.current=null}},[]);var b=function(S){var E=Vn(S),C=E.pageX,L=E.pageY,A=r.current.getBoundingClientRect(),H=A.x,j=A.y,Q=A.width,Y=A.height,p=e.current.getBoundingClientRect(),T=p.width,Z=p.height,V=T/2,U=Z/2,R=Math.max(0,Math.min(C-H,Q))-V,q=Math.max(0,Math.min(L-j,Y))-U,K={x:R,y:n==="x"?v.y:q};if(T===0&&Z===0||T!==Z)return!1;a==null||a(K)},l=function(S){S.preventDefault(),b(S)},N=function(S){S.preventDefault(),document.removeEventListener("mousemove",d.current),document.removeEventListener("mouseup",c.current),document.removeEventListener("touchmove",d.current),document.removeEventListener("touchend",c.current),d.current=null,c.current=null,i==null||i()},w=function(S){document.removeEventListener("mousemove",d.current),document.removeEventListener("mouseup",c.current),!f&&(b(S),document.addEventListener("mousemove",l),document.addEventListener("mouseup",N),document.addEventListener("touchmove",l),document.addEventListener("touchend",N),d.current=l,c.current=N)};return[v,w]}var mn=function(e){var r=e.size,n=r===void 0?"default":r,a=e.color,i=e.prefixCls;return $.createElement("div",{className:Se("".concat(i,"-handler"),G({},"".concat(i,"-handler-sm"),n==="small")),style:{backgroundColor:a}})},gn=function(e){var r=e.children,n=e.style,a=e.prefixCls;return $.createElement("div",{className:"".concat(a,"-palette"),style:P({position:"relative"},n)},r)},hn=s.forwardRef(function(t,e){var r=t.children,n=t.x,a=t.y;return $.createElement("div",{ref:e,style:{position:"absolute",left:"".concat(n,"%"),top:"".concat(a,"%"),zIndex:1,transform:"translate(-50%, -50%)"}},r)}),Bn=function(e){var r=e.color,n=e.onChange,a=e.prefixCls,i=e.onChangeComplete,o=e.disabled,u=s.useRef(),f=s.useRef(),g=s.useRef(r),m=Me(function(b){var l=fn({offset:b,targetRef:f,containerRef:u,color:r});g.current=l,n(l)}),v=dn({color:r,containerRef:u,targetRef:f,calculate:function(){return vn(r)},onDragChange:m,onDragChangeComplete:function(){return i==null?void 0:i(g.current)},disabledDrag:o}),h=F(v,2),d=h[0],c=h[1];return $.createElement("div",{ref:u,className:"".concat(a,"-select"),onMouseDown:c,onTouchStart:c},$.createElement(gn,{prefixCls:a},$.createElement(hn,{x:d.x,y:d.y,ref:f},$.createElement(mn,{color:r.toRgbString(),prefixCls:a})),$.createElement("div",{className:"".concat(a,"-saturation"),style:{backgroundColor:"hsl(".concat(r.toHsb().h,",100%, 50%)"),backgroundImage:"linear-gradient(0deg, #000, transparent),linear-gradient(90deg, #fff, hsla(0, 0%, 100%, 0))"}})))},jn=function(e,r){var n=xn(e,{value:r}),a=F(n,2),i=a[0],o=a[1],u=s.useMemo(function(){return dr(i)},[i]);return[u,o]},Wn=function(e){var r=e.colors,n=e.children,a=e.direction,i=a===void 0?"to right":a,o=e.type,u=e.prefixCls,f=s.useMemo(function(){return r.map(function(g,m){var v=dr(g);return o==="alpha"&&m===r.length-1&&(v=new mr(v.setA(1))),v.toRgbString()}).join(",")},[r,o]);return $.createElement("div",{className:"".concat(u,"-gradient"),style:{position:"absolute",inset:0,background:"linear-gradient(".concat(i,", ").concat(f,")")}},n)},zn=function(e){var r=e.prefixCls,n=e.colors,a=e.disabled,i=e.onChange,o=e.onChangeComplete,u=e.color,f=e.type,g=s.useRef(),m=s.useRef(),v=s.useRef(u),h=function(E){return f==="hue"?E.getHue():E.a*100},d=Me(function(S){var E=fn({offset:S,targetRef:m,containerRef:g,color:u,type:f});v.current=E,i(h(E))}),c=dn({color:u,targetRef:m,containerRef:g,calculate:function(){return vn(u,f)},onDragChange:d,onDragChangeComplete:function(){o(h(v.current))},direction:"x",disabledDrag:a}),b=F(c,2),l=b[0],N=b[1],w=$.useMemo(function(){if(f==="hue"){var S=u.toHsb();S.s=1,S.b=1,S.a=1;var E=new mr(S);return E}return u},[u,f]),x=$.useMemo(function(){return n.map(function(S){return"".concat(S.color," ").concat(S.percent,"%")})},[n]);return $.createElement("div",{ref:g,className:Se("".concat(r,"-slider"),"".concat(r,"-slider-").concat(f)),onMouseDown:N,onTouchStart:N},$.createElement(gn,{prefixCls:r},$.createElement(hn,{x:l.x,y:l.y,ref:m},$.createElement(mn,{size:"small",color:w.toHexString(),prefixCls:r})),$.createElement(Wn,{colors:x,type:f,prefixCls:r})))};function Gn(t){return s.useMemo(function(){var e=t||{},r=e.slider;return[r||zn]},[t])}var Un=[{color:"rgb(255, 0, 0)",percent:0},{color:"rgb(255, 255, 0)",percent:17},{color:"rgb(0, 255, 0)",percent:33},{color:"rgb(0, 255, 255)",percent:50},{color:"rgb(0, 0, 255)",percent:67},{color:"rgb(255, 0, 255)",percent:83},{color:"rgb(255, 0, 0)",percent:100}],Ya=s.forwardRef(function(t,e){var r=t.value,n=t.defaultValue,a=t.prefixCls,i=a===void 0?_n:a,o=t.onChange,u=t.onChangeComplete,f=t.className,g=t.style,m=t.panelRender,v=t.disabledAlpha,h=v===void 0?!1:v,d=t.disabled,c=d===void 0?!1:d,b=t.components,l=Gn(b),N=F(l,1),w=N[0],x=jn(n||Hn,r),S=F(x,2),E=S[0],C=S[1],L=s.useMemo(function(){return E.setA(1).toRgbString()},[E]),A=function(q,K){r||C(q),o==null||o(q,K)},H=function(q){return new mr(E.setHue(q))},j=function(q){return new mr(E.setA(q/100))},Q=function(q){A(H(q),{type:"hue",value:q})},Y=function(q){A(j(q),{type:"alpha",value:q})},p=function(q){u&&u(H(q))},T=function(q){u&&u(j(q))},Z=Se("".concat(i,"-panel"),f,G({},"".concat(i,"-panel-disabled"),c)),V={prefixCls:i,disabled:c,color:E},U=$.createElement($.Fragment,null,$.createElement(Bn,Oe({onChange:A},V,{onChangeComplete:u})),$.createElement("div",{className:"".concat(i,"-slider-container")},$.createElement("div",{className:Se("".concat(i,"-slider-group"),G({},"".concat(i,"-slider-group-disabled-alpha"),h))},$.createElement(w,Oe({},V,{type:"hue",colors:Un,min:0,max:359,value:E.getHue(),onChange:Q,onChangeComplete:p})),!h&&$.createElement(w,Oe({},V,{type:"alpha",colors:[{percent:0,color:"rgba(255, 0, 4, 0)"},{percent:100,color:L}],min:0,max:100,value:E.a*100,onChange:Y,onChangeComplete:T}))),$.createElement(pn,{color:E.toRgbString(),prefixCls:i})));return $.createElement("div",{className:Z,style:g,ref:e},typeof m=="function"?m(U):U)}),yn=s.createContext(null),jt=[];function On(t,e){var r=s.useState(function(){if(!at())return null;var c=document.createElement("div");return c}),n=F(r,1),a=n[0],i=s.useRef(!1),o=s.useContext(yn),u=s.useState(jt),f=F(u,2),g=f[0],m=f[1],v=o||(i.current?void 0:function(c){m(function(b){var l=[c].concat(Ae(b));return l})});function h(){a.parentElement||document.body.appendChild(a),i.current=!0}function d(){var c;(c=a.parentElement)===null||c===void 0||c.removeChild(a),i.current=!1}return re(function(){return t?o?o(h):h():d(),d},[t]),re(function(){g.length&&(g.forEach(function(c){return c()}),m(jt))},[g]),[a,v]}function Jn(){return document.body.scrollHeight>(window.innerHeight||document.documentElement.clientHeight)&&window.innerWidth>document.body.offsetWidth}var Qn="rc-util-locker-".concat(Date.now()),Wt=0;function Zn(t){var e=!!t,r=s.useState(function(){return Wt+=1,"".concat(Qn,"_").concat(Wt)}),n=F(r,1),a=n[0];re(function(){if(e){var i=Mn(document.body).width,o=Jn();Rn(`
html body {
  overflow-y: hidden;
  `.concat(o?"width: calc(100% - ".concat(i,"px);"):"",`
}`),a)}else Bt(a);return function(){Bt(a)}},[e,a])}var Kn=!1;function Xn(t){return Kn}var zt=function(e){return e===!1?!1:!at()||!e?null:typeof e=="string"?document.querySelector(e):typeof e=="function"?e():e},bn=s.forwardRef(function(t,e){var r=t.open,n=t.autoLock,a=t.getContainer;t.debug;var i=t.autoDestroy,o=i===void 0?!0:i,u=t.children,f=s.useState(r),g=F(f,2),m=g[0],v=g[1],h=m||r;s.useEffect(function(){(o||r)&&v(r)},[r,o]);var d=s.useState(function(){return zt(a)}),c=F(d,2),b=c[0],l=c[1];s.useEffect(function(){var Q=zt(a);l(Q??null)});var N=On(h&&!b),w=F(N,2),x=w[0],S=w[1],E=b??x;Zn(n&&r&&at()&&(E===x||E===document.body));var C=null;if(u&&it(u)&&e){var L=u;C=L.ref}var A=un(C,e);if(!h||!at()||b===void 0)return null;var H=E===!1||Xn(),j=u;return e&&(j=s.cloneElement(u,{ref:A})),s.createElement(yn.Provider,{value:S},H?j:sn.createPortal(j,E))});function At(){return{default:"Validation error on field %s",required:"%s is required",enum:"%s must be one of %s",whitespace:"%s cannot be empty",date:{format:"%s date %s is invalid for format %s",parse:"%s date could not be parsed, %s is invalid ",invalid:"%s date %s is invalid"},types:{string:"%s is not a %s",method:"%s is not a %s (function)",array:"%s is not an %s",object:"%s is not an %s",number:"%s is not a %s",date:"%s is not a %s",boolean:"%s is not a %s",integer:"%s is not an %s",float:"%s is not a %s",regexp:"%s is not a valid %s",email:"%s is not a valid %s",url:"%s is not a valid %s",hex:"%s is not a valid %s"},string:{len:"%s must be exactly %s characters",min:"%s must be at least %s characters",max:"%s cannot be longer than %s characters",range:"%s must be between %s and %s characters"},number:{len:"%s must equal %s",min:"%s cannot be less than %s",max:"%s cannot be greater than %s",range:"%s must be between %s and %s"},array:{len:"%s must be exactly %s in length",min:"%s cannot be less than %s in length",max:"%s cannot be greater than %s in length",range:"%s must be between %s and %s in length"},pattern:{mismatch:"%s value %s does not match pattern %s"},clone:function(){var e=JSON.parse(JSON.stringify(this));return e.clone=this.clone,e}}}var Lt=At(),Yn=/%[sdj%]/g,ea=function(){};function Tt(t){if(!t||!t.length)return null;var e={};return t.forEach(function(r){var n=r.field;e[n]=e[n]||[],e[n].push(r)}),e}function ce(t){for(var e=arguments.length,r=new Array(e>1?e-1:0),n=1;n<e;n++)r[n-1]=arguments[n];var a=0,i=r.length;if(typeof t=="function")return t.apply(null,r);if(typeof t=="string"){var o=t.replace(Yn,function(u){if(u==="%%")return"%";if(a>=i)return u;switch(u){case"%s":return String(r[a++]);case"%d":return Number(r[a++]);case"%j":try{return JSON.stringify(r[a++])}catch{return"[Circular]"}break;default:return u}});return o}return t}function ra(t){return t==="string"||t==="url"||t==="hex"||t==="email"||t==="date"||t==="pattern"}function J(t,e){return!!(t==null||e==="array"&&Array.isArray(t)&&!t.length||ra(e)&&typeof t=="string"&&!t)}function ta(t,e,r){var n=[],a=0,i=t.length;function o(u){n.push.apply(n,Ae(u||[])),a++,a===i&&r(n)}t.forEach(function(u){e(u,o)})}function Gt(t,e,r){var n=0,a=t.length;function i(o){if(o&&o.length){r(o);return}var u=n;n=n+1,u<a?e(t[u],i):r([])}i([])}function na(t){var e=[];return Object.keys(t).forEach(function(r){e.push.apply(e,Ae(t[r]||[]))}),e}var Ut=function(t){nn(r,t);var e=an(r);function r(n,a){var i;return Ar(this,r),i=e.call(this,"Async Validation Error"),G(Vt(i),"errors",void 0),G(Vt(i),"fields",void 0),i.errors=n,i.fields=a,i}return Lr(r)}(Nn(Error));function aa(t,e,r,n,a){if(e.first){var i=new Promise(function(h,d){var c=function(N){return n(N),N.length?d(new Ut(N,Tt(N))):h(a)},b=na(t);Gt(b,r,c)});return i.catch(function(h){return h}),i}var o=e.firstFields===!0?Object.keys(t):e.firstFields||[],u=Object.keys(t),f=u.length,g=0,m=[],v=new Promise(function(h,d){var c=function(l){if(m.push.apply(m,l),g++,g===f)return n(m),m.length?d(new Ut(m,Tt(m))):h(a)};u.length||(n(m),h(a)),u.forEach(function(b){var l=t[b];o.indexOf(b)!==-1?Gt(l,r,c):ta(l,r,c)})});return v.catch(function(h){return h}),v}function ia(t){return!!(t&&t.message!==void 0)}function oa(t,e){for(var r=t,n=0;n<e.length;n++){if(r==null)return r;r=r[e[n]]}return r}function Ot(t,e){return function(r){var n;return t.fullFields?n=oa(e,t.fullFields):n=e[r.field||t.fullField],ia(r)?(r.field=r.field||t.fullField,r.fieldValue=n,r):{message:typeof r=="function"?r():r,fieldValue:n,field:r.field||t.fullField}}}function Jt(t,e){if(e){for(var r in e)if(e.hasOwnProperty(r)){var n=e[r];Re(n)==="object"&&Re(t[r])==="object"?t[r]=P(P({},t[r]),n):t[r]=n}}return t}var fr="enum",ua=function(e,r,n,a,i){e[fr]=Array.isArray(e[fr])?e[fr]:[],e[fr].indexOf(r)===-1&&a.push(ce(i.messages[fr],e.fullField,e[fr].join(", ")))},sa=function(e,r,n,a,i){if(e.pattern){if(e.pattern instanceof RegExp)e.pattern.lastIndex=0,e.pattern.test(r)||a.push(ce(i.messages.pattern.mismatch,e.fullField,r,e.pattern));else if(typeof e.pattern=="string"){var o=new RegExp(e.pattern);o.test(r)||a.push(ce(i.messages.pattern.mismatch,e.fullField,r,e.pattern))}}},ca=function(e,r,n,a,i){var o=typeof e.len=="number",u=typeof e.min=="number",f=typeof e.max=="number",g=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,m=r,v=null,h=typeof r=="number",d=typeof r=="string",c=Array.isArray(r);if(h?v="number":d?v="string":c&&(v="array"),!v)return!1;c&&(m=r.length),d&&(m=r.replace(g,"_").length),o?m!==e.len&&a.push(ce(i.messages[v].len,e.fullField,e.len)):u&&!f&&m<e.min?a.push(ce(i.messages[v].min,e.fullField,e.min)):f&&!u&&m>e.max?a.push(ce(i.messages[v].max,e.fullField,e.max)):u&&f&&(m<e.min||m>e.max)&&a.push(ce(i.messages[v].range,e.fullField,e.min,e.max))},Cn=function(e,r,n,a,i,o){e.required&&(!n.hasOwnProperty(e.field)||J(r,o||e.type))&&a.push(ce(i.messages.required,e.fullField))},nt;const la=function(){if(nt)return nt;var t="[a-fA-F\\d:]",e=function(C){return C&&C.includeBoundaries?"(?:(?<=\\s|^)(?=".concat(t,")|(?<=").concat(t,")(?=\\s|$))"):""},r="(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)){3}",n="[a-fA-F\\d]{1,4}",a=["(?:".concat(n,":){7}(?:").concat(n,"|:)"),"(?:".concat(n,":){6}(?:").concat(r,"|:").concat(n,"|:)"),"(?:".concat(n,":){5}(?::").concat(r,"|(?::").concat(n,"){1,2}|:)"),"(?:".concat(n,":){4}(?:(?::").concat(n,"){0,1}:").concat(r,"|(?::").concat(n,"){1,3}|:)"),"(?:".concat(n,":){3}(?:(?::").concat(n,"){0,2}:").concat(r,"|(?::").concat(n,"){1,4}|:)"),"(?:".concat(n,":){2}(?:(?::").concat(n,"){0,3}:").concat(r,"|(?::").concat(n,"){1,5}|:)"),"(?:".concat(n,":){1}(?:(?::").concat(n,"){0,4}:").concat(r,"|(?::").concat(n,"){1,6}|:)"),"(?::(?:(?::".concat(n,"){0,5}:").concat(r,"|(?::").concat(n,"){1,7}|:))")],i="(?:%[0-9a-zA-Z]{1,})?",o="(?:".concat(a.join("|"),")").concat(i),u=new RegExp("(?:^".concat(r,"$)|(?:^").concat(o,"$)")),f=new RegExp("^".concat(r,"$")),g=new RegExp("^".concat(o,"$")),m=function(C){return C&&C.exact?u:new RegExp("(?:".concat(e(C)).concat(r).concat(e(C),")|(?:").concat(e(C)).concat(o).concat(e(C),")"),"g")};m.v4=function(E){return E&&E.exact?f:new RegExp("".concat(e(E)).concat(r).concat(e(E)),"g")},m.v6=function(E){return E&&E.exact?g:new RegExp("".concat(e(E)).concat(o).concat(e(E)),"g")};var v="(?:(?:[a-z]+:)?//)",h="(?:\\S+(?::\\S*)?@)?",d=m.v4().source,c=m.v6().source,b="(?:(?:[a-z\\u00a1-\\uffff0-9][-_]*)*[a-z\\u00a1-\\uffff0-9]+)",l="(?:\\.(?:[a-z\\u00a1-\\uffff0-9]-*)*[a-z\\u00a1-\\uffff0-9]+)*",N="(?:\\.(?:[a-z\\u00a1-\\uffff]{2,}))",w="(?::\\d{2,5})?",x='(?:[/?#][^\\s"]*)?',S="(?:".concat(v,"|www\\.)").concat(h,"(?:localhost|").concat(d,"|").concat(c,"|").concat(b).concat(l).concat(N,")").concat(w).concat(x);return nt=new RegExp("(?:^".concat(S,"$)"),"i"),nt};var Qt={email:/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+\.)+[a-zA-Z\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]{2,}))$/,hex:/^#?([a-f0-9]{6}|[a-f0-9]{3})$/i},Dr={integer:function(e){return Dr.number(e)&&parseInt(e,10)===e},float:function(e){return Dr.number(e)&&!Dr.integer(e)},array:function(e){return Array.isArray(e)},regexp:function(e){if(e instanceof RegExp)return!0;try{return!!new RegExp(e)}catch{return!1}},date:function(e){return typeof e.getTime=="function"&&typeof e.getMonth=="function"&&typeof e.getYear=="function"&&!isNaN(e.getTime())},number:function(e){return isNaN(e)?!1:typeof e=="number"},object:function(e){return Re(e)==="object"&&!Dr.array(e)},method:function(e){return typeof e=="function"},email:function(e){return typeof e=="string"&&e.length<=320&&!!e.match(Qt.email)},url:function(e){return typeof e=="string"&&e.length<=2048&&!!e.match(la())},hex:function(e){return typeof e=="string"&&!!e.match(Qt.hex)}},fa=function(e,r,n,a,i){if(e.required&&r===void 0){Cn(e,r,n,a,i);return}var o=["integer","float","array","regexp","object","method","email","number","date","url","hex"],u=e.type;o.indexOf(u)>-1?Dr[u](r)||a.push(ce(i.messages.types[u],e.fullField,e.type)):u&&Re(r)!==e.type&&a.push(ce(i.messages.types[u],e.fullField,e.type))},va=function(e,r,n,a,i){(/^\s+$/.test(r)||r==="")&&a.push(ce(i.messages.whitespace,e.fullField))};const D={required:Cn,whitespace:va,type:fa,range:ca,enum:ua,pattern:sa};var da=function(e,r,n,a,i){var o=[],u=e.required||!e.required&&a.hasOwnProperty(e.field);if(u){if(J(r)&&!e.required)return n();D.required(e,r,a,o,i)}n(o)},ma=function(e,r,n,a,i){var o=[],u=e.required||!e.required&&a.hasOwnProperty(e.field);if(u){if(r==null&&!e.required)return n();D.required(e,r,a,o,i,"array"),r!=null&&(D.type(e,r,a,o,i),D.range(e,r,a,o,i))}n(o)},ga=function(e,r,n,a,i){var o=[],u=e.required||!e.required&&a.hasOwnProperty(e.field);if(u){if(J(r)&&!e.required)return n();D.required(e,r,a,o,i),r!==void 0&&D.type(e,r,a,o,i)}n(o)},ha=function(e,r,n,a,i){var o=[],u=e.required||!e.required&&a.hasOwnProperty(e.field);if(u){if(J(r,"date")&&!e.required)return n();if(D.required(e,r,a,o,i),!J(r,"date")){var f;r instanceof Date?f=r:f=new Date(r),D.type(e,f,a,o,i),f&&D.range(e,f.getTime(),a,o,i)}}n(o)},ya="enum",ba=function(e,r,n,a,i){var o=[],u=e.required||!e.required&&a.hasOwnProperty(e.field);if(u){if(J(r)&&!e.required)return n();D.required(e,r,a,o,i),r!==void 0&&D[ya](e,r,a,o,i)}n(o)},Ca=function(e,r,n,a,i){var o=[],u=e.required||!e.required&&a.hasOwnProperty(e.field);if(u){if(J(r)&&!e.required)return n();D.required(e,r,a,o,i),r!==void 0&&(D.type(e,r,a,o,i),D.range(e,r,a,o,i))}n(o)},Sa=function(e,r,n,a,i){var o=[],u=e.required||!e.required&&a.hasOwnProperty(e.field);if(u){if(J(r)&&!e.required)return n();D.required(e,r,a,o,i),r!==void 0&&(D.type(e,r,a,o,i),D.range(e,r,a,o,i))}n(o)},wa=function(e,r,n,a,i){var o=[],u=e.required||!e.required&&a.hasOwnProperty(e.field);if(u){if(J(r)&&!e.required)return n();D.required(e,r,a,o,i),r!==void 0&&D.type(e,r,a,o,i)}n(o)},Ea=function(e,r,n,a,i){var o=[],u=e.required||!e.required&&a.hasOwnProperty(e.field);if(u){if(r===""&&(r=void 0),J(r)&&!e.required)return n();D.required(e,r,a,o,i),r!==void 0&&(D.type(e,r,a,o,i),D.range(e,r,a,o,i))}n(o)},Na=function(e,r,n,a,i){var o=[],u=e.required||!e.required&&a.hasOwnProperty(e.field);if(u){if(J(r)&&!e.required)return n();D.required(e,r,a,o,i),r!==void 0&&D.type(e,r,a,o,i)}n(o)},xa=function(e,r,n,a,i){var o=[],u=e.required||!e.required&&a.hasOwnProperty(e.field);if(u){if(J(r,"string")&&!e.required)return n();D.required(e,r,a,o,i),J(r,"string")||D.pattern(e,r,a,o,i)}n(o)},Ma=function(e,r,n,a,i){var o=[],u=e.required||!e.required&&a.hasOwnProperty(e.field);if(u){if(J(r)&&!e.required)return n();D.required(e,r,a,o,i),J(r)||D.type(e,r,a,o,i)}n(o)},Ra=function(e,r,n,a,i){var o=[],u=Array.isArray(r)?"array":Re(r);D.required(e,r,a,o,i,u),n(o)},Da=function(e,r,n,a,i){var o=[],u=e.required||!e.required&&a.hasOwnProperty(e.field);if(u){if(J(r,"string")&&!e.required)return n();D.required(e,r,a,o,i,"string"),J(r,"string")||(D.type(e,r,a,o,i),D.range(e,r,a,o,i),D.pattern(e,r,a,o,i),e.whitespace===!0&&D.whitespace(e,r,a,o,i))}n(o)},Ft=function(e,r,n,a,i){var o=e.type,u=[],f=e.required||!e.required&&a.hasOwnProperty(e.field);if(f){if(J(r,o)&&!e.required)return n();D.required(e,r,a,u,i,o),J(r,o)||D.type(e,r,a,u,i)}n(u)};const Fr={string:Da,method:wa,number:Ea,boolean:ga,regexp:Ma,integer:Sa,float:Ca,array:ma,object:Na,enum:ba,pattern:xa,date:ha,url:Ft,hex:Ft,email:Ft,required:Ra,any:da};var ot=function(){function t(e){Ar(this,t),G(this,"rules",null),G(this,"_messages",Lt),this.define(e)}return Lr(t,[{key:"define",value:function(r){var n=this;if(!r)throw new Error("Cannot configure a schema with no rules");if(Re(r)!=="object"||Array.isArray(r))throw new Error("Rules must be an object");this.rules={},Object.keys(r).forEach(function(a){var i=r[a];n.rules[a]=Array.isArray(i)?i:[i]})}},{key:"messages",value:function(r){return r&&(this._messages=Jt(At(),r)),this._messages}},{key:"validate",value:function(r){var n=this,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:function(){},o=r,u=a,f=i;if(typeof u=="function"&&(f=u,u={}),!this.rules||Object.keys(this.rules).length===0)return f&&f(null,o),Promise.resolve(o);function g(c){var b=[],l={};function N(x){if(Array.isArray(x)){var S;b=(S=b).concat.apply(S,Ae(x))}else b.push(x)}for(var w=0;w<c.length;w++)N(c[w]);b.length?(l=Tt(b),f(b,l)):f(null,o)}if(u.messages){var m=this.messages();m===Lt&&(m=At()),Jt(m,u.messages),u.messages=m}else u.messages=this.messages();var v={},h=u.keys||Object.keys(this.rules);h.forEach(function(c){var b=n.rules[c],l=o[c];b.forEach(function(N){var w=N;typeof w.transform=="function"&&(o===r&&(o=P({},o)),l=o[c]=w.transform(l),l!=null&&(w.type=w.type||(Array.isArray(l)?"array":Re(l)))),typeof w=="function"?w={validator:w}:w=P({},w),w.validator=n.getValidationMethod(w),w.validator&&(w.field=c,w.fullField=w.fullField||c,w.type=n.getType(w),v[c]=v[c]||[],v[c].push({rule:w,value:l,source:o,field:c}))})});var d={};return aa(v,u,function(c,b){var l=c.rule,N=(l.type==="object"||l.type==="array")&&(Re(l.fields)==="object"||Re(l.defaultField)==="object");N=N&&(l.required||!l.required&&c.value),l.field=c.field;function w(L,A){return P(P({},A),{},{fullField:"".concat(l.fullField,".").concat(L),fullFields:l.fullFields?[].concat(Ae(l.fullFields),[L]):[L]})}function x(){var L=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],A=Array.isArray(L)?L:[L];!u.suppressWarning&&A.length&&t.warning("async-validator:",A),A.length&&l.message!==void 0&&(A=[].concat(l.message));var H=A.map(Ot(l,o));if(u.first&&H.length)return d[l.field]=1,b(H);if(!N)b(H);else{if(l.required&&!c.value)return l.message!==void 0?H=[].concat(l.message).map(Ot(l,o)):u.error&&(H=[u.error(l,ce(u.messages.required,l.field))]),b(H);var j={};l.defaultField&&Object.keys(c.value).map(function(p){j[p]=l.defaultField}),j=P(P({},j),c.rule.fields);var Q={};Object.keys(j).forEach(function(p){var T=j[p],Z=Array.isArray(T)?T:[T];Q[p]=Z.map(w.bind(null,p))});var Y=new t(Q);Y.messages(u.messages),c.rule.options&&(c.rule.options.messages=u.messages,c.rule.options.error=u.error),Y.validate(c.value,c.rule.options||u,function(p){var T=[];H&&H.length&&T.push.apply(T,Ae(H)),p&&p.length&&T.push.apply(T,Ae(p)),b(T.length?T:null)})}}var S;if(l.asyncValidator)S=l.asyncValidator(l,c.value,x,c.source,u);else if(l.validator){try{S=l.validator(l,c.value,x,c.source,u)}catch(L){var E,C;(E=(C=console).error)===null||E===void 0||E.call(C,L),u.suppressValidatorError||setTimeout(function(){throw L},0),x(L.message)}S===!0?x():S===!1?x(typeof l.message=="function"?l.message(l.fullField||l.field):l.message||"".concat(l.fullField||l.field," fails")):S instanceof Array?x(S):S instanceof Error&&x(S.message)}S&&S.then&&S.then(function(){return x()},function(L){return x(L)})},function(c){g(c)},o)}},{key:"getType",value:function(r){if(r.type===void 0&&r.pattern instanceof RegExp&&(r.type="pattern"),typeof r.validator!="function"&&r.type&&!Fr.hasOwnProperty(r.type))throw new Error(ce("Unknown rule type %s",r.type));return r.type||"string"}},{key:"getValidationMethod",value:function(r){if(typeof r.validator=="function")return r.validator;var n=Object.keys(r),a=n.indexOf("message");return a!==-1&&n.splice(a,1),n.length===1&&n[0]==="required"?Fr.required:Fr[this.getType(r)]||void 0}}]),t}();G(ot,"register",function(e,r){if(typeof r!="function")throw new Error("Cannot register a validator by type, validator is not a function");Fr[e]=r});G(ot,"warning",ea);G(ot,"messages",Lt);G(ot,"validators",Fr);function Pa(t){var e=t.prefixCls,r=t.align,n=t.arrow,a=t.arrowPos,i=n||{},o=i.className,u=i.content,f=a.x,g=f===void 0?0:f,m=a.y,v=m===void 0?0:m,h=s.useRef();if(!r||!r.points)return null;var d={position:"absolute"};if(r.autoArrow!==!1){var c=r.points[0],b=r.points[1],l=c[0],N=c[1],w=b[0],x=b[1];l===w||!["t","b"].includes(l)?d.top=v:l==="t"?d.top=0:d.bottom=0,N===x||!["l","r"].includes(N)?d.left=g:N==="l"?d.left=0:d.right=0}return s.createElement("div",{ref:h,className:Se("".concat(e,"-arrow"),o),style:d},u)}function Fa(t){var e=t.prefixCls,r=t.open,n=t.zIndex,a=t.mask,i=t.motion;return a?s.createElement(ln,Oe({},i,{motionAppear:!0,visible:r,removeOnLeave:!0}),function(o){var u=o.className;return s.createElement("div",{style:{zIndex:n},className:Se("".concat(e,"-mask"),u)})}):null}var qa=s.memo(function(t){var e=t.children;return e},function(t,e){return e.cache}),ka=s.forwardRef(function(t,e){var r=t.popup,n=t.className,a=t.prefixCls,i=t.style,o=t.target,u=t.onVisibleChanged,f=t.open,g=t.keepDom,m=t.fresh,v=t.onClick,h=t.mask,d=t.arrow,c=t.arrowPos,b=t.align,l=t.motion,N=t.maskMotion,w=t.forceRender,x=t.getPopupContainer,S=t.autoDestroy,E=t.portal,C=t.zIndex,L=t.onMouseEnter,A=t.onMouseLeave,H=t.onPointerEnter,j=t.onPointerDownCapture,Q=t.ready,Y=t.offsetX,p=t.offsetY,T=t.offsetR,Z=t.offsetB,V=t.onAlign,U=t.onPrepare,R=t.stretch,q=t.targetWidth,K=t.targetHeight,te=typeof r=="function"?r():r,k=f||g,Le=(x==null?void 0:x.length)>0,gr=s.useState(!x||!Le),Te=F(gr,2),le=Te[0],hr=Te[1];if(re(function(){!le&&Le&&o&&hr(!0)},[le,Le,o]),!le)return null;var we="auto",oe={left:"-1000vw",top:"-1000vh",right:we,bottom:we};if(Q||!f){var Je,Qe=b.points,$e=b.dynamicInset||((Je=b._experimental)===null||Je===void 0?void 0:Je.dynamicInset),Ee=$e&&Qe[0][1]==="r",fe=$e&&Qe[0][0]==="b";Ee?(oe.right=T,oe.left=we):(oe.left=Y,oe.right=we),fe?(oe.bottom=Z,oe.top=we):(oe.top=p,oe.bottom=we)}var ne={};return R&&(R.includes("height")&&K?ne.height=K:R.includes("minHeight")&&K&&(ne.minHeight=K),R.includes("width")&&q?ne.width=q:R.includes("minWidth")&&q&&(ne.minWidth=q)),f||(ne.pointerEvents="none"),s.createElement(E,{open:w||k,getContainer:x&&function(){return x(o)},autoDestroy:S},s.createElement(Fa,{prefixCls:a,open:f,zIndex:C,mask:h,motion:N}),s.createElement(cn,{onResize:V,disabled:!f},function(De){return s.createElement(ln,Oe({motionAppear:!0,motionEnter:!0,motionLeave:!0,removeOnLeave:!1,forceRender:w,leavedClassName:"".concat(a,"-hidden")},l,{onAppearPrepare:U,onEnterPrepare:U,visible:f,onVisibleChanged:function(_e){var ue;l==null||(ue=l.onVisibleChanged)===null||ue===void 0||ue.call(l,_e),u(_e)}}),function(Ie,_e){var ue=Ie.className,Ze=Ie.style,ve=Se(a,ue,n);return s.createElement("div",{ref:Dn(De,e,_e),className:ve,style:P(P(P(P({"--arrow-x":"".concat(c.x||0,"px"),"--arrow-y":"".concat(c.y||0,"px")},oe),ne),Ze),{},{boxSizing:"border-box",zIndex:C},i),onMouseEnter:L,onMouseLeave:A,onPointerEnter:H,onClick:v,onPointerDownCapture:j},d&&s.createElement(Pa,{prefixCls:a,arrow:d,arrowPos:c,align:b}),s.createElement(qa,{cache:!f&&!m},te))})}))}),Aa=s.forwardRef(function(t,e){var r=t.children,n=t.getTriggerDOMNode,a=it(r),i=s.useCallback(function(u){Pn(e,n?n(u):u)},[n]),o=un(i,Fn(r));return a?s.cloneElement(r,{ref:o}):r}),Zt=s.createContext(null);function Kt(t){return t?Array.isArray(t)?t:[t]:[]}function La(t,e,r,n){return s.useMemo(function(){var a=Kt(r??e),i=Kt(n??e),o=new Set(a),u=new Set(i);return t&&(o.has("hover")&&(o.delete("hover"),o.add("click")),u.has("hover")&&(u.delete("hover"),u.add("click"))),[o,u]},[t,e,r,n])}function Ta(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],r=arguments.length>2?arguments[2]:void 0;return r?t[0]===e[0]:t[0]===e[0]&&t[1]===e[1]}function $a(t,e,r,n){for(var a=r.points,i=Object.keys(t),o=0;o<i.length;o+=1){var u,f=i[o];if(Ta((u=t[f])===null||u===void 0?void 0:u.points,a,n))return"".concat(e,"-placement-").concat(f)}return""}function Xt(t,e,r,n){return e||(r?{motionName:"".concat(t,"-").concat(r)}:n?{motionName:n}:null)}function Tr(t){return t.ownerDocument.defaultView}function $t(t){for(var e=[],r=t==null?void 0:t.parentElement,n=["hidden","scroll","clip","auto"];r;){var a=Tr(r).getComputedStyle(r),i=a.overflowX,o=a.overflowY,u=a.overflow;[i,o,u].some(function(f){return n.includes(f)})&&e.push(r),r=r.parentElement}return e}function kr(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;return Number.isNaN(t)?e:t}function Rr(t){return kr(parseFloat(t),0)}function Yt(t,e){var r=P({},t);return(e||[]).forEach(function(n){if(!(n instanceof HTMLBodyElement||n instanceof HTMLHtmlElement)){var a=Tr(n).getComputedStyle(n),i=a.overflow,o=a.overflowClipMargin,u=a.borderTopWidth,f=a.borderBottomWidth,g=a.borderLeftWidth,m=a.borderRightWidth,v=n.getBoundingClientRect(),h=n.offsetHeight,d=n.clientHeight,c=n.offsetWidth,b=n.clientWidth,l=Rr(u),N=Rr(f),w=Rr(g),x=Rr(m),S=kr(Math.round(v.width/c*1e3)/1e3),E=kr(Math.round(v.height/h*1e3)/1e3),C=(c-b-w-x)*S,L=(h-d-l-N)*E,A=l*E,H=N*E,j=w*S,Q=x*S,Y=0,p=0;if(i==="clip"){var T=Rr(o);Y=T*S,p=T*E}var Z=v.x+j-Y,V=v.y+A-p,U=Z+v.width+2*Y-j-Q-C,R=V+v.height+2*p-A-H-L;r.left=Math.max(r.left,Z),r.top=Math.max(r.top,V),r.right=Math.min(r.right,U),r.bottom=Math.min(r.bottom,R)}}),r}function en(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r="".concat(e),n=r.match(/^(.*)\%$/);return n?t*(parseFloat(n[1])/100):parseFloat(r)}function rn(t,e){var r=e||[],n=F(r,2),a=n[0],i=n[1];return[en(t.width,a),en(t.height,i)]}function tn(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";return[t[0],t[1]]}function vr(t,e){var r=e[0],n=e[1],a,i;return r==="t"?i=t.y:r==="b"?i=t.y+t.height:i=t.y+t.height/2,n==="l"?a=t.x:n==="r"?a=t.x+t.width:a=t.x+t.width/2,{x:a,y:i}}function Ue(t,e){var r={t:"b",b:"t",l:"r",r:"l"};return t.map(function(n,a){return a===e?r[n]||"c":n}).join("")}function Ia(t,e,r,n,a,i,o){var u=s.useState({ready:!1,offsetX:0,offsetY:0,offsetR:0,offsetB:0,arrowX:0,arrowY:0,scaleX:1,scaleY:1,align:a[n]||{}}),f=F(u,2),g=f[0],m=f[1],v=s.useRef(0),h=s.useMemo(function(){return e?$t(e):[]},[e]),d=s.useRef({}),c=function(){d.current={}};t||c();var b=Me(function(){if(e&&r&&t){let he=function(xr,ke){var Ge=arguments.length>2&&arguments[2]!==void 0?arguments[2]:yr,Mr=k.x+xr,et=k.y+ke,xt=Mr+fe,Mt=et+Ee,Rt=Math.max(Mr,Ge.left),y=Math.max(et,Ge.top),M=Math.min(xt,Ge.right),B=Math.min(Mt,Ge.bottom);return Math.max(0,(M-Rt)*(B-y))},lr=function(){Ve=k.y+W,Be=Ve+Ee,rr=k.x+_,qe=rr+fe};var w,x,S,E,C=e,L=C.ownerDocument,A=Tr(C),H=A.getComputedStyle(C),j=H.position,Q=C.style.left,Y=C.style.top,p=C.style.right,T=C.style.bottom,Z=C.style.overflow,V=P(P({},a[n]),i),U=L.createElement("div");(w=C.parentElement)===null||w===void 0||w.appendChild(U),U.style.left="".concat(C.offsetLeft,"px"),U.style.top="".concat(C.offsetTop,"px"),U.style.position=j,U.style.height="".concat(C.offsetHeight,"px"),U.style.width="".concat(C.offsetWidth,"px"),C.style.left="0",C.style.top="0",C.style.right="auto",C.style.bottom="auto",C.style.overflow="hidden";var R;if(Array.isArray(r))R={x:r[0],y:r[1],width:0,height:0};else{var q,K,te=r.getBoundingClientRect();te.x=(q=te.x)!==null&&q!==void 0?q:te.left,te.y=(K=te.y)!==null&&K!==void 0?K:te.top,R={x:te.x,y:te.y,width:te.width,height:te.height}}var k=C.getBoundingClientRect(),Le=A.getComputedStyle(C),gr=Le.height,Te=Le.width;k.x=(x=k.x)!==null&&x!==void 0?x:k.left,k.y=(S=k.y)!==null&&S!==void 0?S:k.top;var le=L.documentElement,hr=le.clientWidth,we=le.clientHeight,oe=le.scrollWidth,Je=le.scrollHeight,Qe=le.scrollTop,$e=le.scrollLeft,Ee=k.height,fe=k.width,ne=R.height,De=R.width,Ie={left:0,top:0,right:hr,bottom:we},_e={left:-$e,top:-Qe,right:oe-$e,bottom:Je-Qe},ue=V.htmlRegion,Ze="visible",ve="visibleFirst";ue!=="scroll"&&ue!==ve&&(ue=Ze);var Ke=ue===ve,ut=Yt(_e,h),I=Yt(Ie,h),yr=ue===Ze?I:ut,X=Ke?I:yr;C.style.left="auto",C.style.top="auto",C.style.right="0",C.style.bottom="0";var $r=C.getBoundingClientRect();C.style.left=Q,C.style.top=Y,C.style.right=p,C.style.bottom=T,C.style.overflow=Z,(E=C.parentElement)===null||E===void 0||E.removeChild(U);var Pe=kr(Math.round(fe/parseFloat(Te)*1e3)/1e3),He=kr(Math.round(Ee/parseFloat(gr)*1e3)/1e3);if(Pe===0||He===0||qt(r)&&!qn(r))return;var st=V.offset,Ir=V.targetOffset,Ne=rn(k,st),_r=F(Ne,2),de=_r[0],ye=_r[1],ur=rn(R,Ir),se=F(ur,2),pe=se[0],ct=se[1];R.x-=pe,R.y-=ct;var lt=V.points||[],Hr=F(lt,2),ft=Hr[0],pr=Hr[1],Fe=tn(pr),ae=tn(ft),ee=vr(R,Fe),Vr=vr(k,ae),me=P({},V),_=ee.x-Vr.x+de,W=ee.y-Vr.y+ye,be=he(_,W),Xe=he(_,W,I),ge=vr(R,["t","l"]),Br=vr(k,["t","l"]),br=vr(R,["b","r"]),Ye=vr(k,["b","r"]),er=V.overflow||{},vt=er.adjustX,jr=er.adjustY,sr=er.shiftX,Cr=er.shiftY,Wr=function(ke){return typeof ke=="boolean"?ke:ke>=0},Ve,Be,rr,qe;lr();var zr=Wr(jr),ie=ae[0]===Fe[0];if(zr&&ae[0]==="t"&&(Be>X.bottom||d.current.bt)){var tr=W;ie?tr-=Ee-ne:tr=ge.y-Ye.y-ye;var Gr=he(_,tr),dt=he(_,tr,I);Gr>be||Gr===be&&(!Ke||dt>=Xe)?(d.current.bt=!0,W=tr,ye=-ye,me.points=[Ue(ae,0),Ue(Fe,0)]):d.current.bt=!1}if(zr&&ae[0]==="b"&&(Ve<X.top||d.current.tb)){var nr=W;ie?nr+=Ee-ne:nr=br.y-Br.y-ye;var Ur=he(_,nr),mt=he(_,nr,I);Ur>be||Ur===be&&(!Ke||mt>=Xe)?(d.current.tb=!0,W=nr,ye=-ye,me.points=[Ue(ae,0),Ue(Fe,0)]):d.current.tb=!1}var Or=Wr(vt),Jr=ae[1]===Fe[1];if(Or&&ae[1]==="l"&&(qe>X.right||d.current.rl)){var ar=_;Jr?ar-=fe-De:ar=ge.x-Ye.x-de;var ir=he(ar,W),Sr=he(ar,W,I);ir>be||ir===be&&(!Ke||Sr>=Xe)?(d.current.rl=!0,_=ar,de=-de,me.points=[Ue(ae,1),Ue(Fe,1)]):d.current.rl=!1}if(Or&&ae[1]==="r"&&(rr<X.left||d.current.lr)){var or=_;Jr?or+=fe-De:or=br.x-Br.x-de;var wr=he(or,W),cr=he(or,W,I);wr>be||wr===be&&(!Ke||cr>=Xe)?(d.current.lr=!0,_=or,de=-de,me.points=[Ue(ae,1),Ue(Fe,1)]):d.current.lr=!1}lr();var Ce=sr===!0?0:sr;typeof Ce=="number"&&(rr<I.left&&(_-=rr-I.left-de,R.x+De<I.left+Ce&&(_+=R.x-I.left+De-Ce)),qe>I.right&&(_-=qe-I.right-de,R.x>I.right-Ce&&(_+=R.x-I.right+Ce)));var je=Cr===!0?0:Cr;typeof je=="number"&&(Ve<I.top&&(W-=Ve-I.top-ye,R.y+ne<I.top+je&&(W+=R.y-I.top+ne-je)),Be>I.bottom&&(W-=Be-I.bottom-ye,R.y>I.bottom-je&&(W+=R.y-I.bottom+je)));var We=k.x+_,ze=We+fe,Er=k.y+W,gt=Er+Ee,Qr=R.x,Zr=Qr+De,Kr=R.y,ht=Kr+ne,yt=Math.max(We,Qr),Xr=Math.min(ze,Zr),bt=(yt+Xr)/2,Ct=bt-We,Yr=Math.max(Er,Kr),St=Math.min(gt,ht),wt=(Yr+St)/2,Et=wt-Er;o==null||o(e,me);var xe=$r.right-k.x-(_+k.width),Nr=$r.bottom-k.y-(W+k.height);Pe===1&&(_=Math.round(_),xe=Math.round(xe)),He===1&&(W=Math.round(W),Nr=Math.round(Nr));var Nt={ready:!0,offsetX:_/Pe,offsetY:W/He,offsetR:xe/Pe,offsetB:Nr/He,arrowX:Ct/Pe,arrowY:Et/He,scaleX:Pe,scaleY:He,align:me};m(Nt)}}),l=function(){v.current+=1;var x=v.current;Promise.resolve().then(function(){v.current===x&&b()})},N=function(){m(function(x){return P(P({},x),{},{ready:!1})})};return re(N,[n]),re(function(){t||N()},[t]),[g.ready,g.offsetX,g.offsetY,g.offsetR,g.offsetB,g.arrowX,g.arrowY,g.scaleX,g.scaleY,g.align,l]}function _a(t,e,r,n,a){re(function(){if(t&&e&&r){let v=function(){n(),a()};var i=e,o=r,u=$t(i),f=$t(o),g=Tr(o),m=new Set([g].concat(Ae(u),Ae(f)));return m.forEach(function(h){h.addEventListener("scroll",v,{passive:!0})}),g.addEventListener("resize",v,{passive:!0}),n(),function(){m.forEach(function(h){h.removeEventListener("scroll",v),g.removeEventListener("resize",v)})}}},[t,e,r])}function Ha(t,e,r,n,a,i,o,u){var f=s.useRef(t);f.current=t;var g=s.useRef(!1);s.useEffect(function(){if(e&&n&&(!a||i)){var v=function(){g.current=!1},h=function(l){var N;f.current&&!o(((N=l.composedPath)===null||N===void 0||(N=N.call(l))===null||N===void 0?void 0:N[0])||l.target)&&!g.current&&u(!1)},d=Tr(n);d.addEventListener("pointerdown",v,!0),d.addEventListener("mousedown",h,!0),d.addEventListener("contextmenu",h,!0);var c=kt(r);return c&&(c.addEventListener("mousedown",h,!0),c.addEventListener("contextmenu",h,!0)),function(){d.removeEventListener("pointerdown",v,!0),d.removeEventListener("mousedown",h,!0),d.removeEventListener("contextmenu",h,!0),c&&(c.removeEventListener("mousedown",h,!0),c.removeEventListener("contextmenu",h,!0))}}},[e,r,n,a,i]);function m(){g.current=!0}return m}var pa=["prefixCls","children","action","showAction","hideAction","popupVisible","defaultPopupVisible","onPopupVisibleChange","afterPopupVisibleChange","mouseEnterDelay","mouseLeaveDelay","focusDelay","blurDelay","mask","maskClosable","getPopupContainer","forceRender","autoDestroy","destroyPopupOnHide","popup","popupClassName","popupStyle","popupPlacement","builtinPlacements","popupAlign","zIndex","stretch","getPopupClassNameFromAlign","fresh","alignPoint","onPopupClick","onPopupAlign","arrow","popupMotion","maskMotion","popupTransitionName","popupAnimation","maskTransitionName","maskAnimation","className","getTriggerDOMNode"];function Va(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:bn,e=s.forwardRef(function(r,n){var a=r.prefixCls,i=a===void 0?"rc-trigger-popup":a,o=r.children,u=r.action,f=u===void 0?"hover":u,g=r.showAction,m=r.hideAction,v=r.popupVisible,h=r.defaultPopupVisible,d=r.onPopupVisibleChange,c=r.afterPopupVisibleChange,b=r.mouseEnterDelay,l=r.mouseLeaveDelay,N=l===void 0?.1:l,w=r.focusDelay,x=r.blurDelay,S=r.mask,E=r.maskClosable,C=E===void 0?!0:E,L=r.getPopupContainer,A=r.forceRender,H=r.autoDestroy,j=r.destroyPopupOnHide,Q=r.popup,Y=r.popupClassName,p=r.popupStyle,T=r.popupPlacement,Z=r.builtinPlacements,V=Z===void 0?{}:Z,U=r.popupAlign,R=r.zIndex,q=r.stretch,K=r.getPopupClassNameFromAlign,te=r.fresh,k=r.alignPoint,Le=r.onPopupClick,gr=r.onPopupAlign,Te=r.arrow,le=r.popupMotion,hr=r.maskMotion,we=r.popupTransitionName,oe=r.popupAnimation,Je=r.maskTransitionName,Qe=r.maskAnimation,$e=r.className,Ee=r.getTriggerDOMNode,fe=_t(r,pa),ne=H||j||!1,De=s.useState(!1),Ie=F(De,2),_e=Ie[0],ue=Ie[1];re(function(){ue(kn())},[]);var Ze=s.useRef({}),ve=s.useContext(Zt),Ke=s.useMemo(function(){return{registerSubPopup:function(M,B){Ze.current[M]=B,ve==null||ve.registerSubPopup(M,B)}}},[ve]),ut=An(),I=s.useState(null),yr=F(I,2),X=yr[0],$r=yr[1],Pe=s.useRef(null),He=Me(function(y){Pe.current=y,qt(y)&&X!==y&&$r(y),ve==null||ve.registerSubPopup(ut,y)}),st=s.useState(null),Ir=F(st,2),Ne=Ir[0],_r=Ir[1],de=s.useRef(null),ye=Me(function(y){qt(y)&&Ne!==y&&(_r(y),de.current=y)}),ur=s.Children.only(o),se=(ur==null?void 0:ur.props)||{},pe={},ct=Me(function(y){var M,B,O=Ne;return(O==null?void 0:O.contains(y))||((M=kt(O))===null||M===void 0?void 0:M.host)===y||y===O||(X==null?void 0:X.contains(y))||((B=kt(X))===null||B===void 0?void 0:B.host)===y||y===X||Object.values(Ze.current).some(function(z){return(z==null?void 0:z.contains(y))||y===z})}),lt=Xt(i,le,oe,we),Hr=Xt(i,hr,Qe,Je),ft=s.useState(h||!1),pr=F(ft,2),Fe=pr[0],ae=pr[1],ee=v??Fe,Vr=Me(function(y){v===void 0&&ae(y)});re(function(){ae(v||!1)},[v]);var me=s.useRef(ee);me.current=ee;var _=s.useRef([]);_.current=[];var W=Me(function(y){var M;Vr(y),((M=_.current[_.current.length-1])!==null&&M!==void 0?M:ee)!==y&&(_.current.push(y),d==null||d(y))}),be=s.useRef(),Xe=function(){clearTimeout(be.current)},ge=function(M){var B=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;Xe(),B===0?W(M):be.current=setTimeout(function(){W(M)},B*1e3)};s.useEffect(function(){return Xe},[]);var Br=s.useState(!1),br=F(Br,2),Ye=br[0],er=br[1];re(function(y){(!y||ee)&&er(!0)},[ee]);var vt=s.useState(null),jr=F(vt,2),sr=jr[0],Cr=jr[1],Wr=s.useState(null),Ve=F(Wr,2),Be=Ve[0],rr=Ve[1],qe=function(M){rr([M.clientX,M.clientY])},zr=Ia(ee,X,k&&Be!==null?Be:Ne,T,V,U,gr),ie=F(zr,11),tr=ie[0],Gr=ie[1],dt=ie[2],nr=ie[3],Ur=ie[4],mt=ie[5],Or=ie[6],Jr=ie[7],ar=ie[8],ir=ie[9],Sr=ie[10],or=La(_e,f,g,m),wr=F(or,2),cr=wr[0],Ce=wr[1],je=cr.has("click"),We=Ce.has("click")||Ce.has("contextMenu"),ze=Me(function(){Ye||Sr()}),Er=function(){me.current&&k&&We&&ge(!1)};_a(ee,Ne,X,ze,Er),re(function(){ze()},[Be,T]),re(function(){ee&&!(V!=null&&V[T])&&ze()},[JSON.stringify(U)]);var gt=s.useMemo(function(){var y=$a(V,i,ir,k);return Se(y,K==null?void 0:K(ir))},[ir,K,V,i,k]);s.useImperativeHandle(n,function(){return{nativeElement:de.current,popupElement:Pe.current,forceAlign:ze}});var Qr=s.useState(0),Zr=F(Qr,2),Kr=Zr[0],ht=Zr[1],yt=s.useState(0),Xr=F(yt,2),bt=Xr[0],Ct=Xr[1],Yr=function(){if(q&&Ne){var M=Ne.getBoundingClientRect();ht(M.width),Ct(M.height)}},St=function(){Yr(),ze()},wt=function(M){er(!1),Sr(),c==null||c(M)},Et=function(){return new Promise(function(M){Yr(),Cr(function(){return M})})};re(function(){sr&&(Sr(),sr(),Cr(null))},[sr]);function xe(y,M,B,O){pe[y]=function(z){var rt;O==null||O(z),ge(M,B);for(var Dt=arguments.length,pt=new Array(Dt>1?Dt-1:0),tt=1;tt<Dt;tt++)pt[tt-1]=arguments[tt];(rt=se[y])===null||rt===void 0||rt.call.apply(rt,[se,z].concat(pt))}}(je||We)&&(pe.onClick=function(y){var M;me.current&&We?ge(!1):!me.current&&je&&(qe(y),ge(!0));for(var B=arguments.length,O=new Array(B>1?B-1:0),z=1;z<B;z++)O[z-1]=arguments[z];(M=se.onClick)===null||M===void 0||M.call.apply(M,[se,y].concat(O))});var Nr=Ha(ee,We,Ne,X,S,C,ct,ge),Nt=cr.has("hover"),he=Ce.has("hover"),lr,xr;Nt&&(xe("onMouseEnter",!0,b,function(y){qe(y)}),xe("onPointerEnter",!0,b,function(y){qe(y)}),lr=function(M){(ee||Ye)&&X!==null&&X!==void 0&&X.contains(M.target)&&ge(!0,b)},k&&(pe.onMouseMove=function(y){var M;(M=se.onMouseMove)===null||M===void 0||M.call(se,y)})),he&&(xe("onMouseLeave",!1,N),xe("onPointerLeave",!1,N),xr=function(){ge(!1,N)}),cr.has("focus")&&xe("onFocus",!0,w),Ce.has("focus")&&xe("onBlur",!1,x),cr.has("contextMenu")&&(pe.onContextMenu=function(y){var M;me.current&&Ce.has("contextMenu")?ge(!1):(qe(y),ge(!0)),y.preventDefault();for(var B=arguments.length,O=new Array(B>1?B-1:0),z=1;z<B;z++)O[z-1]=arguments[z];(M=se.onContextMenu)===null||M===void 0||M.call.apply(M,[se,y].concat(O))}),$e&&(pe.className=Se(se.className,$e));var ke=s.useRef(!1);ke.current||(ke.current=A||ee||Ye);var Ge=P(P({},se),pe),Mr={},et=["onContextMenu","onClick","onMouseDown","onTouchStart","onMouseEnter","onMouseLeave","onFocus","onBlur"];et.forEach(function(y){fe[y]&&(Mr[y]=function(){for(var M,B=arguments.length,O=new Array(B),z=0;z<B;z++)O[z]=arguments[z];(M=Ge[y])===null||M===void 0||M.call.apply(M,[Ge].concat(O)),fe[y].apply(fe,O)})});var xt=s.cloneElement(ur,P(P({},Ge),Mr)),Mt={x:mt,y:Or},Rt=Te?P({},Te!==!0?Te:{}):null;return s.createElement(s.Fragment,null,s.createElement(cn,{disabled:!ee,ref:ye,onResize:St},s.createElement(Aa,{getTriggerDOMNode:Ee},xt)),ke.current&&s.createElement(Zt.Provider,{value:Ke},s.createElement(ka,{portal:t,ref:He,prefixCls:i,popup:Q,className:Se(Y,gt),style:p,target:Ne,onMouseEnter:lr,onMouseLeave:xr,onPointerEnter:lr,zIndex:R,open:ee,keepDom:Ye,fresh:te,onClick:Le,onPointerDownCapture:Nr,mask:S,motion:lt,maskMotion:Hr,onVisibleChanged:wt,onPrepare:Et,forceRender:A,autoDestroy:ne,getPopupContainer:L,align:ir,arrow:Rt,arrowPos:Mt,ready:tr,offsetX:Gr,offsetY:dt,offsetR:nr,offsetB:Ur,onAlign:ze,stretch:q,targetWidth:Kr/Jr,targetHeight:bt/ar})))});return e}const ei=Va(bn);function It(){return typeof BigInt=="function"}function Sn(t){return!t&&t!==0&&!Number.isNaN(t)||!String(t).trim()}function qr(t){var e=t.trim(),r=e.startsWith("-");r&&(e=e.slice(1)),e=e.replace(/(\.\d*[^0])0*$/,"$1").replace(/\.0*$/,"").replace(/^0+/,""),e.startsWith(".")&&(e="0".concat(e));var n=e||"0",a=n.split("."),i=a[0]||"0",o=a[1]||"0";i==="0"&&o==="0"&&(r=!1);var u=r?"-":"";return{negative:r,negativeStr:u,trimStr:n,integerStr:i,decimalStr:o,fullStr:"".concat(u).concat(n)}}function Ht(t){var e=String(t);return!Number.isNaN(Number(e))&&e.includes("e")}function Pr(t){var e=String(t);if(Ht(t)){var r=Number(e.slice(e.indexOf("e-")+2)),n=e.match(/\.(\d+)/);return n!=null&&n[1]&&(r+=n[1].length),r}return e.includes(".")&&En(e)?e.length-e.indexOf(".")-1:0}function wn(t){var e=String(t);if(Ht(t)){if(t>Number.MAX_SAFE_INTEGER)return String(It()?BigInt(t).toString():Number.MAX_SAFE_INTEGER);if(t<Number.MIN_SAFE_INTEGER)return String(It()?BigInt(t).toString():Number.MIN_SAFE_INTEGER);e=t.toFixed(Pr(e))}return qr(e).fullStr}function En(t){return typeof t=="number"?!Number.isNaN(t):t?/^\s*-?\d+(\.\d+)?\s*$/.test(t)||/^\s*-?\d+\.\s*$/.test(t)||/^\s*-?\.\d+\s*$/.test(t):!1}var Ba=function(){function t(e){if(Ar(this,t),G(this,"origin",""),G(this,"negative",void 0),G(this,"integer",void 0),G(this,"decimal",void 0),G(this,"decimalLen",void 0),G(this,"empty",void 0),G(this,"nan",void 0),Sn(e)){this.empty=!0;return}if(this.origin=String(e),e==="-"||Number.isNaN(e)){this.nan=!0;return}var r=e;if(Ht(r)&&(r=Number(r)),r=typeof r=="string"?r:wn(r),En(r)){var n=qr(r);this.negative=n.negative;var a=n.trimStr.split(".");this.integer=BigInt(a[0]);var i=a[1]||"0";this.decimal=BigInt(i),this.decimalLen=i.length}else this.nan=!0}return Lr(t,[{key:"getMark",value:function(){return this.negative?"-":""}},{key:"getIntegerStr",value:function(){return this.integer.toString()}},{key:"getDecimalStr",value:function(){return this.decimal.toString().padStart(this.decimalLen,"0")}},{key:"alignDecimal",value:function(r){var n="".concat(this.getMark()).concat(this.getIntegerStr()).concat(this.getDecimalStr().padEnd(r,"0"));return BigInt(n)}},{key:"negate",value:function(){var r=new t(this.toString());return r.negative=!r.negative,r}},{key:"cal",value:function(r,n,a){var i=Math.max(this.getDecimalStr().length,r.getDecimalStr().length),o=this.alignDecimal(i),u=r.alignDecimal(i),f=n(o,u).toString(),g=a(i),m=qr(f),v=m.negativeStr,h=m.trimStr,d="".concat(v).concat(h.padStart(g+1,"0"));return new t("".concat(d.slice(0,-g),".").concat(d.slice(-g)))}},{key:"add",value:function(r){if(this.isInvalidate())return new t(r);var n=new t(r);return n.isInvalidate()?this:this.cal(n,function(a,i){return a+i},function(a){return a})}},{key:"multi",value:function(r){var n=new t(r);return this.isInvalidate()||n.isInvalidate()?new t(NaN):this.cal(n,function(a,i){return a*i},function(a){return a*2})}},{key:"isEmpty",value:function(){return this.empty}},{key:"isNaN",value:function(){return this.nan}},{key:"isInvalidate",value:function(){return this.isEmpty()||this.isNaN()}},{key:"equals",value:function(r){return this.toString()===(r==null?void 0:r.toString())}},{key:"lessEquals",value:function(r){return this.add(r.negate().toString()).toNumber()<=0}},{key:"toNumber",value:function(){return this.isNaN()?NaN:Number(this.toString())}},{key:"toString",value:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;return r?this.isInvalidate()?"":qr("".concat(this.getMark()).concat(this.getIntegerStr(),".").concat(this.getDecimalStr())).fullStr:this.origin}}]),t}(),ja=function(){function t(e){if(Ar(this,t),G(this,"origin",""),G(this,"number",void 0),G(this,"empty",void 0),Sn(e)){this.empty=!0;return}this.origin=String(e),this.number=Number(e)}return Lr(t,[{key:"negate",value:function(){return new t(-this.toNumber())}},{key:"add",value:function(r){if(this.isInvalidate())return new t(r);var n=Number(r);if(Number.isNaN(n))return this;var a=this.number+n;if(a>Number.MAX_SAFE_INTEGER)return new t(Number.MAX_SAFE_INTEGER);if(a<Number.MIN_SAFE_INTEGER)return new t(Number.MIN_SAFE_INTEGER);var i=Math.max(Pr(this.number),Pr(n));return new t(a.toFixed(i))}},{key:"multi",value:function(r){var n=Number(r);if(this.isInvalidate()||Number.isNaN(n))return new t(NaN);var a=this.number*n;if(a>Number.MAX_SAFE_INTEGER)return new t(Number.MAX_SAFE_INTEGER);if(a<Number.MIN_SAFE_INTEGER)return new t(Number.MIN_SAFE_INTEGER);var i=Math.max(Pr(this.number),Pr(n));return new t(a.toFixed(i))}},{key:"isEmpty",value:function(){return this.empty}},{key:"isNaN",value:function(){return Number.isNaN(this.number)}},{key:"isInvalidate",value:function(){return this.isEmpty()||this.isNaN()}},{key:"equals",value:function(r){return this.toNumber()===(r==null?void 0:r.toNumber())}},{key:"lessEquals",value:function(r){return this.add(r.negate().toString()).toNumber()<=0}},{key:"toNumber",value:function(){return this.number}},{key:"toString",value:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;return r?this.isInvalidate()?"":wn(this.number):this.origin}}]),t}();function Wa(t){return It()?new Ba(t):new ja(t)}function za(t,e,r){var n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(t==="")return"";var a=qr(t),i=a.negativeStr,o=a.integerStr,u=a.decimalStr,f="".concat(e).concat(u),g="".concat(i).concat(o);if(r>=0){var m=Number(u[r]);if(m>=5&&!n){var v=Wa(t).add("".concat(i,"0.").concat("0".repeat(r)).concat(10-m));return za(v.toString(),e,r,n)}return r===0?g:"".concat(g).concat(e).concat(u.padEnd(r,"0").slice(0,r))}return f===".0"?g:"".concat(g).concat(f)}function ri(t){var e=s.createContext(void 0),r=function(a){var i=a.value,o=a.children,u=s.useRef(i);u.current=i;var f=s.useState(function(){return{getValue:function(){return u.current},listeners:new Set}}),g=F(f,1),m=g[0];return re(function(){sn.unstable_batchedUpdates(function(){m.listeners.forEach(function(v){v(i)})})},[i]),s.createElement(e.Provider,{value:m},o)};return{Context:e,Provider:r,defaultValue:t}}function ti(t,e){var r=Me(typeof e=="function"?e:function(v){if(e===void 0)return v;if(!Array.isArray(e))return v[e];var h={};return e.forEach(function(d){h[d]=v[d]}),h}),n=s.useContext(t==null?void 0:t.Context),a=n||{},i=a.listeners,o=a.getValue,u=s.useRef();u.current=r(n?o():t==null?void 0:t.defaultValue);var f=s.useState({}),g=F(f,2),m=g[1];return re(function(){if(!n)return;function v(h){var d=r(h);Ln(u.current,d,!0)||m({})}return i.add(v),function(){i.delete(v)}},[n]),u.current}function ni(){var t=s.createContext(null);function e(){return s.useContext(t)}function r(a,i){var o=it(a),u=function(g,m){var v=o?{ref:m}:{},h=s.useRef(0),d=s.useRef(g),c=e();return c!==null?s.createElement(a,Oe({},g,v)):((!i||i(d.current,g))&&(h.current+=1),d.current=g,s.createElement(t.Provider,{value:h.current},s.createElement(a,Oe({},g,v))))};return o?s.forwardRef(u):u}function n(a,i){var o=it(a),u=function(g,m){var v=o?{ref:m}:{};return e(),s.createElement(a,Oe({},g,v))};return o?s.memo(s.forwardRef(u),i):s.memo(u,i)}return{makeImmutable:r,responseImmutable:n,useImmutableMark:e}}export{mr as C,bn as P,ot as S,ei as T,pn as a,Ya as b,Pr as c,za as d,ni as e,ri as f,Wa as g,wn as n,qr as t,ti as u,En as v};
