import{r as a}from"./react-DEe3I7kj.js";import{e as Dt,f as mn,u as ee}from"./@rc-component-BqtN6ESW.js";import{q as rt,p as at,F as pn,d as be,u as ot,m as jt,j as Dn,A as Ut,c as Yt,E as xn,x as dn,R as jn,S as Un,f as Yn,H as Gt,v as Gn}from"./rc-util-BCTlEnPv.js";import{c as U,d as Ne,b as W,e as g,g as ae,k as ke,f as me}from"./@babel-DAuA_VVL.js";import{c as te}from"./classnames-D0qp76y0.js";import{R as Cn}from"./rc-resize-observer-C-DzLP7k.js";import{L as qt}from"./rc-virtual-list-DKEud5z_.js";var Se={},Qe="rc-table-internal-hook",yn=Dt(),lt=yn.makeImmutable,Ke=yn.responseImmutable,Jt=yn.useImmutableMark,oe=mn(),it=a.createContext({renderWithProps:!1}),Qt="RC_TABLE_KEY";function Zt(e){return e==null?[]:Array.isArray(e)?e:[e]}function Ze(e){var t=[],n={};return e.forEach(function(r){for(var o=r||{},l=o.key,i=o.dataIndex,u=l||Zt(i).join("-")||Qt;n[u];)u="".concat(u,"_next");n[u]=!0,t.push(u)}),t}function fn(e){return e!=null}function er(e){return typeof e=="number"&&!Number.isNaN(e)}function nr(e){return e&&Ne(e)==="object"&&!Array.isArray(e)&&!a.isValidElement(e)}function tr(e,t,n,r,o,l){var i=a.useContext(it),u=Jt(),d=rt(function(){if(fn(r))return[r];var s=t==null||t===""?[]:Array.isArray(t)?t:[t],x=pn(e,s),f=x,m=void 0;if(o){var c=o(x,e,n);nr(c)?(f=c.children,m=c.props,i.renderWithProps=!0):f=c}return[f,m]},[u,e,r,t,o,n],function(s,x){if(l){var f=U(s,2),m=f[1],c=U(x,2),v=c[1];return l(v,m)}return i.renderWithProps?!0:!at(s,x,!0)});return d}function rr(e,t,n,r){var o=e+t-1;return e<=r&&o>=n}function ar(e,t){return ee(oe,function(n){var r=rr(e,t||1,n.hoverStartRow,n.hoverEndRow);return[r,n.onHover]})}var or=function(t){var n=t.ellipsis,r=t.rowType,o=t.children,l,i=n===!0?{showTitle:!0}:n;return i&&(i.showTitle||r==="header")&&(typeof o=="string"||typeof o=="number"?l=o.toString():a.isValidElement(o)&&typeof o.props.children=="string"&&(l=o.props.children)),l};function lr(e){var t,n,r,o,l,i,u,d,s=e.component,x=e.children,f=e.ellipsis,m=e.scope,c=e.prefixCls,v=e.className,h=e.align,E=e.record,I=e.render,H=e.dataIndex,S=e.renderIndex,_=e.shouldCellUpdate,b=e.index,z=e.rowType,N=e.colSpan,k=e.rowSpan,$=e.fixLeft,O=e.fixRight,K=e.firstFixLeft,L=e.lastFixLeft,T=e.firstFixRight,C=e.lastFixRight,p=e.appendNode,y=e.additionalProps,w=y===void 0?{}:y,M=e.isSticky,R="".concat(c,"-cell"),P=ee(oe,["supportSticky","allColumnsFixedLeft","rowHoverable"]),A=P.supportSticky,j=P.allColumnsFixedLeft,ne=P.rowHoverable,pe=tr(E,H,S,x,I,_),xe=U(pe,2),de=xe[0],V=xe[1],X={},le=typeof $=="number"&&A,Ce=typeof O=="number"&&A;le&&(X.position="sticky",X.left=$),Ce&&(X.position="sticky",X.right=O);var G=(t=(n=(r=V==null?void 0:V.colSpan)!==null&&r!==void 0?r:w.colSpan)!==null&&n!==void 0?n:N)!==null&&t!==void 0?t:1,Y=(o=(l=(i=V==null?void 0:V.rowSpan)!==null&&i!==void 0?i:w.rowSpan)!==null&&l!==void 0?l:k)!==null&&o!==void 0?o:1,re=ar(b,Y),fe=U(re,2),ze=fe[0],Le=fe[1],he=be(function($e){var J;E&&Le(b,b+Y-1),w==null||(J=w.onMouseEnter)===null||J===void 0||J.call(w,$e)}),Te=be(function($e){var J;E&&Le(-1,-1),w==null||(J=w.onMouseLeave)===null||J===void 0||J.call(w,$e)});if(G===0||Y===0)return null;var Be=(u=w.title)!==null&&u!==void 0?u:or({rowType:z,ellipsis:f,children:de}),ye=te(R,v,(d={},W(W(W(W(W(W(W(W(W(W(d,"".concat(R,"-fix-left"),le&&A),"".concat(R,"-fix-left-first"),K&&A),"".concat(R,"-fix-left-last"),L&&A),"".concat(R,"-fix-left-all"),L&&j&&A),"".concat(R,"-fix-right"),Ce&&A),"".concat(R,"-fix-right-first"),T&&A),"".concat(R,"-fix-right-last"),C&&A),"".concat(R,"-ellipsis"),f),"".concat(R,"-with-append"),p),"".concat(R,"-fix-sticky"),(le||Ce)&&M&&A),W(d,"".concat(R,"-row-hover"),!V&&ze)),w.className,V==null?void 0:V.className),ge={};h&&(ge.textAlign=h);var D=g(g(g(g({},V==null?void 0:V.style),X),ge),w.style),ce=de;return Ne(ce)==="object"&&!Array.isArray(ce)&&!a.isValidElement(ce)&&(ce=null),f&&(L||T)&&(ce=a.createElement("span",{className:"".concat(R,"-content")},ce)),a.createElement(s,ae({},V,w,{className:ye,style:D,title:Be,scope:m,onMouseEnter:ne?he:void 0,onMouseLeave:ne?Te:void 0,colSpan:G!==1?G:null,rowSpan:Y!==1?Y:null}),p,ce)}const Pe=a.memo(lr);function hn(e,t,n,r,o){var l=n[e]||{},i=n[t]||{},u,d;l.fixed==="left"?u=r.left[o==="rtl"?t:e]:i.fixed==="right"&&(d=r.right[o==="rtl"?e:t]);var s=!1,x=!1,f=!1,m=!1,c=n[t+1],v=n[e-1],h=c&&!c.fixed||v&&!v.fixed||n.every(function(_){return _.fixed==="left"});if(o==="rtl"){if(u!==void 0){var E=v&&v.fixed==="left";m=!E&&h}else if(d!==void 0){var I=c&&c.fixed==="right";f=!I&&h}}else if(u!==void 0){var H=c&&c.fixed==="left";s=!H&&h}else if(d!==void 0){var S=v&&v.fixed==="right";x=!S&&h}return{fixLeft:u,fixRight:d,lastFixLeft:s,firstFixRight:x,lastFixRight:f,firstFixLeft:m,isSticky:r.isSticky}}var ct=a.createContext({});function ir(e){var t=e.className,n=e.index,r=e.children,o=e.colSpan,l=o===void 0?1:o,i=e.rowSpan,u=e.align,d=ee(oe,["prefixCls","direction"]),s=d.prefixCls,x=d.direction,f=a.useContext(ct),m=f.scrollColumnIndex,c=f.stickyOffsets,v=f.flattenColumns,h=n+l-1,E=h+1===m?l+1:l,I=hn(n,n+E-1,v,c,x);return a.createElement(Pe,ae({className:t,index:n,component:"td",prefixCls:s,record:null,dataIndex:null,align:u,colSpan:E,rowSpan:i,render:function(){return r}},I))}var cr=["children"];function sr(e){var t=e.children,n=ke(e,cr);return a.createElement("tr",n,t)}function en(e){var t=e.children;return t}en.Row=sr;en.Cell=ir;function ur(e){var t=e.children,n=e.stickyOffsets,r=e.flattenColumns,o=ee(oe,"prefixCls"),l=r.length-1,i=r[l],u=a.useMemo(function(){return{stickyOffsets:n,flattenColumns:r,scrollColumnIndex:i!=null&&i.scrollbar?l:null}},[i,r,l,n]);return a.createElement(ct.Provider,{value:u},a.createElement("tfoot",{className:"".concat(o,"-summary")},t))}const Je=Ke(ur);var dr=en;function fr(e){return null}function vr(e){return null}function st(e,t,n,r,o,l,i){var u=l(t,i);e.push({record:t,indent:n,index:i,rowKey:u});var d=o==null?void 0:o.has(u);if(t&&Array.isArray(t[r])&&d)for(var s=0;s<t[r].length;s+=1)st(e,t[r][s],n+1,r,o,l,s)}function ut(e,t,n,r){var o=a.useMemo(function(){if(n!=null&&n.size){for(var l=[],i=0;i<(e==null?void 0:e.length);i+=1){var u=e[i];st(l,u,0,t,n,r,i)}return l}return e==null?void 0:e.map(function(d,s){return{record:d,indent:0,index:s,rowKey:r(d,s)}})},[e,t,n,r]);return o}function dt(e,t,n,r){var o=ee(oe,["prefixCls","fixedInfoList","flattenColumns","expandableType","expandRowByClick","onTriggerExpand","rowClassName","expandedRowClassName","indentSize","expandIcon","expandedRowRender","expandIconColumnIndex","expandedKeys","childrenColumnName","rowExpandable","onRow"]),l=o.flattenColumns,i=o.expandableType,u=o.expandedKeys,d=o.childrenColumnName,s=o.onTriggerExpand,x=o.rowExpandable,f=o.onRow,m=o.expandRowByClick,c=o.rowClassName,v=i==="nest",h=i==="row"&&(!x||x(e)),E=h||v,I=u&&u.has(t),H=d&&e&&e[d],S=be(s),_=f==null?void 0:f(e,n),b=_==null?void 0:_.onClick,z=function(O){m&&E&&s(e,O);for(var K=arguments.length,L=new Array(K>1?K-1:0),T=1;T<K;T++)L[T-1]=arguments[T];b==null||b.apply(void 0,[O].concat(L))},N;typeof c=="string"?N=c:typeof c=="function"&&(N=c(e,n,r));var k=Ze(l);return g(g({},o),{},{columnsKey:k,nestExpandable:v,expanded:I,hasNestChildren:H,record:e,onTriggerExpand:S,rowSupportExpand:h,expandable:E,rowProps:g(g({},_),{},{className:te(N,_==null?void 0:_.className),onClick:z})})}function ft(e){var t=e.prefixCls,n=e.children,r=e.component,o=e.cellComponent,l=e.className,i=e.expanded,u=e.colSpan,d=e.isEmpty,s=e.stickyOffset,x=s===void 0?0:s,f=ee(oe,["scrollbarSize","fixHeader","fixColumn","componentWidth","horizonScroll"]),m=f.scrollbarSize,c=f.fixHeader,v=f.fixColumn,h=f.componentWidth,E=f.horizonScroll,I=n;return(d?E&&h:v)&&(I=a.createElement("div",{style:{width:h-x-(c&&!d?m:0),position:"sticky",left:x,overflow:"hidden"},className:"".concat(t,"-expanded-row-fixed")},I)),a.createElement(r,{className:l,style:{display:i?null:"none"}},a.createElement(Pe,{component:o,prefixCls:t,colSpan:u},I))}function mr(e){var t=e.prefixCls,n=e.record,r=e.onExpand,o=e.expanded,l=e.expandable,i="".concat(t,"-row-expand-icon");if(!l)return a.createElement("span",{className:te(i,"".concat(t,"-row-spaced"))});var u=function(s){r(n,s),s.stopPropagation()};return a.createElement("span",{className:te(i,W(W({},"".concat(t,"-row-expanded"),o),"".concat(t,"-row-collapsed"),!o)),onClick:u})}function pr(e,t,n){var r=[];function o(l){(l||[]).forEach(function(i,u){r.push(t(i,u)),o(i[n])})}return o(e),r}function vt(e,t,n,r){return typeof e=="string"?e:typeof e=="function"?e(t,n,r):""}function mt(e,t,n,r,o){var l,i=arguments.length>5&&arguments[5]!==void 0?arguments[5]:[],u=arguments.length>6&&arguments[6]!==void 0?arguments[6]:0,d=e.record,s=e.prefixCls,x=e.columnsKey,f=e.fixedInfoList,m=e.expandIconColumnIndex,c=e.nestExpandable,v=e.indentSize,h=e.expandIcon,E=e.expanded,I=e.hasNestChildren,H=e.onTriggerExpand,S=e.expandable,_=e.expandedKeys,b=x[n],z=f[n],N;n===(m||0)&&c&&(N=a.createElement(a.Fragment,null,a.createElement("span",{style:{paddingLeft:"".concat(v*r,"px")},className:"".concat(s,"-row-indent indent-level-").concat(r)}),h({prefixCls:s,expanded:E,expandable:I,record:d,onExpand:H})));var k=((l=t.onCell)===null||l===void 0?void 0:l.call(t,d,o))||{};if(u){var $=k.rowSpan,O=$===void 0?1:$;if(S&&O&&n<u){for(var K=O,L=o;L<o+O;L+=1){var T=i[L];_.has(T)&&(K+=1)}k.rowSpan=K}}return{key:b,fixedInfo:z,appendCellNode:N,additionalCellProps:k}}function xr(e){var t=e.className,n=e.style,r=e.record,o=e.index,l=e.renderIndex,i=e.rowKey,u=e.rowKeys,d=e.indent,s=d===void 0?0:d,x=e.rowComponent,f=e.cellComponent,m=e.scopeCellComponent,c=e.expandedRowInfo,v=dt(r,i,o,s),h=v.prefixCls,E=v.flattenColumns,I=v.expandedRowClassName,H=v.expandedRowRender,S=v.rowProps,_=v.expanded,b=v.rowSupportExpand,z=a.useRef(!1);z.current||(z.current=_);var N=vt(I,r,o,s),k=a.createElement(x,ae({},S,{"data-row-key":i,className:te(t,"".concat(h,"-row"),"".concat(h,"-row-level-").concat(s),S==null?void 0:S.className,W({},N,s>=1)),style:g(g({},n),S==null?void 0:S.style)}),E.map(function(K,L){var T=K.render,C=K.dataIndex,p=K.className,y=mt(v,K,L,s,o,u,c==null?void 0:c.offset),w=y.key,M=y.fixedInfo,R=y.appendCellNode,P=y.additionalCellProps;return a.createElement(Pe,ae({className:p,ellipsis:K.ellipsis,align:K.align,scope:K.rowScope,component:K.rowScope?m:f,prefixCls:h,key:w,record:r,index:o,renderIndex:l,dataIndex:C,render:T,shouldCellUpdate:K.shouldCellUpdate},M,{appendNode:R,additionalProps:P}))})),$;if(b&&(z.current||_)){var O=H(r,o,s+1,_);$=a.createElement(ft,{expanded:_,className:te("".concat(h,"-expanded-row"),"".concat(h,"-expanded-row-level-").concat(s+1),N),prefixCls:h,component:x,cellComponent:f,colSpan:c?c.colSpan:E.length,stickyOffset:c==null?void 0:c.sticky,isEmpty:!1},O)}return a.createElement(a.Fragment,null,k,$)}const Cr=Ke(xr);function yr(e){var t=e.columnKey,n=e.onColumnResize,r=a.useRef();return ot(function(){r.current&&n(t,r.current.offsetWidth)},[]),a.createElement(Cn,{data:t},a.createElement("td",{ref:r,style:{padding:0,border:0,height:0}},a.createElement("div",{style:{height:0,overflow:"hidden"}},"Â ")))}function hr(e){var t=e.prefixCls,n=e.columnsKey,r=e.onColumnResize,o=a.useRef(null);return a.createElement("tr",{"aria-hidden":"true",className:"".concat(t,"-measure-row"),style:{height:0,fontSize:0},ref:o},a.createElement(Cn.Collection,{onBatchResize:function(i){jt(o.current)&&i.forEach(function(u){var d=u.data,s=u.size;r(d,s.offsetWidth)})}},n.map(function(l){return a.createElement(yr,{key:l,columnKey:l,onColumnResize:r})})))}function gr(e){var t=e.data,n=e.measureColumnWidth,r=ee(oe,["prefixCls","getComponent","onColumnResize","flattenColumns","getRowKey","expandedKeys","childrenColumnName","emptyNode","expandedRowOffset","fixedInfoList","colWidths"]),o=r.prefixCls,l=r.getComponent,i=r.onColumnResize,u=r.flattenColumns,d=r.getRowKey,s=r.expandedKeys,x=r.childrenColumnName,f=r.emptyNode,m=r.expandedRowOffset,c=m===void 0?0:m,v=r.colWidths,h=ut(t,x,s,d),E=a.useMemo(function(){return h.map(function($){return $.rowKey})},[h]),I=a.useRef({renderWithProps:!1}),H=a.useMemo(function(){for(var $=u.length-c,O=0,K=0;K<c;K+=1)O+=v[K]||0;return{offset:c,colSpan:$,sticky:O}},[u.length,c,v]),S=l(["body","wrapper"],"tbody"),_=l(["body","row"],"tr"),b=l(["body","cell"],"td"),z=l(["body","cell"],"th"),N;t.length?N=h.map(function($,O){var K=$.record,L=$.indent,T=$.index,C=$.rowKey;return a.createElement(Cr,{key:C,rowKey:C,rowKeys:E,record:K,index:O,renderIndex:T,rowComponent:_,cellComponent:b,scopeCellComponent:z,indent:L,expandedRowInfo:H})}):N=a.createElement(ft,{expanded:!0,className:"".concat(o,"-placeholder"),prefixCls:o,component:_,cellComponent:b,colSpan:u.length,isEmpty:!0},f);var k=Ze(u);return a.createElement(it.Provider,{value:I.current},a.createElement(S,{className:"".concat(o,"-tbody")},n&&a.createElement(hr,{prefixCls:o,columnsKey:k,onColumnResize:i}),N))}const wr=Ke(gr);var Sr=["expandable"],pt="RC_TABLE_INTERNAL_COL_DEFINE";function Rr(e){var t=e.expandable,n=ke(e,Sr),r;return"expandable"in e?r=g(g({},n),t):r=n,r.showExpandColumn===!1&&(r.expandIconColumnIndex=-1),r}var Er=["columnType"];function xt(e){for(var t=e.colWidths,n=e.columns,r=e.columCount,o=ee(oe,["tableLayout"]),l=o.tableLayout,i=[],u=r||n.length,d=!1,s=u-1;s>=0;s-=1){var x=t[s],f=n&&n[s],m=void 0,c=void 0;if(f&&(m=f[pt],l==="auto"&&(c=f.minWidth)),x||c||m||d){var v=m||{};v.columnType;var h=ke(v,Er);i.unshift(a.createElement("col",ae({key:s,style:{width:x,minWidth:c}},h))),d=!0}}return a.createElement("colgroup",null,i)}var br=["className","noData","columns","flattenColumns","colWidths","columCount","stickyOffsets","direction","fixHeader","stickyTopOffset","stickyBottomOffset","stickyClassName","onScroll","maxContentScroll","children"];function Nr(e,t){return a.useMemo(function(){for(var n=[],r=0;r<t;r+=1){var o=e[r];if(o!==void 0)n[r]=o;else return null}return n},[e.join("_"),t])}var kr=a.forwardRef(function(e,t){var n=e.className,r=e.noData,o=e.columns,l=e.flattenColumns,i=e.colWidths,u=e.columCount,d=e.stickyOffsets,s=e.direction,x=e.fixHeader,f=e.stickyTopOffset,m=e.stickyBottomOffset,c=e.stickyClassName,v=e.onScroll,h=e.maxContentScroll,E=e.children,I=ke(e,br),H=ee(oe,["prefixCls","scrollbarSize","isSticky","getComponent"]),S=H.prefixCls,_=H.scrollbarSize,b=H.isSticky,z=H.getComponent,N=z(["header","table"],"table"),k=b&&!x?0:_,$=a.useRef(null),O=a.useCallback(function(M){Dn(t,M),Dn($,M)},[]);a.useEffect(function(){function M(P){var A=P,j=A.currentTarget,ne=A.deltaX;ne&&(v({currentTarget:j,scrollLeft:j.scrollLeft+ne}),P.preventDefault())}var R=$.current;return R==null||R.addEventListener("wheel",M,{passive:!1}),function(){R==null||R.removeEventListener("wheel",M)}},[]);var K=a.useMemo(function(){return l.every(function(M){return M.width})},[l]),L=l[l.length-1],T={fixed:L?L.fixed:null,scrollbar:!0,onHeaderCell:function(){return{className:"".concat(S,"-cell-scrollbar")}}},C=a.useMemo(function(){return k?[].concat(me(o),[T]):o},[k,o]),p=a.useMemo(function(){return k?[].concat(me(l),[T]):l},[k,l]),y=a.useMemo(function(){var M=d.right,R=d.left;return g(g({},d),{},{left:s==="rtl"?[].concat(me(R.map(function(P){return P+k})),[0]):R,right:s==="rtl"?M:[].concat(me(M.map(function(P){return P+k})),[0]),isSticky:b})},[k,d,b]),w=Nr(i,u);return a.createElement("div",{style:g({overflow:"hidden"},b?{top:f,bottom:m}:{}),ref:O,className:te(n,W({},c,!!c))},a.createElement(N,{style:{tableLayout:"fixed",visibility:r||w?null:"hidden"}},(!r||!h||K)&&a.createElement(xt,{colWidths:w?[].concat(me(w),[k]):[],columCount:u+1,columns:p}),E(g(g({},I),{},{stickyOffsets:y,columns:C,flattenColumns:p}))))});const qn=a.memo(kr);var Lr=function(t){var n=t.cells,r=t.stickyOffsets,o=t.flattenColumns,l=t.rowComponent,i=t.cellComponent,u=t.onHeaderRow,d=t.index,s=ee(oe,["prefixCls","direction"]),x=s.prefixCls,f=s.direction,m;u&&(m=u(n.map(function(v){return v.column}),d));var c=Ze(n.map(function(v){return v.column}));return a.createElement(l,m,n.map(function(v,h){var E=v.column,I=hn(v.colStart,v.colEnd,o,r,f),H;return E&&E.onHeaderCell&&(H=v.column.onHeaderCell(E)),a.createElement(Pe,ae({},v,{scope:E.title?v.colSpan>1?"colgroup":"col":null,ellipsis:E.ellipsis,align:E.align,component:i,prefixCls:x,key:c[h]},I,{additionalProps:H,rowType:"header"}))}))};function Tr(e){var t=[];function n(i,u){var d=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0;t[d]=t[d]||[];var s=u,x=i.filter(Boolean).map(function(f){var m={key:f.key,className:f.className||"",children:f.title,column:f,colStart:s},c=1,v=f.children;return v&&v.length>0&&(c=n(v,s,d+1).reduce(function(h,E){return h+E},0),m.hasSubColumns=!0),"colSpan"in f&&(c=f.colSpan),"rowSpan"in f&&(m.rowSpan=f.rowSpan),m.colSpan=c,m.colEnd=m.colStart+c-1,t[d].push(m),s+=c,c});return x}n(e,0);for(var r=t.length,o=function(u){t[u].forEach(function(d){!("rowSpan"in d)&&!d.hasSubColumns&&(d.rowSpan=r-u)})},l=0;l<r;l+=1)o(l);return t}var Ir=function(t){var n=t.stickyOffsets,r=t.columns,o=t.flattenColumns,l=t.onHeaderRow,i=ee(oe,["prefixCls","getComponent"]),u=i.prefixCls,d=i.getComponent,s=a.useMemo(function(){return Tr(r)},[r]),x=d(["header","wrapper"],"thead"),f=d(["header","row"],"tr"),m=d(["header","cell"],"th");return a.createElement(x,{className:"".concat(u,"-thead")},s.map(function(c,v){var h=a.createElement(Lr,{key:v,flattenColumns:o,cells:c,stickyOffsets:n,rowComponent:f,cellComponent:m,onHeaderRow:l,index:v});return h}))};const Jn=Ke(Ir);function Qn(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";return typeof t=="number"?t:t.endsWith("%")?e*parseFloat(t)/100:null}function Hr(e,t,n){return a.useMemo(function(){if(t&&t>0){var r=0,o=0;e.forEach(function(m){var c=Qn(t,m.width);c?r+=c:o+=1});var l=Math.max(t,n),i=Math.max(l-r,o),u=o,d=i/o,s=0,x=e.map(function(m){var c=g({},m),v=Qn(t,c.width);if(v)c.width=v;else{var h=Math.floor(d);c.width=u===1?i:h,i-=h,u-=1}return s+=c.width,c});if(s<l){var f=l/s;i=l,x.forEach(function(m,c){var v=Math.floor(m.width*f);m.width=c===x.length-1?i:v,i-=v})}return[x,Math.max(s,l)]}return[e,t]},[e,t,n])}var _r=["children"],Mr=["fixed"];function Ct(e){return Ut(e).filter(function(t){return a.isValidElement(t)}).map(function(t){var n=t.key,r=t.props,o=r.children,l=ke(r,_r),i=g({key:n},l);return o&&(i.children=Ct(o)),i})}function yt(e){return e.filter(function(t){return t&&Ne(t)==="object"&&!t.hidden}).map(function(t){var n=t.children;return n&&n.length>0?g(g({},t),{},{children:yt(n)}):t})}function vn(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"key";return e.filter(function(n){return n&&Ne(n)==="object"}).reduce(function(n,r,o){var l=r.fixed,i=l===!0?"left":l,u="".concat(t,"-").concat(o),d=r.children;return d&&d.length>0?[].concat(me(n),me(vn(d,u).map(function(s){return g({fixed:i},s)}))):[].concat(me(n),[g(g({key:u},r),{},{fixed:i})])},[])}function Or(e){return e.map(function(t){var n=t.fixed,r=ke(t,Mr),o=n;return n==="left"?o="right":n==="right"&&(o="left"),g({fixed:o},r)})}function Kr(e,t){var n=e.prefixCls,r=e.columns,o=e.children,l=e.expandable,i=e.expandedKeys,u=e.columnTitle,d=e.getRowKey,s=e.onTriggerExpand,x=e.expandIcon,f=e.rowExpandable,m=e.expandIconColumnIndex,c=e.expandedRowOffset,v=c===void 0?0:c,h=e.direction,E=e.expandRowByClick,I=e.columnWidth,H=e.fixed,S=e.scrollWidth,_=e.clientWidth,b=a.useMemo(function(){var C=r||Ct(o)||[];return yt(C.slice())},[r,o]),z=a.useMemo(function(){if(l){var C=b.slice();if(!C.includes(Se)){var p=m||0;p>=0&&(p||H==="left"||!H)&&C.splice(p,0,Se),H==="right"&&C.splice(b.length,0,Se)}var y=C.indexOf(Se);C=C.filter(function(P,A){return P!==Se||A===y});var w=b[y],M;H?M=H:M=w?w.fixed:null;var R=W(W(W(W(W(W({},pt,{className:"".concat(n,"-expand-icon-col"),columnType:"EXPAND_COLUMN"}),"title",u),"fixed",M),"className","".concat(n,"-row-expand-icon-cell")),"width",I),"render",function(A,j,ne){var pe=d(j,ne),xe=i.has(pe),de=f?f(j):!0,V=x({prefixCls:n,expanded:xe,expandable:de,record:j,onExpand:s});return E?a.createElement("span",{onClick:function(le){return le.stopPropagation()}},V):V});return C.map(function(P,A){var j=P===Se?R:P;return A<v?g(g({},j),{},{fixed:j.fixed||"left"}):j})}return b.filter(function(P){return P!==Se})},[l,b,d,i,x,h,v]),N=a.useMemo(function(){var C=z;return t&&(C=t(C)),C.length||(C=[{render:function(){return null}}]),C},[t,z,h]),k=a.useMemo(function(){return h==="rtl"?Or(vn(N)):vn(N)},[N,h,S]),$=a.useMemo(function(){for(var C=-1,p=k.length-1;p>=0;p-=1){var y=k[p].fixed;if(y==="left"||y===!0){C=p;break}}if(C>=0)for(var w=0;w<=C;w+=1){var M=k[w].fixed;if(M!=="left"&&M!==!0)return!0}var R=k.findIndex(function(j){var ne=j.fixed;return ne==="right"});if(R>=0)for(var P=R;P<k.length;P+=1){var A=k[P].fixed;if(A!=="right")return!0}return!1},[k]),O=Hr(k,S,_),K=U(O,2),L=K[0],T=K[1];return[N,L,T,$]}function Pr(e,t,n){var r=Rr(e),o=r.expandIcon,l=r.expandedRowKeys,i=r.defaultExpandedRowKeys,u=r.defaultExpandAllRows,d=r.expandedRowRender,s=r.onExpand,x=r.onExpandedRowsChange,f=r.childrenColumnName,m=o||mr,c=f||"children",v=a.useMemo(function(){return d?"row":e.expandable&&e.internalHooks===Qe&&e.expandable.__PARENT_RENDER_ICON__||t.some(function(b){return b&&Ne(b)==="object"&&b[c]})?"nest":!1},[!!d,t]),h=a.useState(function(){return i||(u?pr(t,n,c):[])}),E=U(h,2),I=E[0],H=E[1],S=a.useMemo(function(){return new Set(l||I||[])},[l,I]),_=a.useCallback(function(b){var z=n(b,t.indexOf(b)),N,k=S.has(z);k?(S.delete(z),N=me(S)):N=[].concat(me(S),[z]),H(N),s&&s(!k,b),x&&x(N)},[n,S,t,s,x]);return[r,v,S,m,c,_]}function Fr(e,t,n){var r=e.map(function(o,l){return hn(l,l,e,t,n)});return rt(function(){return r},[r],function(o,l){return!at(o,l)})}function zr(e){var t=a.useRef(e),n=a.useState({}),r=U(n,2),o=r[1],l=a.useRef(null),i=a.useRef([]);function u(d){i.current.push(d);var s=Promise.resolve();l.current=s,s.then(function(){if(l.current===s){var x=i.current,f=t.current;i.current=[],x.forEach(function(m){t.current=m(t.current)}),l.current=null,f!==t.current&&o({})}})}return a.useEffect(function(){return function(){l.current=null}},[]),[t.current,u]}function Br(e){var t=a.useRef(null),n=a.useRef();function r(){window.clearTimeout(n.current)}function o(i){t.current=i,r(),n.current=window.setTimeout(function(){t.current=null,n.current=void 0},100)}function l(){return t.current}return a.useEffect(function(){return r},[]),[o,l]}function $r(){var e=a.useState(-1),t=U(e,2),n=t[0],r=t[1],o=a.useState(-1),l=U(o,2),i=l[0],u=l[1],d=a.useCallback(function(s,x){r(s),u(x)},[]);return[n,i,d]}var Zn=Yt()?window:null;function Wr(e,t){var n=Ne(e)==="object"?e:{},r=n.offsetHeader,o=r===void 0?0:r,l=n.offsetSummary,i=l===void 0?0:l,u=n.offsetScroll,d=u===void 0?0:u,s=n.getContainer,x=s===void 0?function(){return Zn}:s,f=x()||Zn,m=!!e;return a.useMemo(function(){return{isSticky:m,stickyClassName:m?"".concat(t,"-sticky-holder"):"",offsetHeader:o,offsetSummary:i,offsetScroll:d,container:f}},[m,d,o,i,t,f])}function Ar(e,t,n){var r=a.useMemo(function(){var o=t.length,l=function(s,x,f){for(var m=[],c=0,v=s;v!==x;v+=f)m.push(c),t[v].fixed&&(c+=e[v]||0);return m},i=l(0,o,1),u=l(o-1,-1,-1).reverse();return n==="rtl"?{left:u,right:i}:{left:i,right:u}},[e,t,n]);return r}function et(e){var t=e.className,n=e.children;return a.createElement("div",{className:t},n)}function nt(e){var t=xn(e),n=t.getBoundingClientRect(),r=document.documentElement;return{left:n.left+(window.pageXOffset||r.scrollLeft)-(r.clientLeft||document.body.clientLeft||0),top:n.top+(window.pageYOffset||r.scrollTop)-(r.clientTop||document.body.clientTop||0)}}var Xr=function(t,n){var r,o,l=t.scrollBodyRef,i=t.onScroll,u=t.offsetScroll,d=t.container,s=t.direction,x=ee(oe,"prefixCls"),f=((r=l.current)===null||r===void 0?void 0:r.scrollWidth)||0,m=((o=l.current)===null||o===void 0?void 0:o.clientWidth)||0,c=f&&m*(m/f),v=a.useRef(),h=zr({scrollLeft:0,isHiddenScrollBar:!0}),E=U(h,2),I=E[0],H=E[1],S=a.useRef({delta:0,x:0}),_=a.useState(!1),b=U(_,2),z=b[0],N=b[1],k=a.useRef(null);a.useEffect(function(){return function(){dn.cancel(k.current)}},[]);var $=function(){N(!1)},O=function(p){p.persist(),S.current.delta=p.pageX-I.scrollLeft,S.current.x=0,N(!0),p.preventDefault()},K=function(p){var y,w=p||((y=window)===null||y===void 0?void 0:y.event),M=w.buttons;if(!z||M===0){z&&N(!1);return}var R=S.current.x+p.pageX-S.current.x-S.current.delta,P=s==="rtl";R=Math.max(P?c-m:0,Math.min(P?0:m-c,R));var A=!P||Math.abs(R)+Math.abs(c)<m;A&&(i({scrollLeft:R/m*(f+2)}),S.current.x=p.pageX)},L=function(){dn.cancel(k.current),k.current=dn(function(){if(l.current){var p=nt(l.current).top,y=p+l.current.offsetHeight,w=d===window?document.documentElement.scrollTop+window.innerHeight:nt(d).top+d.clientHeight;y-Un()<=w||p>=w-u?H(function(M){return g(g({},M),{},{isHiddenScrollBar:!0})}):H(function(M){return g(g({},M),{},{isHiddenScrollBar:!1})})}})},T=function(p){H(function(y){return g(g({},y),{},{scrollLeft:p/f*m||0})})};return a.useImperativeHandle(n,function(){return{setScrollLeft:T,checkScrollBarVisible:L}}),a.useEffect(function(){var C=jn(document.body,"mouseup",$,!1),p=jn(document.body,"mousemove",K,!1);return L(),function(){C.remove(),p.remove()}},[c,z]),a.useEffect(function(){if(l.current){for(var C=[],p=xn(l.current);p;)C.push(p),p=p.parentElement;return C.forEach(function(y){return y.addEventListener("scroll",L,!1)}),window.addEventListener("resize",L,!1),window.addEventListener("scroll",L,!1),d.addEventListener("scroll",L,!1),function(){C.forEach(function(y){return y.removeEventListener("scroll",L)}),window.removeEventListener("resize",L),window.removeEventListener("scroll",L),d.removeEventListener("scroll",L)}}},[d]),a.useEffect(function(){I.isHiddenScrollBar||H(function(C){var p=l.current;return p?g(g({},C),{},{scrollLeft:p.scrollLeft/p.scrollWidth*p.clientWidth}):C})},[I.isHiddenScrollBar]),f<=m||!c||I.isHiddenScrollBar?null:a.createElement("div",{style:{height:Un(),width:m,bottom:u},className:"".concat(x,"-sticky-scroll")},a.createElement("div",{onMouseDown:O,ref:v,className:te("".concat(x,"-sticky-scroll-bar"),W({},"".concat(x,"-sticky-scroll-bar-active"),z)),style:{width:"".concat(c,"px"),transform:"translate3d(".concat(I.scrollLeft,"px, 0, 0)")}}))};const Vr=a.forwardRef(Xr);var ht="rc-table",Dr=[],jr={};function Ur(){return"No Data"}function Yr(e,t){var n=g({rowKey:"key",prefixCls:ht,emptyText:Ur},e),r=n.prefixCls,o=n.className,l=n.rowClassName,i=n.style,u=n.data,d=n.rowKey,s=n.scroll,x=n.tableLayout,f=n.direction,m=n.title,c=n.footer,v=n.summary,h=n.caption,E=n.id,I=n.showHeader,H=n.components,S=n.emptyText,_=n.onRow,b=n.onHeaderRow,z=n.onScroll,N=n.internalHooks,k=n.transformColumns,$=n.internalRefs,O=n.tailor,K=n.getContainerWidth,L=n.sticky,T=n.rowHoverable,C=T===void 0?!0:T,p=u||Dr,y=!!p.length,w=N===Qe,M=a.useCallback(function(F,B){return pn(H,F)||B},[H]),R=a.useMemo(function(){return typeof d=="function"?d:function(F){var B=F&&F[d];return B}},[d]),P=M(["body"]),A=$r(),j=U(A,3),ne=j[0],pe=j[1],xe=j[2],de=Pr(n,p,R),V=U(de,6),X=V[0],le=V[1],Ce=V[2],G=V[3],Y=V[4],re=V[5],fe=s==null?void 0:s.x,ze=a.useState(0),Le=U(ze,2),he=Le[0],Te=Le[1],Be=Kr(g(g(g({},n),X),{},{expandable:!!X.expandedRowRender,columnTitle:X.columnTitle,expandedKeys:Ce,getRowKey:R,onTriggerExpand:re,expandIcon:G,expandIconColumnIndex:X.expandIconColumnIndex,direction:f,scrollWidth:w&&O&&typeof fe=="number"?fe:null,clientWidth:he}),w?k:null),ye=U(Be,4),ge=ye[0],D=ye[1],ce=ye[2],$e=ye[3],J=ce??fe,wn=a.useMemo(function(){return{columns:ge,flattenColumns:D}},[ge,D]),Ie=a.useRef(),nn=a.useRef(),q=a.useRef(),Sn=a.useRef();a.useImperativeHandle(t,function(){return{nativeElement:Ie.current,scrollTo:function(B){var Q;if(q.current instanceof HTMLElement){var ie=B.index,Z=B.top,Oe=B.key;if(er(Z)){var Re;(Re=q.current)===null||Re===void 0||Re.scrollTo({top:Z})}else{var Ee,Ae=Oe??R(p[ie]);(Ee=q.current.querySelector('[data-row-key="'.concat(Ae,'"]')))===null||Ee===void 0||Ee.scrollIntoView()}}else(Q=q.current)!==null&&Q!==void 0&&Q.scrollTo&&q.current.scrollTo(B)}}});var Rn=a.useRef(),wt=a.useState(!1),En=U(wt,2),St=En[0],Xe=En[1],Rt=a.useState(!1),bn=U(Rt,2),Et=bn[0],Ve=bn[1],bt=a.useState(new Map),Nn=U(bt,2),Nt=Nn[0],kt=Nn[1],Lt=Ze(D),kn=Lt.map(function(F){return Nt.get(F)}),De=a.useMemo(function(){return kn},[kn.join("_")]),je=Ar(De,D,f),se=s&&fn(s.y),ve=s&&fn(J)||!!X.fixed,He=ve&&D.some(function(F){var B=F.fixed;return B}),tn=a.useRef(),_e=Wr(L,r),we=_e.isSticky,Tt=_e.offsetHeader,It=_e.offsetSummary,Ht=_e.offsetScroll,_t=_e.stickyClassName,Mt=_e.container,ue=a.useMemo(function(){return v==null?void 0:v(p)},[v,p]),We=(se||we)&&a.isValidElement(ue)&&ue.type===en&&ue.props.fixed,rn,Ue,an;se&&(Ue={overflowY:y?"scroll":"auto",maxHeight:s.y}),ve&&(rn={overflowX:"auto"},se||(Ue={overflowY:"hidden"}),an={width:J===!0?"auto":J,minWidth:"100%"});var Ln=a.useCallback(function(F,B){kt(function(Q){if(Q.get(F)!==B){var ie=new Map(Q);return ie.set(F,B),ie}return Q})},[]),Ot=Br(),Tn=U(Ot,2),Kt=Tn[0],In=Tn[1];function Ye(F,B){B&&(typeof B=="function"?B(F):B.scrollLeft!==F&&(B.scrollLeft=F,B.scrollLeft!==F&&setTimeout(function(){B.scrollLeft=F},0)))}var Me=be(function(F){var B=F.currentTarget,Q=F.scrollLeft,ie=f==="rtl",Z=typeof Q=="number"?Q:B.scrollLeft,Oe=B||jr;if(!In()||In()===Oe){var Re;Kt(Oe),Ye(Z,nn.current),Ye(Z,q.current),Ye(Z,Rn.current),Ye(Z,(Re=tn.current)===null||Re===void 0?void 0:Re.setScrollLeft)}var Ee=B||nn.current;if(Ee){var Ae=w&&O&&typeof J=="number"?J:Ee.scrollWidth,un=Ee.clientWidth;if(Ae===un){Xe(!1),Ve(!1);return}ie?(Xe(-Z<Ae-un),Ve(-Z>0)):(Xe(Z>0),Ve(Z<Ae-un))}}),Pt=be(function(F){Me(F),z==null||z(F)}),Hn=function(){if(ve&&q.current){var B;Me({currentTarget:xn(q.current),scrollLeft:(B=q.current)===null||B===void 0?void 0:B.scrollLeft})}else Xe(!1),Ve(!1)},Ft=function(B){var Q,ie=B.width;(Q=tn.current)===null||Q===void 0||Q.checkScrollBarVisible();var Z=Ie.current?Ie.current.offsetWidth:ie;w&&K&&Ie.current&&(Z=K(Ie.current,Z)||Z),Z!==he&&(Hn(),Te(Z))},_n=a.useRef(!1);a.useEffect(function(){_n.current&&Hn()},[ve,u,ge.length]),a.useEffect(function(){_n.current=!0},[]);var zt=a.useState(0),Mn=U(zt,2),Ge=Mn[0],On=Mn[1],Bt=a.useState(!0),Kn=U(Bt,2),Pn=Kn[0],$t=Kn[1];ot(function(){(!O||!w)&&(q.current instanceof Element?On(Yn(q.current).width):On(Yn(Sn.current).width)),$t(Gt("position","sticky"))},[]),a.useEffect(function(){w&&$&&($.body.current=q.current)});var Wt=a.useCallback(function(F){return a.createElement(a.Fragment,null,a.createElement(Jn,F),We==="top"&&a.createElement(Je,F,ue))},[We,ue]),At=a.useCallback(function(F){return a.createElement(Je,F,ue)},[ue]),Fn=M(["table"],"table"),qe=a.useMemo(function(){return x||(He?J==="max-content"?"auto":"fixed":se||we||D.some(function(F){var B=F.ellipsis;return B})?"fixed":"auto")},[se,He,D,x,we]),on,ln={colWidths:De,columCount:D.length,stickyOffsets:je,onHeaderRow:b,fixHeader:se,scroll:s},zn=a.useMemo(function(){return y?null:typeof S=="function"?S():S},[y,S]),Bn=a.createElement(wr,{data:p,measureColumnWidth:se||ve||we}),$n=a.createElement(xt,{colWidths:D.map(function(F){var B=F.width;return B}),columns:D}),Wn=h!=null?a.createElement("caption",{className:"".concat(r,"-caption")},h):void 0,Xt=Gn(n,{data:!0}),An=Gn(n,{aria:!0});if(se||we){var cn;typeof P=="function"?(cn=P(p,{scrollbarSize:Ge,ref:q,onScroll:Me}),ln.colWidths=D.map(function(F,B){var Q=F.width,ie=B===D.length-1?Q-Ge:Q;return typeof ie=="number"&&!Number.isNaN(ie)?ie:0})):cn=a.createElement("div",{style:g(g({},rn),Ue),onScroll:Pt,ref:q,className:te("".concat(r,"-body"))},a.createElement(Fn,ae({style:g(g({},an),{},{tableLayout:qe})},An),Wn,$n,Bn,!We&&ue&&a.createElement(Je,{stickyOffsets:je,flattenColumns:D},ue)));var Xn=g(g(g({noData:!p.length,maxContentScroll:ve&&J==="max-content"},ln),wn),{},{direction:f,stickyClassName:_t,onScroll:Me});on=a.createElement(a.Fragment,null,I!==!1&&a.createElement(qn,ae({},Xn,{stickyTopOffset:Tt,className:"".concat(r,"-header"),ref:nn}),Wt),cn,We&&We!=="top"&&a.createElement(qn,ae({},Xn,{stickyBottomOffset:It,className:"".concat(r,"-summary"),ref:Rn}),At),we&&q.current&&q.current instanceof Element&&a.createElement(Vr,{ref:tn,offsetScroll:Ht,scrollBodyRef:q,onScroll:Me,container:Mt,direction:f}))}else on=a.createElement("div",{style:g(g({},rn),Ue),className:te("".concat(r,"-content")),onScroll:Me,ref:q},a.createElement(Fn,ae({style:g(g({},an),{},{tableLayout:qe})},An),Wn,$n,I!==!1&&a.createElement(Jn,ae({},ln,wn)),Bn,ue&&a.createElement(Je,{stickyOffsets:je,flattenColumns:D},ue)));var sn=a.createElement("div",ae({className:te(r,o,W(W(W(W(W(W(W(W(W(W({},"".concat(r,"-rtl"),f==="rtl"),"".concat(r,"-ping-left"),St),"".concat(r,"-ping-right"),Et),"".concat(r,"-layout-fixed"),x==="fixed"),"".concat(r,"-fixed-header"),se),"".concat(r,"-fixed-column"),He),"".concat(r,"-fixed-column-gapped"),He&&$e),"".concat(r,"-scroll-horizontal"),ve),"".concat(r,"-has-fix-left"),D[0]&&D[0].fixed),"".concat(r,"-has-fix-right"),D[D.length-1]&&D[D.length-1].fixed==="right")),style:i,id:E,ref:Ie},Xt),m&&a.createElement(et,{className:"".concat(r,"-title")},m(p)),a.createElement("div",{ref:Sn,className:"".concat(r,"-container")},on),c&&a.createElement(et,{className:"".concat(r,"-footer")},c(p)));ve&&(sn=a.createElement(Cn,{onResize:Ft},sn));var Vn=Fr(D,je,f),Vt=a.useMemo(function(){return{scrollX:J,prefixCls:r,getComponent:M,scrollbarSize:Ge,direction:f,fixedInfoList:Vn,isSticky:we,supportSticky:Pn,componentWidth:he,fixHeader:se,fixColumn:He,horizonScroll:ve,tableLayout:qe,rowClassName:l,expandedRowClassName:X.expandedRowClassName,expandIcon:G,expandableType:le,expandRowByClick:X.expandRowByClick,expandedRowRender:X.expandedRowRender,expandedRowOffset:X.expandedRowOffset,onTriggerExpand:re,expandIconColumnIndex:X.expandIconColumnIndex,indentSize:X.indentSize,allColumnsFixedLeft:D.every(function(F){return F.fixed==="left"}),emptyNode:zn,columns:ge,flattenColumns:D,onColumnResize:Ln,colWidths:De,hoverStartRow:ne,hoverEndRow:pe,onHover:xe,rowExpandable:X.rowExpandable,onRow:_,getRowKey:R,expandedKeys:Ce,childrenColumnName:Y,rowHoverable:C}},[J,r,M,Ge,f,Vn,we,Pn,he,se,He,ve,qe,l,X.expandedRowClassName,G,le,X.expandRowByClick,X.expandedRowRender,X.expandedRowOffset,re,X.expandIconColumnIndex,X.indentSize,zn,ge,D,Ln,De,ne,pe,xe,X.rowExpandable,_,R,Ce,Y,C]);return a.createElement(oe.Provider,{value:Vt},sn)}var Gr=a.forwardRef(Yr);function qr(e){return lt(Gr,e)}var Fe=qr();Fe.EXPAND_COLUMN=Se;Fe.INTERNAL_HOOKS=Qe;Fe.Column=fr;Fe.ColumnGroup=vr;Fe.Summary=dr;var gn=mn(null),gt=mn(null);function Jr(e,t,n){var r=t||1;return n[e+r]-(n[e]||0)}function Qr(e){var t=e.rowInfo,n=e.column,r=e.colIndex,o=e.indent,l=e.index,i=e.component,u=e.renderIndex,d=e.record,s=e.style,x=e.className,f=e.inverse,m=e.getHeight,c=n.render,v=n.dataIndex,h=n.className,E=n.width,I=ee(gt,["columnsOffset"]),H=I.columnsOffset,S=mt(t,n,r,o,l),_=S.key,b=S.fixedInfo,z=S.appendCellNode,N=S.additionalCellProps,k=N.style,$=N.colSpan,O=$===void 0?1:$,K=N.rowSpan,L=K===void 0?1:K,T=r-1,C=Jr(T,O,H),p=O>1?E-C:0,y=g(g(g({},k),s),{},{flex:"0 0 ".concat(C,"px"),width:"".concat(C,"px"),marginRight:p,pointerEvents:"auto"}),w=a.useMemo(function(){return f?L<=1:O===0||L===0||L>1},[L,O,f]);w?y.visibility="hidden":f&&(y.height=m==null?void 0:m(L));var M=w?function(){return null}:c,R={};return(L===0||O===0)&&(R.rowSpan=1,R.colSpan=1),a.createElement(Pe,ae({className:te(h,x),ellipsis:n.ellipsis,align:n.align,scope:n.rowScope,component:i,prefixCls:t.prefixCls,key:_,record:d,index:l,renderIndex:u,dataIndex:v,render:M,shouldCellUpdate:n.shouldCellUpdate},b,{appendNode:z,additionalProps:g(g({},N),{},{style:y},R)}))}var Zr=["data","index","className","rowKey","style","extra","getHeight"],ea=a.forwardRef(function(e,t){var n=e.data,r=e.index,o=e.className,l=e.rowKey,i=e.style,u=e.extra,d=e.getHeight,s=ke(e,Zr),x=n.record,f=n.indent,m=n.index,c=ee(oe,["prefixCls","flattenColumns","fixColumn","componentWidth","scrollX"]),v=c.scrollX,h=c.flattenColumns,E=c.prefixCls,I=c.fixColumn,H=c.componentWidth,S=ee(gn,["getComponent"]),_=S.getComponent,b=dt(x,l,r,f),z=_(["body","row"],"div"),N=_(["body","cell"],"div"),k=b.rowSupportExpand,$=b.expanded,O=b.rowProps,K=b.expandedRowRender,L=b.expandedRowClassName,T;if(k&&$){var C=K(x,r,f+1,$),p=vt(L,x,r,f),y={};I&&(y={style:W({},"--virtual-width","".concat(H,"px"))});var w="".concat(E,"-expanded-row-cell");T=a.createElement(z,{className:te("".concat(E,"-expanded-row"),"".concat(E,"-expanded-row-level-").concat(f+1),p)},a.createElement(Pe,{component:N,prefixCls:E,className:te(w,W({},"".concat(w,"-fixed"),I)),additionalProps:y},C))}var M=g(g({},i),{},{width:v});u&&(M.position="absolute",M.pointerEvents="none");var R=a.createElement(z,ae({},O,s,{"data-row-key":l,ref:k?null:t,className:te(o,"".concat(E,"-row"),O==null?void 0:O.className,W({},"".concat(E,"-row-extra"),u)),style:g(g({},M),O==null?void 0:O.style)}),h.map(function(P,A){return a.createElement(Qr,{key:A,component:N,rowInfo:b,column:P,colIndex:A,indent:f,index:r,renderIndex:m,record:x,inverse:u,getHeight:d})}));return k?a.createElement("div",{ref:t},R,T):R}),tt=Ke(ea),na=a.forwardRef(function(e,t){var n=e.data,r=e.onScroll,o=ee(oe,["flattenColumns","onColumnResize","getRowKey","prefixCls","expandedKeys","childrenColumnName","scrollX","direction"]),l=o.flattenColumns,i=o.onColumnResize,u=o.getRowKey,d=o.expandedKeys,s=o.prefixCls,x=o.childrenColumnName,f=o.scrollX,m=o.direction,c=ee(gn),v=c.sticky,h=c.scrollY,E=c.listItemHeight,I=c.getComponent,H=c.onScroll,S=a.useRef(),_=ut(n,x,d,u),b=a.useMemo(function(){var T=0;return l.map(function(C){var p=C.width,y=C.key;return T+=p,[y,p,T]})},[l]),z=a.useMemo(function(){return b.map(function(T){return T[2]})},[b]);a.useEffect(function(){b.forEach(function(T){var C=U(T,2),p=C[0],y=C[1];i(p,y)})},[b]),a.useImperativeHandle(t,function(){var T,C={scrollTo:function(y){var w;(w=S.current)===null||w===void 0||w.scrollTo(y)},nativeElement:(T=S.current)===null||T===void 0?void 0:T.nativeElement};return Object.defineProperty(C,"scrollLeft",{get:function(){var y;return((y=S.current)===null||y===void 0?void 0:y.getScrollInfo().x)||0},set:function(y){var w;(w=S.current)===null||w===void 0||w.scrollTo({left:y})}}),C});var N=function(C,p){var y,w=(y=_[p])===null||y===void 0?void 0:y.record,M=C.onCell;if(M){var R,P=M(w,p);return(R=P==null?void 0:P.rowSpan)!==null&&R!==void 0?R:1}return 1},k=function(C){var p=C.start,y=C.end,w=C.getSize,M=C.offsetY;if(y<0)return null;for(var R=l.filter(function(G){return N(G,p)===0}),P=p,A=function(Y){if(R=R.filter(function(re){return N(re,Y)===0}),!R.length)return P=Y,1},j=p;j>=0&&!A(j);j-=1);for(var ne=l.filter(function(G){return N(G,y)!==1}),pe=y,xe=function(Y){if(ne=ne.filter(function(re){return N(re,Y)!==1}),!ne.length)return pe=Math.max(Y-1,y),1},de=y;de<_.length&&!xe(de);de+=1);for(var V=[],X=function(Y){var re=_[Y];if(!re)return 1;l.some(function(fe){return N(fe,Y)>1})&&V.push(Y)},le=P;le<=pe;le+=1)X(le);var Ce=V.map(function(G){var Y=_[G],re=u(Y.record,G),fe=function(he){var Te=G+he-1,Be=u(_[Te].record,Te),ye=w(re,Be);return ye.bottom-ye.top},ze=w(re);return a.createElement(tt,{key:G,data:Y,rowKey:re,index:G,style:{top:-M+ze.top},extra:!0,getHeight:fe})});return Ce},$=a.useMemo(function(){return{columnsOffset:z}},[z]),O="".concat(s,"-tbody"),K=I(["body","wrapper"]),L={};return v&&(L.position="sticky",L.bottom=0,Ne(v)==="object"&&v.offsetScroll&&(L.bottom=v.offsetScroll)),a.createElement(gt.Provider,{value:$},a.createElement(qt,{fullHeight:!1,ref:S,prefixCls:"".concat(O,"-virtual"),styles:{horizontalScrollBar:L},className:O,height:h,itemHeight:E||24,data:_,itemKey:function(C){return u(C.record)},component:K,scrollWidth:f,direction:m,onVirtualScroll:function(C){var p,y=C.x;r({currentTarget:(p=S.current)===null||p===void 0?void 0:p.nativeElement,scrollLeft:y})},onScroll:H,extraRender:k},function(T,C,p){var y=u(T.record,C);return a.createElement(tt,{data:T,rowKey:y,index:C,style:p.style})}))}),ta=Ke(na),ra=function(t,n){var r=n.ref,o=n.onScroll;return a.createElement(ta,{ref:r,data:t,onScroll:o})};function aa(e,t){var n=e.data,r=e.columns,o=e.scroll,l=e.sticky,i=e.prefixCls,u=i===void 0?ht:i,d=e.className,s=e.listItemHeight,x=e.components,f=e.onScroll,m=o||{},c=m.x,v=m.y;typeof c!="number"&&(c=1),typeof v!="number"&&(v=500);var h=be(function(H,S){return pn(x,H)||S}),E=be(f),I=a.useMemo(function(){return{sticky:l,scrollY:v,listItemHeight:s,getComponent:h,onScroll:E}},[l,v,s,h,E]);return a.createElement(gn.Provider,{value:I},a.createElement(Fe,ae({},e,{className:te(d,"".concat(u,"-virtual")),scroll:g(g({},o),{},{x:c}),components:g(g({},x),{},{body:n!=null&&n.length?ra:void 0}),columns:r,internalHooks:Qe,tailor:!0,ref:t})))}var oa=a.forwardRef(aa);function la(e){return lt(oa,e)}la();export{Se as E,dr as F,pt as I,la as a,Qe as b,Ct as c,qr as g};
